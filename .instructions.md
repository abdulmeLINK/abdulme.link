# Frontend Component Instructions

---
applyTo: "resources/js/components/**/*.js"
---

## Component Development Rules

### Structure
- Export default ES6 class
- Constructor accepts (element, options)
- Include init(), destroy(), handleStateChange() methods
- Keep under 200 lines maximum

### Template
```javascript
export default class ComponentName {
    constructor(element, options = {}) {
        this.element = element;
        this.options = { ...this.defaultOptions, ...options };
        this.state = new Proxy({}, { set: this.handleStateChange.bind(this) });
        this.init();
    }
    
    get defaultOptions() { return {}; }
    
    init() {
        this.setupEventListeners();
        this.render();
    }
    
    handleStateChange(target, property, value) {
        this.render();
        return true;
    }
    
    destroy() {
        // Cleanup event listeners, timers
    }
}
```

### macOS Components
- **Desktop**: Wallpaper management, icon positioning, context menus
- **Dock**: Magnification on hover, drag-to-rearrange, indicator dots
- **Window**: Draggable by titlebar, resizable corners, red/yellow/green buttons
- **MenuBar**: Real-time clock, system status indicators, dropdown menus

### Animation Standards
- Use GSAP for complex animations (dock magnification, window movements)
- CSS transitions for simple effects (hover states, color changes)
- Default duration: 300ms with cubic-bezier(0.4,0,0.2,1) easing
- Respect prefers-reduced-motion media query

### Event Communication
- Use EventBus for inter-component communication
- Emit events with descriptive names: 'wallpaper:changed', 'dock:iconAdded'
- Listen for events in init(), remove in destroy()
- No direct component references or method calls