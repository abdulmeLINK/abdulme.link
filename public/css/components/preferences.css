:root{--pref-accent:var(--accent-color,#007aff);--pref-bg:#fff;--pref-sidebar-bg:#f5f5f7;--pref-border:#d2d2d7;--pref-text:#1d1d1f;--pref-text-secondary:#86868b;--pref-hover:#e8e8ed;--pref-active:var(--accent-color,#007aff)}@media (prefers-color-scheme:dark){:root{--pref-bg:#1c1c1e;--pref-sidebar-bg:#2c2c2e;--pref-border:#38383a;--pref-text:#f5f5f7;--pref-text-secondary:#98989d;--pref-hover:#3a3a3c}}.preferences-container{background:var(--pref-bg);display:flex;height:100%;overflow:hidden;width:100%}.preferences-sidebar{background:var(--pref-sidebar-bg);border-right:1px solid var(--pref-border);overflow-y:auto;padding:20px 0;width:200px}.preferences-content{flex:1;overflow-y:auto;padding:30px 40px}.preferences-tab{align-items:center;background:transparent;border:none;border-left:3px solid transparent;color:var(--pref-text);cursor:pointer;display:flex;font-size:14px;gap:12px;padding:10px 20px;transition:all .2s cubic-bezier(.4,0,.2,1);width:100%}.preferences-tab.active,.preferences-tab:hover{background:var(--pref-hover)}.preferences-tab.active{border-left-color:var(--pref-active);font-weight:600}.tab-icon{font-size:20px}.tab-name{flex:1}.preferences-tab-content h2{color:var(--pref-text);font-size:28px;font-weight:600;margin:0 0 30px}.preference-group{border-bottom:1px solid var(--pref-border);margin-bottom:25px;padding-bottom:25px}.preference-group:last-child{border-bottom:none}.preference-group label{color:var(--pref-text);display:block;font-size:14px;font-weight:500;margin-bottom:10px}.value-label{color:var(--pref-text-secondary);float:right;font-weight:400}.preference-group input[type=checkbox]{cursor:pointer;height:18px;margin-right:8px;width:18px}.preference-group input[type=color]{height:40px;width:80px}.preference-group input[type=color],.preference-group select{border:1px solid var(--pref-border);border-radius:8px;cursor:pointer}.preference-group select{background:var(--pref-bg);color:var(--pref-text);font-size:14px;max-width:300px;padding:10px 12px;transition:border-color .2s;width:100%}.preference-group select:focus,.preference-group select:hover{border-color:var(--pref-active)}.preference-group select:focus{box-shadow:0 0 0 3px rgba(0,122,255,.1);outline:none}.slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:var(--pref-border);border-radius:3px;cursor:pointer;height:6px;max-width:400px;outline:none;width:100%}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:var(--pref-active);border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);cursor:pointer;height:20px;-webkit-transition:transform .2s;transition:transform .2s;width:20px}.slider::-webkit-slider-thumb:hover{transform:scale(1.1)}.slider::-moz-range-thumb{background:var(--pref-active);border:none;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2);cursor:pointer;height:20px;width:20px}.dock-position-selector,.icon-size-preview,.theme-selector{display:flex;gap:10px}.icon-size-btn,.position-btn,.theme-btn{background:var(--pref-bg);border:2px solid var(--pref-border);border-radius:8px;color:var(--pref-text);cursor:pointer;flex:1;font-size:14px;font-weight:500;padding:12px 20px;transition:all .2s cubic-bezier(.4,0,.2,1)}.icon-size-btn:hover,.position-btn:hover,.theme-btn:hover{background:rgba(0,122,255,.05);border-color:var(--pref-active)}.icon-size-btn.active,.position-btn.active,.theme-btn.active{background:var(--pref-active);border-color:var(--pref-active);color:#fff}.btn-danger,.btn-primary,.btn-secondary{border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;margin-right:10px;padding:10px 20px;transition:all .2s cubic-bezier(.4,0,.2,1)}.btn-primary{background:var(--pref-active);color:#fff}.btn-primary:hover{opacity:.9;transform:translateY(-1px)}.btn-secondary{background:var(--pref-border);color:var(--pref-text)}.btn-secondary:hover{background:var(--pref-hover)}.btn-danger{background:#ff3b30;color:#fff}.btn-danger:hover{opacity:.9}.preferences-error{align-items:center;color:var(--pref-text-secondary);display:flex;flex-direction:column;height:100%;justify-content:center;text-align:center;width:100%}.preferences-error h2{color:var(--pref-text);margin-bottom:10px}@media (max-width:768px){.preferences-container{flex-direction:column}.preferences-sidebar{border-bottom:1px solid var(--pref-border);border-right:none;display:flex;overflow-x:auto;padding:10px 0;width:100%}.preferences-tab{border-bottom:3px solid transparent;border-left:none;flex-direction:column;min-width:80px;padding:10px;text-align:center}.preferences-tab.active{border-bottom-color:var(--pref-active);border-left:none}.tab-icon{font-size:24px}.tab-name{font-size:12px}.preferences-content{padding:20px}.dock-position-selector,.icon-size-preview,.theme-selector{flex-direction:column}.slider{max-width:100%}}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.preferences-tab-content{animation:fadeIn .3s cubic-bezier(.4,0,.2,1)}.wallpaper-gallery-group{border-bottom:none;padding-bottom:0}.wallpaper-gallery-note{color:var(--pref-text-secondary);font-size:13px;margin-bottom:15px}.wallpaper-gallery{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));margin-top:15px}.wallpaper-item{aspect-ratio:16/10;background:var(--pref-sidebar-bg);border:3px solid transparent;border-radius:8px;cursor:pointer;overflow:hidden;position:relative;transition:all .2s cubic-bezier(.4,0,.2,1)}.wallpaper-item:hover{box-shadow:0 8px 20px rgba(0,0,0,.15);transform:scale(1.05)}.wallpaper-item.selected{border-color:var(--pref-active);box-shadow:0 0 0 1px var(--pref-active),0 8px 20px rgba(0,122,255,.3)}.wallpaper-item img{display:block;height:100%;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;-o-object-fit:cover;object-fit:cover;width:100%}.wallpaper-item img[src*=thumbnails]{background:linear-gradient(135deg,#2a2a2a,#1a1a1a)}.wallpaper-info{background:linear-gradient(0deg,rgba(0,0,0,.8),transparent);bottom:0;color:#fff;left:0;opacity:0;padding:8px;position:absolute;right:0;transition:opacity .2s cubic-bezier(.4,0,.2,1)}.wallpaper-item.selected .wallpaper-info,.wallpaper-item:hover .wallpaper-info{opacity:1}.wallpaper-name{font-size:12px;font-weight:600;margin-bottom:2px}.wallpaper-version{font-size:10px;opacity:.8}.wallpaper-error,.wallpaper-loading{color:var(--pref-text-secondary);font-size:14px;padding:40px;text-align:center}.theme-creator-modal{align-items:center;animation:fadeIn .2s ease;backdrop-filter:blur(10px);background:rgba(0,0,0,.7);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:100000}.theme-creator-content{background:var(--pref-bg);border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.5);display:flex;flex-direction:column;max-height:80vh;max-width:600px;overflow:hidden;width:90%}.theme-creator-header{align-items:center;border-bottom:1px solid var(--pref-border);display:flex;justify-content:space-between;padding:20px 24px}.theme-creator-header h3{color:var(--pref-text);font-size:20px;font-weight:600;margin:0}.close-btn{align-items:center;background:none;border:none;border-radius:4px;color:var(--pref-text-secondary);cursor:pointer;display:flex;font-size:32px;height:32px;justify-content:center;line-height:1;padding:0;transition:all .2s ease;width:32px}.close-btn:hover{background:var(--pref-hover);color:var(--pref-text)}.theme-creator-body{flex:1;overflow-y:auto;padding:24px}.color-group{margin-bottom:20px}.color-group label{color:var(--pref-text);display:block;font-size:14px;font-weight:500;margin-bottom:8px}.custom-color{border:2px solid var(--pref-border);border-radius:8px;cursor:pointer;height:50px;transition:border-color .2s ease;width:100%}.custom-color:hover{border-color:var(--pref-active)}.theme-preview{background:var(--pref-sidebar-bg);border-radius:8px;margin-top:30px;padding:20px}.preview-box{border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);display:flex;min-height:150px;overflow:hidden}.preview-sidebar{background:var(--pref-sidebar-bg);font-size:13px;font-weight:600;width:120px}.preview-content,.preview-sidebar{color:var(--pref-text);padding:16px}.preview-content{background:var(--pref-bg);flex:1}.preview-content h4{color:var(--pref-text);font-size:16px;margin:0 0 8px}.preview-content p{color:var(--pref-text-secondary);font-size:13px;margin:0 0 16px}.preview-btn{background:var(--pref-accent);border:none;border-radius:6px;color:#fff;cursor:default;font-size:13px;font-weight:500;padding:8px 16px}.theme-creator-footer{background:var(--pref-sidebar-bg);border-top:1px solid var(--pref-border);display:flex;gap:12px;justify-content:flex-end;padding:16px 24px}@media (prefers-reduced-motion:reduce){.btn-danger,.btn-primary,.btn-secondary,.icon-size-btn,.position-btn,.preferences-tab,.slider::-webkit-slider-thumb,.theme-btn,.wallpaper-item{-webkit-transition:none;transition:none}.preferences-tab-content,.theme-creator-modal{animation:none}.wallpaper-item:hover{transform:none}}
