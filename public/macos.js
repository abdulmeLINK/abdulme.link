"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["LinkOS"],{

/***/ 3272:
/*!**************************************************!*\
  !*** ./resources/js/components/LinkOS/Desktop.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 4467);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 467);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 3029);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 2901);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ 4756);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _EventBus_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../EventBus.js */ 2454);\n\n\n\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\n\n\n/**\r\n * Desktop - LinkOS desktop experience with embedded boot animation and wallpaper system\r\n * Handles embedded boot sequence (via Blade), wallpaper management, icons, and context menu\r\n * Smart boot logic: 4-5s static on first visit, 1s quick on return visits\r\n */\nvar Desktop = /*#__PURE__*/function () {\n  function Desktop() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Desktop);\n    this.container = null;\n    this.bootOverlay = null;\n    this.wallpaperContainer = null;\n    this.iconsContainer = null;\n    this.contextMenu = null;\n\n    // State\n    this.isBooting = true; // Start with boot screen\n    this.currentWallpaper = null;\n    this.wallpapers = [];\n    this.desktopApps = [];\n    this.loadedAssets = new Set();\n    this.preferences = {};\n    this.sessionData = null;\n    this.rotationTimer = null;\n    this.wallpaperCache = new Map();\n    this.progressiveLoading = true;\n    this.bootScreen = null;\n\n    // Configuration\n    this.config = {\n      bootDuration: 4000,\n      wallpaperTransitionDuration: 1000,\n      rotationInterval: 30 * 60 * 1000,\n      // 30 minutes\n      maxCacheSize: 100 * 1024 * 1024,\n      // 100MB\n      iconGridSize: 80,\n      performanceMode: this.detectPerformanceMode()\n    };\n    this.init();\n  }\n\n  /**\r\n   * Initialize desktop component\r\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Desktop, [{\n    key: \"init\",\n    value: function () {\n      var _init = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee() {\n        var _this = this;\n        var bootOverlay;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                this.createElements();\n                this.bindEvents();\n\n                // Listen for boot completion from embedded boot screen\n                window.addEventListener('boot-complete', function () {\n                  _this.initializeAfterBoot();\n                });\n\n                // If no embedded boot screen is shown, initialize immediately\n                bootOverlay = document.getElementById('boot-screen-overlay');\n                if (!bootOverlay) {\n                  this.initializeAfterBoot();\n                }\n              } catch (error) {\n                console.error('Desktop: Initialization failed:', error);\n                this.showErrorState(error);\n              }\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n    /**\r\n     * Initialize desktop after boot sequence completes\r\n     */\n  }, {\n    key: \"initializeAfterBoot\",\n    value: function () {\n      var _initializeAfterBoot = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee2() {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return Promise.all([this.loadPreferences(), this.loadWallpapers(),\n              // Load wallpapers first so they're available during boot\n              this.loadSessionData()]);\n            case 3:\n              _context2.next = 5;\n              return this.setInitialWallpaper();\n            case 5:\n              _context2.next = 7;\n              return this.loadDesktopApps();\n            case 7:\n              // Load saved icon positions before setup\n              this.loadIconPositions();\n\n              // Initialize desktop\n              _context2.next = 10;\n              return this.setupDesktop();\n            case 10:\n              // Mark desktop as ready\n              this.isBooting = false;\n              _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('desktop:ready', {\n                wallpapers: this.wallpapers.length,\n                preferences: Object.keys(this.preferences).length,\n                performanceMode: this.config.performanceMode\n              });\n              _context2.next = 17;\n              break;\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2[\"catch\"](0);\n              this.handleError(_context2.t0);\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[0, 14]]);\n      }));\n      function initializeAfterBoot() {\n        return _initializeAfterBoot.apply(this, arguments);\n      }\n      return initializeAfterBoot;\n    }()\n    /**\r\n     * Create DOM elements\r\n     */\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      // Get desktop container\n      this.container = document.getElementById('desktop');\n      if (!this.container) {\n        throw new Error('Desktop container not found');\n      }\n\n      // Create wallpaper container\n      this.wallpaperContainer = document.createElement('div');\n      this.wallpaperContainer.className = 'wallpaper-container';\n      this.wallpaperContainer.style.cssText = \"\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 100%;\\n            height: 100%;\\n            background-size: cover;\\n            background-position: center;\\n            background-repeat: no-repeat;\\n            z-index: 1;\\n        \";\n\n      // Create icons container\n      this.iconsContainer = document.createElement('div');\n      this.iconsContainer.className = 'desktop-icons';\n      this.iconsContainer.style.cssText = \"\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 100%;\\n            height: 100%;\\n            z-index: 2;\\n        \";\n\n      // Create context menu\n      this.contextMenu = document.createElement('div');\n      this.contextMenu.className = 'context-menu';\n      this.contextMenu.style.cssText = \"\\n            position: fixed;\\n            display: none;\\n            z-index: 9999;\\n        \";\n      this.contextMenu.innerHTML = this.createContextMenuHTML();\n\n      // Append to container\n      this.container.appendChild(this.wallpaperContainer);\n      this.container.appendChild(this.iconsContainer);\n      this.container.appendChild(this.contextMenu);\n    }\n\n    /**\r\n     * Create context menu HTML\r\n     */\n  }, {\n    key: \"createContextMenuHTML\",\n    value: function createContextMenuHTML() {\n      return \"\\n            <div class=\\\"context-menu-content\\\" style=\\\"\\n                background: rgba(30, 30, 30, 0.95);\\n                backdrop-filter: blur(20px);\\n                border-radius: 8px;\\n                padding: 8px 0;\\n                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\\n                min-width: 200px;\\n            \\\">\\n                <div class=\\\"menu-item\\\" data-action=\\\"change_wallpaper\\\" style=\\\"\\n                    padding: 8px 16px;\\n                    font-size: 14px;\\n                    cursor: pointer;\\n                    color: #fff;\\n                \\\">Change Wallpaper...</div>\\n                <div class=\\\"menu-separator\\\" style=\\\"height: 1px; background: #555; margin: 4px 0;\\\"></div>\\n                <div class=\\\"menu-item\\\" data-action=\\\"view_options\\\" style=\\\"\\n                    padding: 8px 16px;\\n                    font-size: 14px;\\n                    cursor: pointer;\\n                    color: #fff;\\n                \\\">View Options</div>\\n                <div class=\\\"menu-item\\\" data-action=\\\"get_info\\\" style=\\\"\\n                    padding: 8px 16px;\\n                    font-size: 14px;\\n                    cursor: pointer;\\n                    color: #fff;\\n                \\\">Get Info</div>\\n            </div>\\n        \";\n    }\n\n    /**\r\n     * Bind event handlers\r\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // Global events\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].on('preferences:changed', this.onPreferencesChanged.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].on('wallpaper:change', this.changeWallpaper.bind(this));\n\n      // Window events\n      window.addEventListener('resize', this.onWindowResize.bind(this));\n      window.addEventListener('beforeunload', this.onBeforeUnload.bind(this));\n\n      // Desktop events\n      this.container.addEventListener('contextmenu', this.onContextMenu.bind(this));\n      this.container.addEventListener('click', this.onDesktopClick.bind(this));\n\n      // Context menu events\n      this.contextMenu.addEventListener('click', this.onContextMenuClick.bind(this));\n\n      // Performance monitoring\n      if (this.config.performanceMode === 'auto') {\n        this.setupPerformanceMonitoring();\n      }\n    }\n\n    /**\r\n     * Load user preferences\r\n     */\n  }, {\n    key: \"loadPreferences\",\n    value: function () {\n      var _loadPreferences = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee3() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return fetch('/api/preferences');\n            case 3:\n              response = _context3.sent;\n              _context3.next = 6;\n              return response.json();\n            case 6:\n              data = _context3.sent;\n              if (data.success) {\n                this.preferences = data.data;\n              } else {\n                this.preferences = this.getDefaultPreferences();\n              }\n              _context3.next = 14;\n              break;\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.warn('Failed to load preferences, using defaults:', _context3.t0);\n              this.preferences = this.getDefaultPreferences();\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[0, 10]]);\n      }));\n      function loadPreferences() {\n        return _loadPreferences.apply(this, arguments);\n      }\n      return loadPreferences;\n    }()\n    /**\r\n     * Load wallpapers data with progressive loading\r\n     */\n  }, {\n    key: \"loadWallpapers\",\n    value: function () {\n      var _loadWallpapers = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee4() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return fetch('/api/wallpapers');\n            case 3:\n              response = _context4.sent;\n              _context4.next = 6;\n              return response.json();\n            case 6:\n              data = _context4.sent;\n              if (data.success) {\n                this.wallpapers = data.data;\n\n                // Start progressive preloading of thumbnails\n                if (this.progressiveLoading) {\n                  this.preloadWallpaperThumbnails();\n                }\n\n                // Set up auto-rotation timer\n                this.setupWallpaperRotation();\n\n                // Wallpaper selection is handled by setInitialWallpaper() consistently\n                console.log('Wallpapers loaded, selection will be handled by setInitialWallpaper()');\n              } else {\n                this.wallpapers = this.getDefaultWallpapers();\n              }\n              _context4.next = 14;\n              break;\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.warn('Failed to load wallpapers, using defaults:', _context4.t0);\n              this.wallpapers = this.getDefaultWallpapers();\n            case 14:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this, [[0, 10]]);\n      }));\n      function loadWallpapers() {\n        return _loadWallpapers.apply(this, arguments);\n      }\n      return loadWallpapers;\n    }()\n    /**\r\n     * Load session data\r\n     */\n  }, {\n    key: \"loadSessionData\",\n    value: function () {\n      var _loadSessionData = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee5() {\n        var stored;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              try {\n                stored = localStorage.getItem('desktop_session');\n                if (stored) {\n                  this.sessionData = JSON.parse(stored);\n                } else {\n                  this.sessionData = this.getDefaultSessionData();\n                }\n              } catch (error) {\n                console.warn('Failed to load session data, using defaults:', error);\n                this.sessionData = this.getDefaultSessionData();\n              }\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function loadSessionData() {\n        return _loadSessionData.apply(this, arguments);\n      }\n      return loadSessionData;\n    }()\n    /**\r\n     * Load desktop applications data\r\n     */\n  }, {\n    key: \"loadDesktopApps\",\n    value: function () {\n      var _loadDesktopApps = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee6() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return fetch('/data/desktop-apps.json');\n            case 3:\n              response = _context6.sent;\n              _context6.next = 6;\n              return response.json();\n            case 6:\n              data = _context6.sent;\n              if (data && data.apps) {\n                this.desktopApps = data.apps;\n                this.createDesktopIcons();\n              } else {\n                this.desktopApps = this.getDefaultApps();\n                this.createDesktopIcons();\n              }\n              _context6.next = 15;\n              break;\n            case 10:\n              _context6.prev = 10;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.warn('Failed to load desktop apps, using defaults:', _context6.t0);\n              this.desktopApps = this.getDefaultApps();\n              this.createDesktopIcons();\n            case 15:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this, [[0, 10]]);\n      }));\n      function loadDesktopApps() {\n        return _loadDesktopApps.apply(this, arguments);\n      }\n      return loadDesktopApps;\n    }()\n  }, {\n    key: \"setupDesktop\",\n    value: function () {\n      var _setupDesktop = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee7() {\n        var _this$preferences$app;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              // Wallpaper is handled by setInitialWallpaper() - don't duplicate logic\n              if (!this.currentWallpaper) {\n                console.warn('Desktop: No wallpaper set, using fallback');\n              }\n\n              // Apply theme preferences\n              if ((_this$preferences$app = this.preferences.appearance) !== null && _this$preferences$app !== void 0 && _this$preferences$app.theme) {\n                document.documentElement.setAttribute('data-theme', this.preferences.appearance.theme);\n              }\n\n              // Create desktop icons\n              this.createDesktopIcons();\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function setupDesktop() {\n        return _setupDesktop.apply(this, arguments);\n      }\n      return setupDesktop;\n    }()\n    /**\r\n     * Set initial wallpaper - Single source of truth for wallpaper selection\r\n     * Priority: 1) Saved user choice 2) Backend smart selection 3) Fallback\r\n     */\n  }, {\n    key: \"setInitialWallpaper\",\n    value: function () {\n      var _setInitialWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee8() {\n        var wallpaper, selectionSource, pageLoadWallpaper;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              wallpaper = null;\n              selectionSource = 'none'; // Priority 1: Check for saved user wallpaper preference\n              wallpaper = this.getSavedWallpaper();\n              if (wallpaper) {\n                selectionSource = 'saved_preference';\n              }\n\n              // Priority 2: Get wallpaper data that was selected during page load (same as boot screen)\n              if (wallpaper) {\n                _context8.next = 21;\n                break;\n              }\n              _context8.next = 8;\n              return this.getPageLoadWallpaperData();\n            case 8:\n              pageLoadWallpaper = _context8.sent;\n              if (!pageLoadWallpaper) {\n                _context8.next = 14;\n                break;\n              }\n              wallpaper = pageLoadWallpaper;\n              selectionSource = 'page_load';\n              _context8.next = 21;\n              break;\n            case 14:\n              _context8.next = 16;\n              return this.getBackendSelectedWallpaper();\n            case 16:\n              wallpaper = _context8.sent;\n              if (!wallpaper) {\n                _context8.next = 21;\n                break;\n              }\n              selectionSource = 'backend_smart_selection';\n              // Save this selection for consistency\n              _context8.next = 21;\n              return this.saveWallpaperSelection(wallpaper);\n            case 21:\n              // Priority 3: Fallback to first available wallpaper\n              if (!wallpaper && this.wallpapers.length > 0) {\n                wallpaper = this.wallpapers[0];\n                selectionSource = 'fallback';\n              }\n              if (!wallpaper) {\n                _context8.next = 26;\n                break;\n              }\n              _context8.next = 25;\n              return this.applyWallpaperConsistently(wallpaper);\n            case 25:\n              this.currentWallpaper = wallpaper;\n            case 26:\n              _context8.next = 31;\n              break;\n            case 28:\n              _context8.prev = 28;\n              _context8.t0 = _context8[\"catch\"](0);\n              console.error('Failed to set initial wallpaper:', _context8.t0);\n            case 31:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, this, [[0, 28]]);\n      }));\n      function setInitialWallpaper() {\n        return _setInitialWallpaper.apply(this, arguments);\n      }\n      return setInitialWallpaper;\n    }()\n    /**\r\n     * Get saved wallpaper from localStorage or session\r\n     * Returns the user's explicitly saved wallpaper choice\r\n     */\n  }, {\n    key: \"getSavedWallpaper\",\n    value: function getSavedWallpaper() {\n      var _this2 = this;\n      try {\n        var _this$sessionData;\n        // First check localStorage (highest priority)\n        var savedWallpaper = localStorage.getItem('current_wallpaper');\n        if (savedWallpaper) {\n          var wallpaperData = JSON.parse(savedWallpaper);\n          console.log('üìÅ Found saved wallpaper in localStorage:', wallpaperData.name);\n\n          // Find the full wallpaper object from our loaded wallpapers\n          if (this.wallpapers.length > 0) {\n            var fullWallpaper = this.wallpapers.find(function (w) {\n              return w.id === wallpaperData.id;\n            });\n            if (fullWallpaper) {\n              console.log('üéØ Matched saved wallpaper with loaded collection:', fullWallpaper.name);\n              return fullWallpaper;\n            }\n          }\n          console.log('üì¶ Using saved wallpaper data as-is:', wallpaperData.name);\n          return wallpaperData;\n        }\n\n        // Check session data as fallback\n        if ((_this$sessionData = this.sessionData) !== null && _this$sessionData !== void 0 && (_this$sessionData = _this$sessionData.wallpaper) !== null && _this$sessionData !== void 0 && _this$sessionData.id) {\n          console.log('üìÑ Found wallpaper in session data:', this.sessionData.wallpaper.name);\n\n          // Find the full wallpaper object from our loaded wallpapers\n          if (this.wallpapers.length > 0) {\n            var _fullWallpaper = this.wallpapers.find(function (w) {\n              return w.id === _this2.sessionData.wallpaper.id;\n            });\n            if (_fullWallpaper) {\n              console.log('üéØ Matched session wallpaper with loaded collection:', _fullWallpaper.name);\n              return _fullWallpaper;\n            }\n          }\n          return this.sessionData.wallpaper;\n        }\n        return null;\n      } catch (error) {\n        console.error('Error getting saved wallpaper:', error);\n        return null;\n      }\n    }\n\n    /**\r\n     * Get wallpaper selected by backend (same as boot screen)\r\n     * This ensures boot screen and desktop show the same wallpaper\r\n     */\n  }, {\n    key: \"getBackendSelectedWallpaper\",\n    value: function () {\n      var _getBackendSelectedWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee9() {\n        var isFirstVisit, userFingerprint, currentHour, response, data, _data$metadata, fullWallpaper;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              isFirstVisit = this.isFirstTimeUser();\n              userFingerprint = this.generateUserFingerprint();\n              currentHour = new Date().getHours();\n              console.log('üîÑ Getting backend wallpaper selection:', {\n                isFirstVisit: isFirstVisit,\n                currentHour: currentHour,\n                fingerprint: userFingerprint.substring(0, 8) + '...'\n              });\n              _context9.next = 7;\n              return fetch(\"/api/wallpapers/smart-selection?hour=\".concat(currentHour, \"&fingerprint=\").concat(userFingerprint, \"&firstVisit=\").concat(isFirstVisit));\n            case 7:\n              response = _context9.sent;\n              _context9.next = 10;\n              return response.json();\n            case 10:\n              data = _context9.sent;\n              if (!(data.success && data.data)) {\n                _context9.next = 23;\n                break;\n              }\n              console.log('‚úÖ Backend selection:', data.data.name, '| Method:', (_data$metadata = data.metadata) === null || _data$metadata === void 0 ? void 0 : _data$metadata.selectionMethod);\n\n              // Find the full wallpaper object from our loaded wallpapers\n              fullWallpaper = this.wallpapers.find(function (w) {\n                return w.id === data.data.id;\n              });\n              if (!fullWallpaper) {\n                _context9.next = 19;\n                break;\n              }\n              console.log('üéØ Found matching wallpaper in local collection:', fullWallpaper.name);\n              return _context9.abrupt(\"return\", fullWallpaper);\n            case 19:\n              console.log('üì¶ Using API wallpaper data:', data.data.name);\n              return _context9.abrupt(\"return\", data.data);\n            case 21:\n              _context9.next = 25;\n              break;\n            case 23:\n              console.warn('‚ö†Ô∏è Backend selection failed:', data.error);\n              return _context9.abrupt(\"return\", null);\n            case 25:\n              _context9.next = 31;\n              break;\n            case 27:\n              _context9.prev = 27;\n              _context9.t0 = _context9[\"catch\"](0);\n              console.error('‚ùå Failed to get backend wallpaper selection:', _context9.t0);\n              return _context9.abrupt(\"return\", null);\n            case 31:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this, [[0, 27]]);\n      }));\n      function getBackendSelectedWallpaper() {\n        return _getBackendSelectedWallpaper.apply(this, arguments);\n      }\n      return getBackendSelectedWallpaper;\n    }()\n    /**\r\n     * Apply wallpaper consistently to both body and wallpaper container\r\n     * Ensures smooth transition and consistent appearance\r\n     */\n  }, {\n    key: \"applyWallpaperConsistently\",\n    value: function () {\n      var _applyWallpaperConsistently = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee10(wallpaper) {\n        var imageUrl;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              if (wallpaper) {\n                _context10.next = 2;\n                break;\n              }\n              return _context10.abrupt(\"return\");\n            case 2:\n              imageUrl = wallpaper.fullImage || wallpaper.url || wallpaper.image;\n              if (imageUrl) {\n                _context10.next = 6;\n                break;\n              }\n              console.error('No image URL found for wallpaper:', wallpaper);\n              return _context10.abrupt(\"return\");\n            case 6:\n              _context10.next = 8;\n              return this.preloadWallpaperImage(imageUrl);\n            case 8:\n              // Apply to both body (for boot consistency) and container (for desktop)\n              this.applyWallpaperWithTransition(imageUrl);\n              console.log('üé® Wallpaper applied consistently:', wallpaper.name);\n            case 10:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n      function applyWallpaperConsistently(_x) {\n        return _applyWallpaperConsistently.apply(this, arguments);\n      }\n      return applyWallpaperConsistently;\n    }()\n    /**\r\n     * Preload wallpaper image to ensure smooth application\r\n     */\n  }, {\n    key: \"preloadWallpaperImage\",\n    value: function () {\n      var _preloadWallpaperImage = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee11(imageUrl) {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              return _context11.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var img = new Image();\n                img.onload = function () {\n                  console.log('üñºÔ∏è Wallpaper preloaded successfully');\n                  resolve();\n                };\n                img.onerror = function () {\n                  console.warn('‚ö†Ô∏è Failed to preload wallpaper, continuing anyway');\n                  resolve(); // Don't reject, continue with application\n                };\n                img.src = imageUrl;\n              }));\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11);\n      }));\n      function preloadWallpaperImage(_x2) {\n        return _preloadWallpaperImage.apply(this, arguments);\n      }\n      return preloadWallpaperImage;\n    }()\n    /**\r\n     * Get wallpaper data that was selected during page load (from backend)\r\n     * This ensures boot screen and desktop show the same wallpaper\r\n     */\n  }, {\n    key: \"getPageLoadWallpaperData\",\n    value: function () {\n      var _getPageLoadWallpaperData = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee12() {\n        var _window$AbdulmeApp, wallpaperData, fullWallpaper, _fullWallpaper2, wallpaperMeta, _wallpaperData, _fullWallpaper3;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.prev = 0;\n              if (!((_window$AbdulmeApp = window.AbdulmeApp) !== null && _window$AbdulmeApp !== void 0 && (_window$AbdulmeApp = _window$AbdulmeApp.config) !== null && _window$AbdulmeApp !== void 0 && _window$AbdulmeApp.currentWallpaper)) {\n                _context12.next = 12;\n                break;\n              }\n              wallpaperData = window.AbdulmeApp.config.currentWallpaper;\n              console.log('üìÑ Found page load wallpaper from AbdulmeApp config:', wallpaperData.name);\n\n              // Find the full wallpaper object from our loaded wallpapers\n              fullWallpaper = this.wallpapers.find(function (w) {\n                return w.id === wallpaperData.id;\n              });\n              if (!fullWallpaper) {\n                _context12.next = 10;\n                break;\n              }\n              console.log('üéØ Matched with loaded wallpaper collection:', fullWallpaper.name);\n              return _context12.abrupt(\"return\", fullWallpaper);\n            case 10:\n              console.log('üì¶ Using backend wallpaper data as-is:', wallpaperData.name);\n              return _context12.abrupt(\"return\", wallpaperData);\n            case 12:\n              if (!window.selectedWallpaper) {\n                _context12.next = 16;\n                break;\n              }\n              console.log('üìÑ Found legacy page load wallpaper data:', window.selectedWallpaper.name);\n\n              // Find the full wallpaper object from our loaded wallpapers\n              _fullWallpaper2 = this.wallpapers.find(function (w) {\n                return w.id === window.selectedWallpaper.id;\n              });\n              return _context12.abrupt(\"return\", _fullWallpaper2 || window.selectedWallpaper);\n            case 16:\n              // Alternative: Check meta tag or inline script data\n              wallpaperMeta = document.querySelector('meta[name=\"selected-wallpaper\"]');\n              if (!wallpaperMeta) {\n                _context12.next = 22;\n                break;\n              }\n              _wallpaperData = JSON.parse(wallpaperMeta.getAttribute('content'));\n              console.log('üè∑Ô∏è Found wallpaper in meta tag:', _wallpaperData.name);\n              _fullWallpaper3 = this.wallpapers.find(function (w) {\n                return w.id === _wallpaperData.id;\n              });\n              return _context12.abrupt(\"return\", _fullWallpaper3 || _wallpaperData);\n            case 22:\n              console.log('‚ÑπÔ∏è No page load wallpaper data found');\n              return _context12.abrupt(\"return\", null);\n            case 26:\n              _context12.prev = 26;\n              _context12.t0 = _context12[\"catch\"](0);\n              console.error('Error getting page load wallpaper data:', _context12.t0);\n              return _context12.abrupt(\"return\", null);\n            case 30:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this, [[0, 26]]);\n      }));\n      function getPageLoadWallpaperData() {\n        return _getPageLoadWallpaperData.apply(this, arguments);\n      }\n      return getPageLoadWallpaperData;\n    }()\n    /**\r\n     * Event Handlers\r\n     */\n    /**\r\n     * Handle preferences changed event\r\n     */\n  }, {\n    key: \"onPreferencesChanged\",\n    value: function onPreferencesChanged(event) {\n      var _event$data$desktop, _event$data$appearanc;\n      console.log('Preferences changed:', event.data);\n      this.preferences = _objectSpread(_objectSpread({}, this.preferences), event.data);\n\n      // Apply preference changes\n      if ((_event$data$desktop = event.data.desktop) !== null && _event$data$desktop !== void 0 && _event$data$desktop.wallpaper) {\n        var wallpaper = this.wallpapers.find(function (w) {\n          return w.id === event.data.desktop.wallpaper;\n        });\n        if (wallpaper) {\n          this.changeWallpaper(wallpaper);\n        }\n      }\n      if ((_event$data$appearanc = event.data.appearance) !== null && _event$data$appearanc !== void 0 && _event$data$appearanc.theme) {\n        document.documentElement.setAttribute('data-theme', event.data.appearance.theme);\n      }\n    }\n\n    /**\r\n     * Handle wallpaper change with progressive loading\r\n     */\n  }, {\n    key: \"changeWallpaper\",\n    value: function () {\n      var _changeWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee13(wallpaper) {\n        var _this3 = this;\n        var fullImageUrl, preloadImage, verification;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              if (!(!wallpaper || !this.wallpaperContainer)) {\n                _context13.next = 2;\n                break;\n              }\n              return _context13.abrupt(\"return\");\n            case 2:\n              console.log('Changing wallpaper to:', wallpaper.name || wallpaper.id);\n              _context13.prev = 3;\n              fullImageUrl = wallpaper.fullImage || wallpaper.url; // Clear old cache (keep only current wallpaper for performance)\n              this.wallpaperCache.clear();\n\n              // Check if full resolution is already cached\n              if (this.wallpaperCache.has(fullImageUrl)) {\n                // Use cached full resolution immediately with transition\n                this.applyWallpaperWithTransition(fullImageUrl);\n              } else {\n                // Show loading state if needed\n                this.wallpaperContainer.style.transition = 'opacity 0.3s ease';\n\n                // Preload full resolution in background\n                preloadImage = new Image();\n                preloadImage.onload = function () {\n                  // Cache the loaded image (only current one)\n                  _this3.wallpaperCache.set(fullImageUrl, preloadImage);\n                  // Apply with smooth transition\n                  _this3.applyWallpaperWithTransition(fullImageUrl);\n                };\n                preloadImage.onerror = function () {\n                  console.error('Failed to load wallpaper:', fullImageUrl);\n                  _this3.loadFallbackWallpaper();\n                };\n                preloadImage.src = fullImageUrl;\n              }\n              this.currentWallpaper = wallpaper;\n              console.log('‚úÖ Current wallpaper set to:', wallpaper.name || wallpaper.id);\n              _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('wallpaper:changed', {\n                wallpaper: wallpaper\n              });\n\n              // Save to backend and local storage immediately\n              console.log('üíæ Starting wallpaper save process...');\n              _context13.next = 13;\n              return this.saveWallpaperSelection(wallpaper);\n            case 13:\n              // Update session data immediately\n              this.saveCurrentState();\n              console.log('‚úÖ Wallpaper change complete:', wallpaper.name || wallpaper.id);\n\n              // Verify save worked\n              verification = localStorage.getItem('current_wallpaper');\n              console.log('üîç Verification - localStorage after save:', verification ? JSON.parse(verification).name : 'NONE');\n              _context13.next = 23;\n              break;\n            case 19:\n              _context13.prev = 19;\n              _context13.t0 = _context13[\"catch\"](3);\n              console.error('Failed to change wallpaper:', _context13.t0);\n              // Fallback to default wallpaper\n              this.loadFallbackWallpaper();\n            case 23:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this, [[3, 19]]);\n      }));\n      function changeWallpaper(_x3) {\n        return _changeWallpaper.apply(this, arguments);\n      }\n      return changeWallpaper;\n    }()\n    /**\r\n     * Save wallpaper selection - Single source of truth for persistence\r\n     * Saves to both localStorage (immediate) and backend (for sync)\r\n     */\n  }, {\n    key: \"saveWallpaperSelection\",\n    value: function () {\n      var _saveWallpaperSelection = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee14(wallpaper) {\n        var wallpaperData;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee14$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              try {\n                console.log('üíæ Saving wallpaper selection:', wallpaper.name || wallpaper.id);\n\n                // Create standardized wallpaper data\n                wallpaperData = {\n                  id: wallpaper.id,\n                  name: wallpaper.name,\n                  thumbnail: wallpaper.thumbnail,\n                  fullImage: wallpaper.fullImage,\n                  category: wallpaper.category,\n                  type: wallpaper.type,\n                  colors: wallpaper.colors,\n                  savedAt: Date.now(),\n                  source: 'user_selection'\n                }; // Save to localStorage immediately (critical for persistence)\n                localStorage.setItem('current_wallpaper', JSON.stringify(wallpaperData));\n                console.log('‚úÖ Saved to localStorage:', wallpaperData.name);\n\n                // Mark as visited if this is first selection\n                if (this.isFirstTimeUser()) {\n                  localStorage.setItem('portfolio_visited', new Date().toISOString());\n                  console.log('‚úÖ Marked first visit complete');\n                }\n\n                // Save to backend for sync (non-blocking)\n                this.saveToBackend(wallpaperData)[\"catch\"](function (error) {\n                  console.warn('‚ö†Ô∏è Backend save failed (non-critical):', error.message);\n                });\n\n                // Update session data\n                this.saveCurrentState();\n              } catch (error) {\n                console.error('‚ùå Critical error saving wallpaper selection:', error);\n              }\n            case 1:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee14, this);\n      }));\n      function saveWallpaperSelection(_x4) {\n        return _saveWallpaperSelection.apply(this, arguments);\n      }\n      return saveWallpaperSelection;\n    }()\n    /**\r\n     * Save wallpaper to backend (async, non-blocking)\r\n     */\n  }, {\n    key: \"saveToBackend\",\n    value: function () {\n      var _saveToBackend = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee15(wallpaperData) {\n        var _document$querySelect;\n        var response;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee15$(_context15) {\n          while (1) switch (_context15.prev = _context15.next) {\n            case 0:\n              _context15.next = 2;\n              return fetch('/api/wallpapers/set-current', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'X-CSRF-TOKEN': ((_document$querySelect = document.querySelector('meta[name=\"csrf-token\"]')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.getAttribute('content')) || ''\n                },\n                body: JSON.stringify(wallpaperData)\n              });\n            case 2:\n              response = _context15.sent;\n              if (!response.ok) {\n                _context15.next = 7;\n                break;\n              }\n              console.log('‚úÖ Wallpaper saved to backend');\n              _context15.next = 8;\n              break;\n            case 7:\n              throw new Error(\"Backend save failed: \".concat(response.status));\n            case 8:\n            case \"end\":\n              return _context15.stop();\n          }\n        }, _callee15);\n      }));\n      function saveToBackend(_x5) {\n        return _saveToBackend.apply(this, arguments);\n      }\n      return saveToBackend;\n    }()\n    /**\r\n     * Apply wallpaper with smooth transition\r\n     */\n  }, {\n    key: \"applyWallpaperWithTransition\",\n    value: function applyWallpaperWithTransition(imageUrl) {\n      if (!this.wallpaperContainer) return;\n\n      // Add smooth fade transition\n      this.wallpaperContainer.style.transition = 'background-image 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)';\n\n      // Apply new wallpaper\n      this.wallpaperContainer.style.backgroundImage = \"url('\".concat(imageUrl, \"')\");\n      this.wallpaperContainer.style.backgroundSize = 'cover';\n      this.wallpaperContainer.style.backgroundPosition = 'center';\n      this.wallpaperContainer.style.backgroundRepeat = 'no-repeat';\n      this.wallpaperContainer.style.opacity = '1';\n\n      // Also set on body for immediate visibility\n      document.body.style.transition = 'background-image 0.8s cubic-bezier(0.4, 0, 0.2, 1)';\n      document.body.style.backgroundImage = \"url('\".concat(imageUrl, \"')\");\n      document.body.style.backgroundSize = 'cover';\n      document.body.style.backgroundPosition = 'center';\n      document.body.style.backgroundRepeat = 'no-repeat';\n      console.log('Wallpaper applied with smooth transition');\n    }\n\n    /**\r\n     * Handle window resize\r\n     */\n  }, {\n    key: \"onWindowResize\",\n    value: function onWindowResize() {\n      // Update desktop dimensions and icon positions\n      if (this.iconsContainer) {\n        this.repositionIcons();\n      }\n\n      // Update wallpaper if needed\n      if (this.wallpaperContainer) {\n        this.wallpaperContainer.style.width = '100%';\n        this.wallpaperContainer.style.height = '100%';\n      }\n    }\n\n    /**\r\n     * Handle before unload\r\n     */\n  }, {\n    key: \"onBeforeUnload\",\n    value: function onBeforeUnload() {\n      // Save current state before page unload\n      var sessionData = {\n        timestamp: Date.now(),\n        wallpaper: this.currentWallpaper,\n        preferences: this.preferences\n      };\n      localStorage.setItem('desktop_session', JSON.stringify(sessionData));\n    }\n\n    /**\r\n     * Handle desktop context menu\r\n     */\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(event) {\n      var _this4 = this;\n      event.preventDefault();\n      if (!this.contextMenu) return;\n\n      // Position context menu at cursor\n      this.contextMenu.style.left = event.clientX + 'px';\n      this.contextMenu.style.top = event.clientY + 'px';\n      this.contextMenu.style.display = 'block';\n\n      // Close on next click\n      setTimeout(function () {\n        document.addEventListener('click', function () {\n          _this4.contextMenu.style.display = 'none';\n        }, {\n          once: true\n        });\n      }, 0);\n    }\n\n    /**\r\n     * Handle desktop click\r\n     */\n  }, {\n    key: \"onDesktopClick\",\n    value: function onDesktopClick(event) {\n      // Hide context menu if clicking on empty space\n      if (this.contextMenu && event.target === this.container) {\n        this.contextMenu.style.display = 'none';\n      }\n\n      // Deselect any selected icons\n      var selectedIcons = this.container.querySelectorAll('.desktop-icon.selected');\n      selectedIcons.forEach(function (icon) {\n        return icon.classList.remove('selected');\n      });\n    }\n\n    /**\r\n     * Handle context menu clicks\r\n     */\n  }, {\n    key: \"onContextMenuClick\",\n    value: function onContextMenuClick(event) {\n      event.stopPropagation();\n      var action = event.target.dataset.action;\n      if (!action) return;\n      switch (action) {\n        case 'change_wallpaper':\n          this.openWallpaperSelector();\n          break;\n        case 'view_options':\n          this.openViewOptions();\n          break;\n        case 'get_info':\n          this.showDesktopInfo();\n          break;\n      }\n      this.contextMenu.style.display = 'none';\n    }\n\n    /**\r\n     * Setup performance monitoring\r\n     */\n  }, {\n    key: \"setupPerformanceMonitoring\",\n    value: function setupPerformanceMonitoring() {\n      var _this5 = this;\n      var frameCount = 0;\n      var lastTime = performance.now();\n      var measureFPS = function measureFPS() {\n        frameCount++;\n        var currentTime = performance.now();\n        if (currentTime - lastTime >= 1000) {\n          var fps = Math.round(frameCount * 1000 / (currentTime - lastTime));\n\n          // Adjust performance mode if FPS drops\n          if (fps < 30 && _this5.config.performanceMode !== 'low') {\n            _this5.config.performanceMode = 'low';\n            console.warn('Performance mode switched to low due to low FPS:', fps);\n          }\n          frameCount = 0;\n          lastTime = currentTime;\n        }\n        requestAnimationFrame(measureFPS);\n      };\n      requestAnimationFrame(measureFPS);\n    }\n\n    /**\r\n     * Utility Methods\r\n     */\n\n    /**\r\n     * Reposition desktop icons after resize\r\n     */\n  }, {\n    key: \"repositionIcons\",\n    value:\n    /**\r\n     * Reposition icons after window resize\r\n     */\n    function repositionIcons() {\n      if (!this.iconsContainer) return;\n      var containerRect = this.iconsContainer.getBoundingClientRect();\n      var icons = this.iconsContainer.querySelectorAll('.desktop-icon');\n      icons.forEach(function (iconElement) {\n        var rect = iconElement.getBoundingClientRect();\n\n        // Keep icons within bounds\n        var x = parseInt(iconElement.style.left);\n        var y = parseInt(iconElement.style.top);\n        if (x + 64 > containerRect.width) {\n          x = containerRect.width - 64 - 20;\n        }\n        if (y + 64 > containerRect.height) {\n          y = containerRect.height - 64 - 20;\n        }\n        iconElement.style.left = Math.max(20, x) + 'px';\n        iconElement.style.top = Math.max(20, y) + 'px';\n      });\n    }\n\n    /**\r\n     * Handle error conditions\r\n     */\n  }, {\n    key: \"openWallpaperSelector\",\n    value:\n    /**\r\n     * Open wallpaper selector modal\r\n     */\n    function openWallpaperSelector() {\n      var _this6 = this;\n      console.log('Opening wallpaper selector');\n\n      // Create modal overlay\n      var modal = document.createElement('div');\n      modal.className = 'wallpaper-selector-modal';\n      modal.style.cssText = \"\\n            position: fixed;\\n            top: 0;\\n            left: 0;\\n            width: 100%;\\n            height: 100%;\\n            background: rgba(0, 0, 0, 0.5);\\n            backdrop-filter: blur(20px);\\n            z-index: 10000;\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            opacity: 0;\\n            transition: opacity 300ms ease;\\n        \";\n\n      // Create selector panel\n      var panel = document.createElement('div');\n      panel.className = 'wallpaper-panel';\n      panel.style.cssText = \"\\n            background: rgba(255, 255, 255, 0.9);\\n            border-radius: 12px;\\n            padding: 20px;\\n            max-width: 800px;\\n            max-height: 600px;\\n            overflow-y: auto;\\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\\n            transform: scale(0.9);\\n            transition: transform 300ms ease;\\n        \";\n\n      // Create header\n      var header = document.createElement('div');\n      header.innerHTML = \"\\n            <div style=\\\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;\\\">\\n                <h3 style=\\\"margin: 0; font-size: 18px; color: #1d1d1f;\\\">Choose a Wallpaper</h3>\\n                <button class=\\\"close-btn\\\" style=\\\"\\n                    background: #ff5f57;\\n                    border: none;\\n                    border-radius: 50%;\\n                    width: 20px;\\n                    height: 20px;\\n                    cursor: pointer;\\n                \\\">\\u2715</button>\\n            </div>\\n        \";\n\n      // Create wallpaper grid\n      var grid = document.createElement('div');\n      grid.className = 'wallpaper-grid';\n      grid.style.cssText = \"\\n            display: grid;\\n            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\\n            gap: 12px;\\n        \";\n\n      // Add wallpapers to grid\n      this.wallpapers.forEach(function (wallpaper) {\n        var _this6$currentWallpap;\n        var item = document.createElement('div');\n        item.className = 'wallpaper-item';\n        item.style.cssText = \"\\n                aspect-ratio: 16/10;\\n                border-radius: 8px;\\n                overflow: hidden;\\n                cursor: pointer;\\n                border: 3px solid \".concat(wallpaper.id === ((_this6$currentWallpap = _this6.currentWallpaper) === null || _this6$currentWallpap === void 0 ? void 0 : _this6$currentWallpap.id) ? '#007aff' : 'transparent', \";\\n                transition: all 200ms ease;\\n                background-image: url(\").concat(wallpaper.thumbnail || wallpaper.fullImage, \");\\n                background-size: cover;\\n                background-position: center;\\n                position: relative;\\n            \");\n\n        // Add hover effect\n        item.addEventListener('mouseenter', function () {\n          var _this6$currentWallpap2;\n          if (wallpaper.id !== ((_this6$currentWallpap2 = _this6.currentWallpaper) === null || _this6$currentWallpap2 === void 0 ? void 0 : _this6$currentWallpap2.id)) {\n            item.style.transform = 'scale(1.05)';\n            item.style.boxShadow = '0 8px 20px rgba(0, 0, 0, 0.3)';\n          }\n        });\n        item.addEventListener('mouseleave', function () {\n          item.style.transform = 'scale(1)';\n          item.style.boxShadow = 'none';\n        });\n\n        // Add wallpaper name overlay\n        var nameOverlay = document.createElement('div');\n        nameOverlay.style.cssText = \"\\n                position: absolute;\\n                bottom: 0;\\n                left: 0;\\n                right: 0;\\n                background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));\\n                color: white;\\n                padding: 8px;\\n                font-size: 12px;\\n                text-align: center;\\n            \";\n        nameOverlay.textContent = wallpaper.name || wallpaper.id;\n        item.appendChild(nameOverlay);\n\n        // Handle wallpaper selection\n        item.addEventListener('click', /*#__PURE__*/(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee16() {\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee16$(_context16) {\n            while (1) switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.prev = 0;\n                _context16.next = 3;\n                return _this6.changeWallpaper(wallpaper);\n              case 3:\n                // Update selection visual\n                grid.querySelectorAll('.wallpaper-item').forEach(function (el) {\n                  el.style.border = '3px solid transparent';\n                });\n                item.style.border = '3px solid #007aff';\n\n                // Close modal after short delay\n                setTimeout(function () {\n                  modal.click();\n                }, 500);\n                _context16.next = 11;\n                break;\n              case 8:\n                _context16.prev = 8;\n                _context16.t0 = _context16[\"catch\"](0);\n                console.error('Failed to select wallpaper:', _context16.t0);\n              case 11:\n              case \"end\":\n                return _context16.stop();\n            }\n          }, _callee16, null, [[0, 8]]);\n        })));\n        grid.appendChild(item);\n      });\n\n      // Assemble modal\n      panel.appendChild(header);\n      panel.appendChild(grid);\n      modal.appendChild(panel);\n      document.body.appendChild(modal);\n\n      // Handle close button\n      var closeBtn = panel.querySelector('.close-btn');\n      closeBtn.addEventListener('click', function () {\n        return modal.click();\n      });\n\n      // Handle modal close\n      modal.addEventListener('click', function (e) {\n        if (e.target === modal) {\n          modal.style.opacity = '0';\n          panel.style.transform = 'scale(0.9)';\n          setTimeout(function () {\n            if (modal.parentNode) {\n              modal.parentNode.removeChild(modal);\n            }\n          }, 300);\n        }\n      });\n\n      // Animate in\n      requestAnimationFrame(function () {\n        modal.style.opacity = '1';\n        panel.style.transform = 'scale(1)';\n      });\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('wallpaper:selector:opened');\n    }\n\n    /**\r\n     * Open view options (placeholder for future implementation)\r\n     */\n  }, {\n    key: \"openViewOptions\",\n    value: function openViewOptions() {\n      console.log('Opening view options (not implemented yet)');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('desktop:options:open');\n    }\n\n    /**\r\n     * Show desktop info (placeholder for future implementation)\r\n     */\n  }, {\n    key: \"showDesktopInfo\",\n    value: function showDesktopInfo() {\n      console.log('Showing desktop info (not implemented yet)');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('desktop:info:show');\n    }\n\n    /**\r\n     * Load image with promise\r\n     */\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(src) {\n      return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.onload = function () {\n          return resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n      });\n    }\n\n    /**\r\n     * Delay utility\r\n     */\n  }, {\n    key: \"delay\",\n    value: function delay(ms) {\n      return new Promise(function (resolve) {\n        return setTimeout(resolve, ms);\n      });\n    }\n\n    /**\r\n     * Animation utility\r\n     */\n  }, {\n    key: \"animate\",\n    value: function animate(element, keyframes, options) {\n      if (this.config.performanceMode === 'low') {\n        return Promise.resolve();\n      }\n      return element.animate(keyframes, options).finished;\n    }\n\n    /**\r\n     * Get progress text based on percentage\r\n     */\n  }, {\n    key: \"getProgressText\",\n    value: function getProgressText(percentage) {\n      if (percentage < 20) return 'Starting up...';\n      if (percentage < 40) return 'Loading components...';\n      if (percentage < 60) return 'Initializing systems...';\n      if (percentage < 80) return 'Preparing desktop...';\n      return 'Almost ready...';\n    }\n\n    /**\r\n     * Get default boot messages\r\n     */\n  }, {\n    key: \"getDefaultBootMessages\",\n    value: function getDefaultBootMessages() {\n      return ['Initializing AbdulmeLink Portfolio...', 'Loading LinkOS interface...', 'Configuring EventBus system...', 'Loading wallpapers and assets...', 'Setting up desktop environment...', 'Starting services...', 'Almost ready...'];\n    }\n\n    /**\r\n     * Detect device performance mode\r\n     */\n  }, {\n    key: \"detectPerformanceMode\",\n    value: function detectPerformanceMode() {\n      var isMobile = /Mobi|Android/i.test(navigator.userAgent);\n      var cores = navigator.hardwareConcurrency || 2;\n      var memory = navigator.deviceMemory || 2;\n      var isLowEnd = cores < 4 || memory < 4;\n      if (isMobile || isLowEnd) return 'mobile';\n      if (cores >= 8 && memory >= 8) return 'high';\n      return 'auto';\n    }\n\n    /**\r\n     * Get default preferences\r\n     */\n  }, {\n    key: \"getDefaultPreferences\",\n    value: function getDefaultPreferences() {\n      return {\n        appearance: {\n          theme: 'auto',\n          transparency: 0.9\n        },\n        desktop: {\n          wallpaper: null,\n          autoRotate: true,\n          showLabels: true\n        },\n        performance: {\n          animations: true,\n          effects: true,\n          quality: 'auto'\n        }\n      };\n    }\n\n    /**\r\n     * Get default wallpapers\r\n     */\n  }, {\n    key: \"getDefaultWallpapers\",\n    value: function getDefaultWallpapers() {\n      return [{\n        id: 'default-1',\n        name: 'LinkOS Big Sur',\n        url: '/images/wallpapers/big-sur.jpg',\n        thumbnail: '/images/wallpapers/thumbs/big-sur.jpg',\n        type: 'light'\n      }, {\n        id: 'default-2',\n        name: 'LinkOS Monterey',\n        url: '/images/wallpapers/monterey.jpg',\n        thumbnail: '/images/wallpapers/thumbs/monterey.jpg',\n        type: 'dark'\n      }];\n    }\n\n    /**\r\n     * Get default session data\r\n     */\n  }, {\n    key: \"getDefaultSessionData\",\n    value: function getDefaultSessionData() {\n      return {\n        timestamp: Date.now(),\n        firstVisit: true,\n        bootCount: 1\n      };\n    }\n\n    /**\r\n     * Get default desktop applications\r\n     */\n  }, {\n    key: \"getDefaultApps\",\n    value: function getDefaultApps() {\n      return [{\n        id: 'portfolio',\n        name: 'Portfolio',\n        icon: '/images/icons/portfolio.png',\n        type: 'internal',\n        component: 'Portfolio',\n        position: {\n          x: 60,\n          y: 60\n        },\n        featured: true\n      }, {\n        id: 'terminal',\n        name: 'Terminal',\n        icon: '/images/icons/terminal.png',\n        type: 'internal',\n        component: 'Terminal',\n        position: {\n          x: 180,\n          y: 60\n        },\n        featured: true\n      }, {\n        id: 'about',\n        name: 'About Me',\n        icon: '/images/icons/about.png',\n        type: 'internal',\n        component: 'About',\n        position: {\n          x: 300,\n          y: 60\n        },\n        featured: true\n      }, {\n        id: 'contact',\n        name: 'Contact',\n        icon: '/images/icons/contact.png',\n        type: 'internal',\n        component: 'Contact',\n        position: {\n          x: 420,\n          y: 60\n        },\n        featured: true\n      }];\n    }\n\n    /**\r\n     * Create desktop icons for all apps\r\n     */\n  }, {\n    key: \"createDesktopIcons\",\n    value: function createDesktopIcons() {\n      var _this$preferences$des,\n        _this7 = this;\n      if (!this.iconsContainer) return;\n\n      // Clear existing icons\n      this.iconsContainer.innerHTML = '';\n\n      // Get apps to show (featured by default unless preferences say otherwise)\n      var showAllApps = ((_this$preferences$des = this.preferences.desktop) === null || _this$preferences$des === void 0 ? void 0 : _this$preferences$des.showAllApps) !== false;\n      var appsToShow = showAllApps ? this.desktopApps : this.desktopApps.filter(function (app) {\n        return app.featured;\n      });\n      appsToShow.forEach(function (app) {\n        _this7.createDesktopIcon(app);\n      });\n      console.log(\"Created \".concat(appsToShow.length, \" desktop icons\"));\n    }\n\n    /**\r\n     * Create individual desktop icon\r\n     */\n  }, {\n    key: \"createDesktopIcon\",\n    value: function createDesktopIcon(app) {\n      var _this$preferences$des2;\n      var icon = document.createElement('div');\n      icon.className = 'desktop-icon';\n      icon.dataset.appId = app.id;\n      icon.dataset.appType = app.type;\n\n      // Set initial position\n      icon.style.cssText = \"\\n            position: absolute;\\n            left: \".concat(app.position.x, \"px;\\n            top: \").concat(app.position.y, \"px;\\n            width: 64px;\\n            height: 64px;\\n            cursor: pointer;\\n            user-select: none;\\n            transform-origin: center;\\n            transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            gap: 4px;\\n        \");\n\n      // Create icon image\n      var iconImg = document.createElement('div');\n      iconImg.className = 'icon-image';\n      iconImg.style.cssText = \"\\n            width: 64px;\\n            height: 64px;\\n            background-image: url(\".concat(app.icon, \");\\n            background-size: cover;\\n            background-position: center;\\n            border-radius: 12px;\\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\\n            transition: all 200ms ease;\\n        \");\n\n      // Create icon label\n      var showLabels = ((_this$preferences$des2 = this.preferences.desktop) === null || _this$preferences$des2 === void 0 ? void 0 : _this$preferences$des2.showIconLabels) !== false;\n      var iconLabel = null;\n      if (showLabels) {\n        iconLabel = document.createElement('div');\n        iconLabel.className = 'icon-label';\n        iconLabel.textContent = app.name;\n        iconLabel.style.cssText = \"\\n                color: white;\\n                font-size: 11px;\\n                font-weight: 500;\\n                text-align: center;\\n                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);\\n                max-width: 80px;\\n                line-height: 1.2;\\n                word-wrap: break-word;\\n            \";\n      }\n\n      // Assemble icon\n      icon.appendChild(iconImg);\n      if (iconLabel) {\n        icon.appendChild(iconLabel);\n      }\n\n      // Add event listeners\n      this.addIconEventListeners(icon, app);\n\n      // Add to container\n      this.iconsContainer.appendChild(icon);\n    }\n\n    /**\r\n     * Add event listeners to desktop icon\r\n     */\n  }, {\n    key: \"addIconEventListeners\",\n    value: function addIconEventListeners(iconElement, app) {\n      var _this8 = this;\n      var iconImg = iconElement.querySelector('.icon-image');\n      var isDragging = false;\n      var dragStartPos = {\n        x: 0,\n        y: 0\n      };\n      var iconStartPos = {\n        x: 0,\n        y: 0\n      };\n\n      // Hover effects\n      iconElement.addEventListener('mouseenter', function () {\n        if (!isDragging) {\n          iconImg.style.transform = 'scale(1.1) rotate(5deg)';\n          iconImg.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.4)';\n        }\n      });\n      iconElement.addEventListener('mouseleave', function () {\n        if (!isDragging) {\n          iconImg.style.transform = 'scale(1) rotate(0deg)';\n          iconImg.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';\n        }\n      });\n\n      // Double-click to open app\n      iconElement.addEventListener('dblclick', function (e) {\n        e.preventDefault();\n        _this8.openApp(app);\n      });\n\n      // Drag functionality\n      iconElement.addEventListener('mousedown', function (e) {\n        if (e.button !== 0) return; // Only left mouse button\n\n        isDragging = true;\n        iconElement.style.opacity = '0.8';\n        iconElement.style.zIndex = '9999';\n        dragStartPos = {\n          x: e.clientX,\n          y: e.clientY\n        };\n        var rect = iconElement.getBoundingClientRect();\n        iconStartPos = {\n          x: rect.left,\n          y: rect.top\n        };\n        e.preventDefault();\n      });\n\n      // Global mouse move for dragging\n      document.addEventListener('mousemove', function (e) {\n        if (!isDragging) return;\n        var deltaX = e.clientX - dragStartPos.x;\n        var deltaY = e.clientY - dragStartPos.y;\n        var newX = iconStartPos.x + deltaX;\n        var newY = iconStartPos.y + deltaY;\n        iconElement.style.left = newX + 'px';\n        iconElement.style.top = newY + 'px';\n      });\n\n      // Global mouse up to end dragging\n      document.addEventListener('mouseup', function (e) {\n        if (!isDragging) return;\n        isDragging = false;\n        iconElement.style.opacity = '1';\n        iconElement.style.zIndex = 'auto';\n\n        // Snap to grid\n        var rect = iconElement.getBoundingClientRect();\n        var snappedPos = _this8.snapToGrid({\n          x: rect.left,\n          y: rect.top\n        });\n        iconElement.style.left = snappedPos.x + 'px';\n        iconElement.style.top = snappedPos.y + 'px';\n\n        // Update app position\n        app.position = snappedPos;\n\n        // Save positions\n        _this8.saveIconPositions();\n\n        // Reset hover effects\n        iconImg.style.transform = 'scale(1) rotate(0deg)';\n        iconImg.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';\n      });\n    }\n\n    /**\r\n     * Snap position to grid\r\n     */\n  }, {\n    key: \"snapToGrid\",\n    value: function snapToGrid(position) {\n      var gridSize = this.config.iconGridSize;\n      var snapThreshold = 15;\n      var snappedX = Math.round(position.x / gridSize) * gridSize;\n      var snappedY = Math.round(position.y / gridSize) * gridSize;\n\n      // Only snap if close enough\n      var deltaX = Math.abs(position.x - snappedX);\n      var deltaY = Math.abs(position.y - snappedY);\n      return {\n        x: deltaX < snapThreshold ? snappedX : position.x,\n        y: deltaY < snapThreshold ? snappedY : position.y\n      };\n    }\n\n    /**\r\n     * Open desktop application\r\n     */\n  }, {\n    key: \"openApp\",\n    value: function openApp(app) {\n      console.log('Opening app:', app.name);\n      if (app.type === 'external') {\n        // Open external URL in new tab\n        window.open(app.url, '_blank');\n      } else {\n        // Open internal component via EventBus\n        _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('app:launch', {\n          appId: app.id,\n          component: app.component,\n          name: app.name,\n          config: {\n            title: app.name,\n            size: app.size || {\n              width: 800,\n              height: 600\n            }\n          }\n        });\n      }\n\n      // Add to recent apps\n      this.addToRecentApps(app);\n    }\n\n    /**\r\n     * Add app to recent apps list\r\n     */\n  }, {\n    key: \"addToRecentApps\",\n    value: function addToRecentApps(app) {\n      if (!this.sessionData.recentApps) {\n        this.sessionData.recentApps = [];\n      }\n\n      // Remove if already exists\n      this.sessionData.recentApps = this.sessionData.recentApps.filter(function (recent) {\n        return recent.id !== app.id;\n      });\n\n      // Add to beginning\n      this.sessionData.recentApps.unshift({\n        id: app.id,\n        name: app.name,\n        timestamp: Date.now()\n      });\n\n      // Keep only last 10\n      this.sessionData.recentApps = this.sessionData.recentApps.slice(0, 10);\n\n      // Save session data\n      this.saveCurrentState();\n    }\n\n    /**\r\n     * Save desktop icon positions\r\n     */\n  }, {\n    key: \"saveIconPositions\",\n    value: function saveIconPositions() {\n      var positions = {};\n      var icons = this.iconsContainer.querySelectorAll('.desktop-icon');\n      icons.forEach(function (iconElement) {\n        var appId = iconElement.dataset.appId;\n        var rect = iconElement.getBoundingClientRect();\n        positions[appId] = {\n          x: parseInt(iconElement.style.left),\n          y: parseInt(iconElement.style.top)\n        };\n      });\n      localStorage.setItem('desktop_icon_positions', JSON.stringify(positions));\n    }\n\n    /**\r\n     * Load saved icon positions\r\n     */\n  }, {\n    key: \"loadIconPositions\",\n    value: function loadIconPositions() {\n      try {\n        var saved = localStorage.getItem('desktop_icon_positions');\n        if (saved) {\n          var positions = JSON.parse(saved);\n\n          // Update app positions\n          this.desktopApps.forEach(function (app) {\n            if (positions[app.id]) {\n              app.position = positions[app.id];\n            }\n          });\n        }\n      } catch (error) {\n        console.warn('Failed to load icon positions:', error);\n      }\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(error) {\n      console.error('Desktop error:', error);\n\n      // Hide boot overlay if it's showing\n      if (this.bootOverlay && this.isBooting) {\n        this.bootOverlay.style.display = 'none';\n        this.isBooting = false;\n      }\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('desktop:error', {\n        error: error.message\n      });\n    }\n\n    /**\r\n     * Progressive wallpaper loading - Load image with caching and transition\r\n     */\n  }, {\n    key: \"loadWallpaperImage\",\n    value: function () {\n      var _loadWallpaperImage = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee17(imageUrl) {\n        var _this9 = this;\n        var isThumbnail,\n          _args17 = arguments;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee17$(_context17) {\n          while (1) switch (_context17.prev = _context17.next) {\n            case 0:\n              isThumbnail = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : false;\n              return _context17.abrupt(\"return\", new Promise(function (resolve, reject) {\n                // Check cache first\n                if (_this9.wallpaperCache.has(imageUrl)) {\n                  _this9.applyWallpaperImage(imageUrl);\n                  resolve();\n                  return;\n                }\n                var img = new Image();\n                img.onload = function () {\n                  // Cache the loaded image\n                  _this9.wallpaperCache.set(imageUrl, img);\n\n                  // Apply with smooth transition\n                  _this9.applyWallpaperImage(imageUrl, isThumbnail);\n                  resolve();\n                };\n                img.onerror = function () {\n                  console.error('Failed to load wallpaper image:', imageUrl);\n                  reject(new Error(\"Failed to load \".concat(isThumbnail ? 'thumbnail' : 'wallpaper', \": \").concat(imageUrl)));\n                };\n                img.src = imageUrl;\n              }));\n            case 2:\n            case \"end\":\n              return _context17.stop();\n          }\n        }, _callee17);\n      }));\n      function loadWallpaperImage(_x6) {\n        return _loadWallpaperImage.apply(this, arguments);\n      }\n      return loadWallpaperImage;\n    }()\n    /**\r\n     * Apply wallpaper image with smooth crossfade transition\r\n     */\n  }, {\n    key: \"applyWallpaperImage\",\n    value: function applyWallpaperImage(imageUrl) {\n      var _this10 = this;\n      var isThumbnail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this.wallpaperContainer) return;\n      var duration = this.config.wallpaperTransitionDuration;\n\n      // Create temporary container for crossfade effect\n      if (!isThumbnail && this.wallpaperContainer.style.backgroundImage) {\n        var tempContainer = this.wallpaperContainer.cloneNode(false);\n        tempContainer.style.opacity = '0';\n        tempContainer.style.backgroundImage = \"url(\".concat(imageUrl, \")\");\n        tempContainer.style.transition = \"opacity \".concat(duration, \"ms ease-in-out\");\n        this.wallpaperContainer.parentNode.appendChild(tempContainer);\n\n        // Trigger transition\n        requestAnimationFrame(function () {\n          tempContainer.style.opacity = '1';\n          _this10.wallpaperContainer.style.opacity = '0';\n          setTimeout(function () {\n            _this10.wallpaperContainer.style.backgroundImage = \"url(\".concat(imageUrl, \")\");\n            _this10.wallpaperContainer.style.opacity = '1';\n            _this10.wallpaperContainer.style.transition = '';\n            tempContainer.remove();\n          }, duration);\n        });\n      } else {\n        // Direct application for thumbnails or first load\n        this.wallpaperContainer.style.backgroundImage = \"url(\".concat(imageUrl, \")\");\n      }\n    }\n\n    /**\r\n     * Preload wallpaper thumbnails for faster switching\r\n     */\n  }, {\n    key: \"preloadWallpaperThumbnails\",\n    value: function () {\n      var _preloadWallpaperThumbnails = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee18() {\n        var _this11 = this;\n        var preloadPromises;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee18$(_context18) {\n          while (1) switch (_context18.prev = _context18.next) {\n            case 0:\n              if (!(!this.wallpapers || this.wallpapers.length === 0)) {\n                _context18.next = 2;\n                break;\n              }\n              return _context18.abrupt(\"return\");\n            case 2:\n              console.log('Preloading wallpaper thumbnails...');\n              preloadPromises = this.wallpapers.filter(function (wallpaper) {\n                return wallpaper.thumbnail;\n              }).slice(0, 10) // Limit to first 10 to avoid overwhelming bandwidth\n              .map(function (wallpaper) {\n                return new Promise(function (resolve) {\n                  var img = new Image();\n                  img.onload = function () {\n                    _this11.wallpaperCache.set(wallpaper.thumbnail, img);\n                    resolve();\n                  };\n                  img.onerror = function () {\n                    return resolve();\n                  }; // Don't fail the whole preload\n                  img.src = wallpaper.thumbnail;\n                });\n              });\n              _context18.next = 6;\n              return Promise.all(preloadPromises);\n            case 6:\n              console.log('Thumbnails preloaded successfully');\n            case 7:\n            case \"end\":\n              return _context18.stop();\n          }\n        }, _callee18, this);\n      }));\n      function preloadWallpaperThumbnails() {\n        return _preloadWallpaperThumbnails.apply(this, arguments);\n      }\n      return preloadWallpaperThumbnails;\n    }()\n    /**\r\n     * Setup automatic wallpaper rotation timer\r\n     */\n  }, {\n    key: \"setupWallpaperRotation\",\n    value: function setupWallpaperRotation() {\n      var _this$preferences$des3,\n        _this12 = this;\n      // Clear existing timer\n      if (this.rotationTimer) {\n        clearInterval(this.rotationTimer);\n      }\n\n      // Check if auto-rotation is enabled in preferences\n      var rotationEnabled = ((_this$preferences$des3 = this.preferences.desktop) === null || _this$preferences$des3 === void 0 ? void 0 : _this$preferences$des3.autoRotation) !== false;\n      if (rotationEnabled && this.wallpapers.length > 1) {\n        this.rotationTimer = setInterval(function () {\n          _this12.rotateToNextWallpaper();\n        }, this.config.rotationInterval);\n        console.log(\"Auto-rotation enabled: every \".concat(this.config.rotationInterval / 60000, \" minutes\"));\n      }\n    }\n\n    /**\r\n     * Rotate to next wallpaper based on time or random selection\r\n     */\n  }, {\n    key: \"rotateToNextWallpaper\",\n    value: function () {\n      var _rotateToNextWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee19() {\n        var _this13 = this;\n        var _this$currentWallpape, timeBasedWallpaper, availableWallpapers, randomIndex, nextWallpaper;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee19$(_context19) {\n          while (1) switch (_context19.prev = _context19.next) {\n            case 0:\n              _context19.prev = 0;\n              _context19.next = 3;\n              return this.getTimeBasedWallpaper();\n            case 3:\n              timeBasedWallpaper = _context19.sent;\n              if (!(timeBasedWallpaper && timeBasedWallpaper.id !== ((_this$currentWallpape = this.currentWallpaper) === null || _this$currentWallpape === void 0 ? void 0 : _this$currentWallpape.id))) {\n                _context19.next = 8;\n                break;\n              }\n              _context19.next = 7;\n              return this.changeWallpaper(timeBasedWallpaper);\n            case 7:\n              return _context19.abrupt(\"return\");\n            case 8:\n              if (!(this.wallpapers.length > 1)) {\n                _context19.next = 15;\n                break;\n              }\n              availableWallpapers = this.wallpapers.filter(function (w) {\n                var _this13$currentWallpa;\n                return w.id !== ((_this13$currentWallpa = _this13.currentWallpaper) === null || _this13$currentWallpa === void 0 ? void 0 : _this13$currentWallpa.id);\n              });\n              if (!(availableWallpapers.length > 0)) {\n                _context19.next = 15;\n                break;\n              }\n              randomIndex = Math.floor(Math.random() * availableWallpapers.length);\n              nextWallpaper = availableWallpapers[randomIndex];\n              _context19.next = 15;\n              return this.changeWallpaper(nextWallpaper);\n            case 15:\n              _context19.next = 20;\n              break;\n            case 17:\n              _context19.prev = 17;\n              _context19.t0 = _context19[\"catch\"](0);\n              console.error('Failed to rotate wallpaper:', _context19.t0);\n            case 20:\n            case \"end\":\n              return _context19.stop();\n          }\n        }, _callee19, this, [[0, 17]]);\n      }));\n      function rotateToNextWallpaper() {\n        return _rotateToNextWallpaper.apply(this, arguments);\n      }\n      return rotateToNextWallpaper;\n    }()\n    /**\r\n     * Load time-based wallpaper from API\r\n     */\n  }, {\n    key: \"loadTimeBasedWallpaper\",\n    value: function () {\n      var _loadTimeBasedWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee20() {\n        var _this$sessionData2, hasSavedWallpaper, wallpaper;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee20$(_context20) {\n          while (1) switch (_context20.prev = _context20.next) {\n            case 0:\n              _context20.prev = 0;\n              // Don't override user's saved wallpaper preference\n              hasSavedWallpaper = localStorage.getItem('current_wallpaper') || ((_this$sessionData2 = this.sessionData) === null || _this$sessionData2 === void 0 ? void 0 : _this$sessionData2.wallpaper);\n              if (!hasSavedWallpaper) {\n                _context20.next = 5;\n                break;\n              }\n              console.log('User has saved wallpaper preference, skipping time-based loading');\n              return _context20.abrupt(\"return\");\n            case 5:\n              console.log('Loading time-based wallpaper...');\n              _context20.next = 8;\n              return this.getTimeBasedWallpaper();\n            case 8:\n              wallpaper = _context20.sent;\n              if (!wallpaper) {\n                _context20.next = 12;\n                break;\n              }\n              _context20.next = 12;\n              return this.changeWallpaper(wallpaper);\n            case 12:\n              _context20.next = 17;\n              break;\n            case 14:\n              _context20.prev = 14;\n              _context20.t0 = _context20[\"catch\"](0);\n              console.warn('Failed to load time-based wallpaper:', _context20.t0);\n            case 17:\n            case \"end\":\n              return _context20.stop();\n          }\n        }, _callee20, this, [[0, 14]]);\n      }));\n      function loadTimeBasedWallpaper() {\n        return _loadTimeBasedWallpaper.apply(this, arguments);\n      }\n      return loadTimeBasedWallpaper;\n    }()\n    /**\r\n     * Get time-appropriate wallpaper\r\n     */\n  }, {\n    key: \"getTimeBasedWallpaper\",\n    value: function () {\n      var _getTimeBasedWallpaper = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee21() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee21$(_context21) {\n          while (1) switch (_context21.prev = _context21.next) {\n            case 0:\n              _context21.prev = 0;\n              _context21.next = 3;\n              return fetch('/api/wallpapers/time-based');\n            case 3:\n              response = _context21.sent;\n              _context21.next = 6;\n              return response.json();\n            case 6:\n              data = _context21.sent;\n              if (!(data.success && data.data.length > 0)) {\n                _context21.next = 9;\n                break;\n              }\n              return _context21.abrupt(\"return\", data.data[0]);\n            case 9:\n              return _context21.abrupt(\"return\", null);\n            case 12:\n              _context21.prev = 12;\n              _context21.t0 = _context21[\"catch\"](0);\n              console.error('Failed to get time-based wallpaper:', _context21.t0);\n              return _context21.abrupt(\"return\", null);\n            case 16:\n            case \"end\":\n              return _context21.stop();\n          }\n        }, _callee21, null, [[0, 12]]);\n      }));\n      function getTimeBasedWallpaper() {\n        return _getTimeBasedWallpaper.apply(this, arguments);\n      }\n      return getTimeBasedWallpaper;\n    }()\n    /**\r\n     * Load fallback wallpaper on errors\r\n     */\n  }, {\n    key: \"loadFallbackWallpaper\",\n    value: function loadFallbackWallpaper() {\n      var fallback = {\n        id: 'fallback',\n        name: 'Default',\n        fullImage: '/images/wallpapers/default.jpg',\n        thumbnail: '/images/wallpapers/default.jpg'\n      };\n\n      // Simple fallback without progressive loading\n      this.wallpaperContainer.style.backgroundImage = \"url(\".concat(fallback.fullImage, \")\");\n      this.currentWallpaper = fallback;\n    }\n\n    /**\r\n     * Save current desktop state\r\n     */\n  }, {\n    key: \"saveCurrentState\",\n    value: function saveCurrentState() {\n      var _this$sessionData3;\n      var sessionData = {\n        timestamp: Date.now(),\n        wallpaper: this.currentWallpaper,\n        preferences: this.preferences,\n        bootCount: ((_this$sessionData3 = this.sessionData) === null || _this$sessionData3 === void 0 ? void 0 : _this$sessionData3.bootCount) || 0\n      };\n      try {\n        var _this$currentWallpape2, _this$currentWallpape3;\n        localStorage.setItem('desktop_session', JSON.stringify(sessionData));\n        // Update the local sessionData object so it's immediately available\n        this.sessionData = sessionData;\n        console.log('Desktop state saved with wallpaper:', ((_this$currentWallpape2 = this.currentWallpaper) === null || _this$currentWallpape2 === void 0 ? void 0 : _this$currentWallpape2.name) || ((_this$currentWallpape3 = this.currentWallpaper) === null || _this$currentWallpape3 === void 0 ? void 0 : _this$currentWallpape3.id));\n      } catch (error) {\n        console.warn('Failed to save desktop state:', error);\n      }\n    }\n\n    /**\r\n     * Clean up resources and timers\r\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      // Clear rotation timer\n      if (this.rotationTimer) {\n        clearInterval(this.rotationTimer);\n        this.rotationTimer = null;\n      }\n\n      // Clear wallpaper cache\n      this.wallpaperCache.clear();\n\n      // Remove event listeners\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].off('wallpaper:change', this.changeWallpaper.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].off('preferences:changed', this.onPreferencesChanged.bind(this));\n      console.log('Desktop component destroyed and cleaned up');\n    }\n\n    /**\r\n     * Get random default wallpaper for first-time users\r\n     * Uses deterministic randomization based on browser/session fingerprint\r\n     */\n  }, {\n    key: \"getRandomDefaultWallpaper\",\n    value: function getRandomDefaultWallpaper() {\n      try {\n        // Create a unique identifier for this browser/user\n        var fingerprint = this.generateUserFingerprint();\n\n        // Use fingerprint to deterministically select a wallpaper\n        var availableWallpapers = this.wallpapers.filter(function (w) {\n          return w.category === 'System' || w.category === 'Classic';\n        });\n        if (availableWallpapers.length === 0) {\n          return this.wallpapers[0] || null;\n        }\n\n        // Create deterministic random index from fingerprint\n        var hash = 0;\n        for (var i = 0; i < fingerprint.length; i++) {\n          var _char = fingerprint.charCodeAt(i);\n          hash = (hash << 5) - hash + _char;\n          hash = hash & hash; // Convert to 32-bit integer\n        }\n        var index = Math.abs(hash) % availableWallpapers.length;\n        var selectedWallpaper = availableWallpapers[index];\n        console.log(\"\\uD83C\\uDFB2 New user detected! Assigned random default wallpaper: \".concat(selectedWallpaper.name, \" (index \").concat(index, \"/\").concat(availableWallpapers.length, \")\"));\n        console.log(\"\\uD83D\\uDC64 User fingerprint: \".concat(fingerprint.substring(0, 8), \"...\"));\n        return selectedWallpaper;\n      } catch (error) {\n        console.error('Error generating random default wallpaper:', error);\n        return this.wallpapers[0] || null;\n      }\n    }\n\n    /**\r\n     * Generate a semi-unique fingerprint for this browser/user\r\n     * Combines various browser characteristics for deterministic randomization\r\n     */\n  }, {\n    key: \"generateUserFingerprint\",\n    value: function generateUserFingerprint() {\n      var components = [navigator.userAgent, navigator.language, screen.width + 'x' + screen.height, screen.colorDepth, new Date().getTimezoneOffset(), navigator.platform, navigator.cookieEnabled ? '1' : '0'];\n\n      // Add current date to make it change periodically (optional)\n      // components.push(new Date().toDateString());\n\n      return btoa(components.join('|')).replace(/[^a-zA-Z0-9]/g, '');\n    }\n\n    /**\r\n     * Check if this is a first-time user (no wallpaper preference saved)\r\n     */\n  }, {\n    key: \"isFirstTimeUser\",\n    value: function isFirstTimeUser() {\n      var _this$sessionData4, _this$preferences;\n      // Check for any existing wallpaper settings\n      var hasLocalStorageWallpaper = localStorage.getItem('current_wallpaper');\n      var hasSessionWallpaper = (_this$sessionData4 = this.sessionData) === null || _this$sessionData4 === void 0 ? void 0 : _this$sessionData4.wallpaper;\n      var hasPreferenceWallpaper = (_this$preferences = this.preferences) === null || _this$preferences === void 0 || (_this$preferences = _this$preferences.desktop) === null || _this$preferences === void 0 ? void 0 : _this$preferences.wallpaper;\n\n      // Check for first visit flag (set after first smart selection)\n      var hasVisitedBefore = localStorage.getItem('portfolio_visited');\n      var isFirstTime = !hasLocalStorageWallpaper && !hasSessionWallpaper && !hasPreferenceWallpaper && !hasVisitedBefore;\n\n      // Don't mark as visited here - let the backend handle this after wallpaper selection\n\n      return isFirstTime;\n    }\n\n    /**\r\n     * Debug helper: Test wallpaper persistence\r\n     */\n  }, {\n    key: \"testWallpaperPersistence\",\n    value: function testWallpaperPersistence() {\n      var _this$currentWallpape4;\n      console.log('=== WALLPAPER PERSISTENCE TEST ===');\n      console.log('Current wallpaper:', ((_this$currentWallpape4 = this.currentWallpaper) === null || _this$currentWallpape4 === void 0 ? void 0 : _this$currentWallpape4.name) || 'none');\n      console.log('Available wallpapers:', this.wallpapers.length);\n      console.log('Is first-time user:', this.isFirstTimeUser());\n      var saved = localStorage.getItem('current_wallpaper');\n      console.log('Saved in localStorage:', saved ? JSON.parse(saved) : 'none');\n      var session = localStorage.getItem('desktop_session');\n      console.log('Session data:', session ? JSON.parse(session) : 'none');\n      if (this.wallpapers.length > 0) {\n        console.log('Testing random assignment...');\n        var randomWallpaper = this.getRandomDefaultWallpaper();\n        console.log('Would assign:', (randomWallpaper === null || randomWallpaper === void 0 ? void 0 : randomWallpaper.name) || 'none');\n      }\n    }\n\n    /**\r\n     * Debug helper: Simulate new user (clear all saved data)\r\n     */\n  }, {\n    key: \"simulateNewUser\",\n    value: function simulateNewUser() {\n      console.log('üóëÔ∏è Clearing all user data to simulate new user...');\n      localStorage.removeItem('current_wallpaper');\n      localStorage.removeItem('desktop_session');\n      localStorage.removeItem('desktop_icon_positions');\n\n      // Reset session data\n      this.sessionData = null;\n      console.log('‚úÖ User data cleared. Refresh the page to see new user experience.');\n      console.log('üîÑ Or call: location.reload()');\n    }\n\n    /**\r\n     * Debug helper: Test random wallpaper assignment\r\n     */\n  }, {\n    key: \"testRandomAssignment\",\n    value: function testRandomAssignment() {\n      console.log('=== RANDOM WALLPAPER ASSIGNMENT TEST ===');\n      var fingerprint = this.generateUserFingerprint();\n      console.log('User fingerprint:', fingerprint.substring(0, 16) + '...');\n\n      // Test multiple times to show consistency\n      for (var i = 0; i < 5; i++) {\n        var randomWallpaper = this.getRandomDefaultWallpaper();\n        console.log(\"Test \".concat(i + 1, \": \").concat((randomWallpaper === null || randomWallpaper === void 0 ? void 0 : randomWallpaper.name) || 'none'));\n      }\n      console.log('‚òùÔ∏è Should be the same wallpaper every time (deterministic)');\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Desktop);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHTCxpRUFBZS9HLE9BQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9tYWNvcy9EZXNrdG9wLmpzPzQxMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4uL0V2ZW50QnVzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBEZXNrdG9wIC0gbWFjT1MgZGVza3RvcCBleHBlcmllbmNlIHdpdGggZW1iZWRkZWQgYm9vdCBhbmltYXRpb24gYW5kIHdhbGxwYXBlciBzeXN0ZW1cclxuICogSGFuZGxlcyBlbWJlZGRlZCBib290IHNlcXVlbmNlICh2aWEgQmxhZGUpLCB3YWxscGFwZXIgbWFuYWdlbWVudCwgaWNvbnMsIGFuZCBjb250ZXh0IG1lbnVcclxuICogU21hcnQgYm9vdCBsb2dpYzogNC01cyBzdGF0aWMgb24gZmlyc3QgdmlzaXQsIDFzIHF1aWNrIG9uIHJldHVybiB2aXNpdHNcclxuICovXHJcbmNsYXNzIERlc2t0b3Age1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYm9vdE92ZXJsYXkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbnRleHRNZW51ID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdGF0ZVxyXG4gICAgICAgIHRoaXMuaXNCb290aW5nID0gdHJ1ZTsgLy8gU3RhcnQgd2l0aCBib290IHNjcmVlblxyXG4gICAgICAgIHRoaXMuY3VycmVudFdhbGxwYXBlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy53YWxscGFwZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5kZXNrdG9wQXBwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMubG9hZGVkQXNzZXRzID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHRoaXMucHJlZmVyZW5jZXMgPSB7fTtcclxuICAgICAgICB0aGlzLnNlc3Npb25EYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uVGltZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc2l2ZUxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYm9vdFNjcmVlbiA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29uZmlndXJhdGlvblxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICBib290RHVyYXRpb246IDQwMDAsXHJcbiAgICAgICAgICAgIHdhbGxwYXBlclRyYW5zaXRpb25EdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgcm90YXRpb25JbnRlcnZhbDogMzAgKiA2MCAqIDEwMDAsIC8vIDMwIG1pbnV0ZXNcclxuICAgICAgICAgICAgbWF4Q2FjaGVTaXplOiAxMDAgKiAxMDI0ICogMTAyNCwgLy8gMTAwTUJcclxuICAgICAgICAgICAgaWNvbkdyaWRTaXplOiA4MCxcclxuICAgICAgICAgICAgcGVyZm9ybWFuY2VNb2RlOiB0aGlzLmRldGVjdFBlcmZvcm1hbmNlTW9kZSgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGRlc2t0b3AgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgYm9vdCBjb21wbGV0aW9uIGZyb20gZW1iZWRkZWQgYm9vdCBzY3JlZW5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Jvb3QtY29tcGxldGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVBZnRlckJvb3QoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBJZiBubyBlbWJlZGRlZCBib290IHNjcmVlbiBpcyBzaG93biwgaW5pdGlhbGl6ZSBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICBjb25zdCBib290T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib290LXNjcmVlbi1vdmVybGF5Jyk7XHJcbiAgICAgICAgICAgIGlmICghYm9vdE92ZXJsYXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUFmdGVyQm9vdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Rlc2t0b3A6IEluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yU3RhdGUoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgZGVza3RvcCBhZnRlciBib290IHNlcXVlbmNlIGNvbXBsZXRlc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplQWZ0ZXJCb290KCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIExvYWQgZXNzZW50aWFsIGRhdGFcclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUHJlZmVyZW5jZXMoKSxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFdhbGxwYXBlcnMoKSwgLy8gTG9hZCB3YWxscGFwZXJzIGZpcnN0IHNvIHRoZXkncmUgYXZhaWxhYmxlIGR1cmluZyBib290XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTZXNzaW9uRGF0YSgpXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgd2FsbHBhcGVyXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0SW5pdGlhbFdhbGxwYXBlcigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTG9hZCBkZXNrdG9wIGFwcHNcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkRGVza3RvcEFwcHMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIExvYWQgc2F2ZWQgaWNvbiBwb3NpdGlvbnMgYmVmb3JlIHNldHVwXHJcbiAgICAgICAgICAgIHRoaXMubG9hZEljb25Qb3NpdGlvbnMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZGVza3RvcFxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldHVwRGVza3RvcCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTWFyayBkZXNrdG9wIGFzIHJlYWR5XHJcbiAgICAgICAgICAgIHRoaXMuaXNCb290aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBFdmVudEJ1cy5lbWl0KCdkZXNrdG9wOnJlYWR5Jywge1xyXG4gICAgICAgICAgICAgICAgd2FsbHBhcGVyczogdGhpcy53YWxscGFwZXJzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzOiBPYmplY3Qua2V5cyh0aGlzLnByZWZlcmVuY2VzKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZU1vZGU6IHRoaXMuY29uZmlnLnBlcmZvcm1hbmNlTW9kZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIERPTSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVFbGVtZW50cygpIHtcclxuICAgICAgICAvLyBHZXQgZGVza3RvcCBjb250YWluZXJcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNrdG9wJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rlc2t0b3AgY29udGFpbmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHdhbGxwYXBlciBjb250YWluZXJcclxuICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3YWxscGFwZXItY29udGFpbmVyJztcclxuICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBpY29ucyBjb250YWluZXJcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5pY29uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZGVza3RvcC1pY29ucyc7XHJcbiAgICAgICAgdGhpcy5pY29uc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgY29udGV4dCBtZW51XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudSc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgYDtcclxuICAgICAgICB0aGlzLmNvbnRleHRNZW51LmlubmVySFRNTCA9IHRoaXMuY3JlYXRlQ29udGV4dE1lbnVIVE1MKCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0byBjb250YWluZXJcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLndhbGxwYXBlckNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5pY29uc0NvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0TWVudSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgY29udGV4dCBtZW51IEhUTUxcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQ29udGV4dE1lbnVIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtY29udGVudFwiIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMwLCAzMCwgMzAsIDAuOTUpO1xyXG4gICAgICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDA7XHJcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LWl0ZW1cIiBkYXRhLWFjdGlvbj1cImNoYW5nZV93YWxscGFwZXJcIiBzdHlsZT1cIlxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgICAgICBcIj5DaGFuZ2UgV2FsbHBhcGVyLi4uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1zZXBhcmF0b3JcIiBzdHlsZT1cImhlaWdodDogMXB4OyBiYWNrZ3JvdW5kOiAjNTU1OyBtYXJnaW46IDRweCAwO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtaXRlbVwiIGRhdGEtYWN0aW9uPVwidmlld19vcHRpb25zXCIgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgXCI+VmlldyBPcHRpb25zPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1pdGVtXCIgZGF0YS1hY3Rpb249XCJnZXRfaW5mb1wiIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgICAgIFwiPkdldCBJbmZvPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCaW5kIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgKi9cclxuICAgIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgLy8gR2xvYmFsIGV2ZW50c1xyXG4gICAgICAgIEV2ZW50QnVzLm9uKCdwcmVmZXJlbmNlczpjaGFuZ2VkJywgdGhpcy5vblByZWZlcmVuY2VzQ2hhbmdlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBFdmVudEJ1cy5vbignd2FsbHBhcGVyOmNoYW5nZScsIHRoaXMuY2hhbmdlV2FsbHBhcGVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFdpbmRvdyBldmVudHNcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkJlZm9yZVVubG9hZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEZXNrdG9wIGV2ZW50c1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5vbkNvbnRleHRNZW51LmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkRlc2t0b3BDbGljay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb250ZXh0IG1lbnUgZXZlbnRzXHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Db250ZXh0TWVudUNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG1vbml0b3JpbmdcclxuICAgICAgICBpZiAodGhpcy5jb25maWcucGVyZm9ybWFuY2VNb2RlID09PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cFBlcmZvcm1hbmNlTW9uaXRvcmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdXNlciBwcmVmZXJlbmNlc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkUHJlZmVyZW5jZXMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wcmVmZXJlbmNlcycpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmZXJlbmNlcyA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXMgPSB0aGlzLmdldERlZmF1bHRQcmVmZXJlbmNlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBwcmVmZXJlbmNlcywgdXNpbmcgZGVmYXVsdHM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzID0gdGhpcy5nZXREZWZhdWx0UHJlZmVyZW5jZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHdhbGxwYXBlcnMgZGF0YSB3aXRoIHByb2dyZXNzaXZlIGxvYWRpbmdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZFdhbGxwYXBlcnMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS93YWxscGFwZXJzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhbGxwYXBlcnMgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHByb2dyZXNzaXZlIHByZWxvYWRpbmcgb2YgdGh1bWJuYWlsc1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NpdmVMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkV2FsbHBhcGVyVGh1bWJuYWlscygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgdXAgYXV0by1yb3RhdGlvbiB0aW1lclxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFdhbGxwYXBlclJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFdhbGxwYXBlciBzZWxlY3Rpb24gaXMgaGFuZGxlZCBieSBzZXRJbml0aWFsV2FsbHBhcGVyKCkgY29uc2lzdGVudGx5XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2FsbHBhcGVycyBsb2FkZWQsIHNlbGVjdGlvbiB3aWxsIGJlIGhhbmRsZWQgYnkgc2V0SW5pdGlhbFdhbGxwYXBlcigpJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhbGxwYXBlcnMgPSB0aGlzLmdldERlZmF1bHRXYWxscGFwZXJzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIHdhbGxwYXBlcnMsIHVzaW5nIGRlZmF1bHRzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy53YWxscGFwZXJzID0gdGhpcy5nZXREZWZhdWx0V2FsbHBhcGVycygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgc2Vzc2lvbiBkYXRhXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvYWRTZXNzaW9uRGF0YSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGVza3RvcF9zZXNzaW9uJyk7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25EYXRhID0gdGhpcy5nZXREZWZhdWx0U2Vzc2lvbkRhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgc2Vzc2lvbiBkYXRhLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEgPSB0aGlzLmdldERlZmF1bHRTZXNzaW9uRGF0YSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgZGVza3RvcCBhcHBsaWNhdGlvbnMgZGF0YVxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkRGVza3RvcEFwcHMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2RhdGEvZGVza3RvcC1hcHBzLmpzb24nKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuYXBwcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXNrdG9wQXBwcyA9IGRhdGEuYXBwcztcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVza3RvcEljb25zKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2t0b3BBcHBzID0gdGhpcy5nZXREZWZhdWx0QXBwcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVEZXNrdG9wSWNvbnMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgZGVza3RvcCBhcHBzLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGVza3RvcEFwcHMgPSB0aGlzLmdldERlZmF1bHRBcHBzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVza3RvcEljb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGFzeW5jIHNldHVwRGVza3RvcCgpIHtcclxuICAgICAgICAvLyBXYWxscGFwZXIgaXMgaGFuZGxlZCBieSBzZXRJbml0aWFsV2FsbHBhcGVyKCkgLSBkb24ndCBkdXBsaWNhdGUgbG9naWNcclxuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Rlc2t0b3A6IE5vIHdhbGxwYXBlciBzZXQsIHVzaW5nIGZhbGxiYWNrJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBcHBseSB0aGVtZSBwcmVmZXJlbmNlc1xyXG4gICAgICAgIGlmICh0aGlzLnByZWZlcmVuY2VzLmFwcGVhcmFuY2U/LnRoZW1lKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCB0aGlzLnByZWZlcmVuY2VzLmFwcGVhcmFuY2UudGhlbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGRlc2t0b3AgaWNvbnNcclxuICAgICAgICB0aGlzLmNyZWF0ZURlc2t0b3BJY29ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGluaXRpYWwgd2FsbHBhcGVyIC0gU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3Igd2FsbHBhcGVyIHNlbGVjdGlvblxyXG4gICAgICogUHJpb3JpdHk6IDEpIFNhdmVkIHVzZXIgY2hvaWNlIDIpIEJhY2tlbmQgc21hcnQgc2VsZWN0aW9uIDMpIEZhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNldEluaXRpYWxXYWxscGFwZXIoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHdhbGxwYXBlciA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb25Tb3VyY2UgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBQcmlvcml0eSAxOiBDaGVjayBmb3Igc2F2ZWQgdXNlciB3YWxscGFwZXIgcHJlZmVyZW5jZVxyXG4gICAgICAgICAgICB3YWxscGFwZXIgPSB0aGlzLmdldFNhdmVkV2FsbHBhcGVyKCk7XHJcbiAgICAgICAgICAgIGlmICh3YWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGlvblNvdXJjZSA9ICdzYXZlZF9wcmVmZXJlbmNlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUHJpb3JpdHkgMjogR2V0IHdhbGxwYXBlciBkYXRhIHRoYXQgd2FzIHNlbGVjdGVkIGR1cmluZyBwYWdlIGxvYWQgKHNhbWUgYXMgYm9vdCBzY3JlZW4pXHJcbiAgICAgICAgICAgIGlmICghd2FsbHBhcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCB0cnkgdG8gZ2V0IHRoZSB3YWxscGFwZXIgZGF0YSB0aGF0IHdhcyBhbHJlYWR5IHNlbGVjdGVkIGR1cmluZyBwYWdlIGxvYWRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VMb2FkV2FsbHBhcGVyID0gYXdhaXQgdGhpcy5nZXRQYWdlTG9hZFdhbGxwYXBlckRhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYWdlTG9hZFdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhbGxwYXBlciA9IHBhZ2VMb2FkV2FsbHBhcGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblNvdXJjZSA9ICdwYWdlX2xvYWQnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBzbWFydCBzZWxlY3Rpb24gQVBJIChzYW1lIGxvZ2ljIGFzIGJhY2tlbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbHBhcGVyID0gYXdhaXQgdGhpcy5nZXRCYWNrZW5kU2VsZWN0ZWRXYWxscGFwZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2FsbHBhcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblNvdXJjZSA9ICdiYWNrZW5kX3NtYXJ0X3NlbGVjdGlvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhpcyBzZWxlY3Rpb24gZm9yIGNvbnNpc3RlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVdhbGxwYXBlclNlbGVjdGlvbih3YWxscGFwZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUHJpb3JpdHkgMzogRmFsbGJhY2sgdG8gZmlyc3QgYXZhaWxhYmxlIHdhbGxwYXBlclxyXG4gICAgICAgICAgICBpZiAoIXdhbGxwYXBlciAmJiB0aGlzLndhbGxwYXBlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgd2FsbHBhcGVyID0gdGhpcy53YWxscGFwZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uU291cmNlID0gJ2ZhbGxiYWNrJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgd2FsbHBhcGVyIGNvbnNpc3RlbnRseVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVdhbGxwYXBlckNvbnNpc3RlbnRseSh3YWxscGFwZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50V2FsbHBhcGVyID0gd2FsbHBhcGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNldCBpbml0aWFsIHdhbGxwYXBlcjonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHNhdmVkIHdhbGxwYXBlciBmcm9tIGxvY2FsU3RvcmFnZSBvciBzZXNzaW9uXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB1c2VyJ3MgZXhwbGljaXRseSBzYXZlZCB3YWxscGFwZXIgY2hvaWNlXHJcbiAgICAgKi9cclxuICAgIGdldFNhdmVkV2FsbHBhcGVyKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIGxvY2FsU3RvcmFnZSAoaGlnaGVzdCBwcmlvcml0eSlcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZWRXYWxscGFwZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudF93YWxscGFwZXInKTtcclxuICAgICAgICAgICAgaWYgKHNhdmVkV2FsbHBhcGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxscGFwZXJEYXRhID0gSlNPTi5wYXJzZShzYXZlZFdhbGxwYXBlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TgSBGb3VuZCBzYXZlZCB3YWxscGFwZXIgaW4gbG9jYWxTdG9yYWdlOicsIHdhbGxwYXBlckRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGZ1bGwgd2FsbHBhcGVyIG9iamVjdCBmcm9tIG91ciBsb2FkZWQgd2FsbHBhcGVyc1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2FsbHBhcGVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbFdhbGxwYXBlciA9IHRoaXMud2FsbHBhcGVycy5maW5kKHcgPT4gdy5pZCA9PT0gd2FsbHBhcGVyRGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bGxXYWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gTWF0Y2hlZCBzYXZlZCB3YWxscGFwZXIgd2l0aCBsb2FkZWQgY29sbGVjdGlvbjonLCBmdWxsV2FsbHBhcGVyLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFdhbGxwYXBlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpiBVc2luZyBzYXZlZCB3YWxscGFwZXIgZGF0YSBhcy1pczonLCB3YWxscGFwZXJEYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdhbGxwYXBlckRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHNlc3Npb24gZGF0YSBhcyBmYWxsYmFja1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uRGF0YT8ud2FsbHBhcGVyPy5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4QgRm91bmQgd2FsbHBhcGVyIGluIHNlc3Npb24gZGF0YTonLCB0aGlzLnNlc3Npb25EYXRhLndhbGxwYXBlci5uYW1lKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZnVsbCB3YWxscGFwZXIgb2JqZWN0IGZyb20gb3VyIGxvYWRlZCB3YWxscGFwZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53YWxscGFwZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmdWxsV2FsbHBhcGVyID0gdGhpcy53YWxscGFwZXJzLmZpbmQodyA9PiB3LmlkID09PSB0aGlzLnNlc3Npb25EYXRhLndhbGxwYXBlci5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bGxXYWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gTWF0Y2hlZCBzZXNzaW9uIHdhbGxwYXBlciB3aXRoIGxvYWRlZCBjb2xsZWN0aW9uOicsIGZ1bGxXYWxscGFwZXIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxsV2FsbHBhcGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25EYXRhLndhbGxwYXBlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzYXZlZCB3YWxscGFwZXI6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgd2FsbHBhcGVyIHNlbGVjdGVkIGJ5IGJhY2tlbmQgKHNhbWUgYXMgYm9vdCBzY3JlZW4pXHJcbiAgICAgKiBUaGlzIGVuc3VyZXMgYm9vdCBzY3JlZW4gYW5kIGRlc2t0b3Agc2hvdyB0aGUgc2FtZSB3YWxscGFwZXJcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0QmFja2VuZFNlbGVjdGVkV2FsbHBhcGVyKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzRmlyc3RWaXNpdCA9IHRoaXMuaXNGaXJzdFRpbWVVc2VyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJGaW5nZXJwcmludCA9IHRoaXMuZ2VuZXJhdGVVc2VyRmluZ2VycHJpbnQoKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBHZXR0aW5nIGJhY2tlbmQgd2FsbHBhcGVyIHNlbGVjdGlvbjonLCB7XHJcbiAgICAgICAgICAgICAgICBpc0ZpcnN0VmlzaXQsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SG91cixcclxuICAgICAgICAgICAgICAgIGZpbmdlcnByaW50OiB1c2VyRmluZ2VycHJpbnQuc3Vic3RyaW5nKDAsIDgpICsgJy4uLidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3dhbGxwYXBlcnMvc21hcnQtc2VsZWN0aW9uP2hvdXI9JHtjdXJyZW50SG91cn0mZmluZ2VycHJpbnQ9JHt1c2VyRmluZ2VycHJpbnR9JmZpcnN0VmlzaXQ9JHtpc0ZpcnN0VmlzaXR9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBCYWNrZW5kIHNlbGVjdGlvbjonLCBkYXRhLmRhdGEubmFtZSwgJ3wgTWV0aG9kOicsIGRhdGEubWV0YWRhdGE/LnNlbGVjdGlvbk1ldGhvZCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGZ1bGwgd2FsbHBhcGVyIG9iamVjdCBmcm9tIG91ciBsb2FkZWQgd2FsbHBhcGVyc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbFdhbGxwYXBlciA9IHRoaXMud2FsbHBhcGVycy5maW5kKHcgPT4gdy5pZCA9PT0gZGF0YS5kYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChmdWxsV2FsbHBhcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gRm91bmQgbWF0Y2hpbmcgd2FsbHBhcGVyIGluIGxvY2FsIGNvbGxlY3Rpb246JywgZnVsbFdhbGxwYXBlci5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFdhbGxwYXBlcjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6YgVXNpbmcgQVBJIHdhbGxwYXBlciBkYXRhOicsIGRhdGEuZGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQmFja2VuZCBzZWxlY3Rpb24gZmFpbGVkOicsIGRhdGEuZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGdldCBiYWNrZW5kIHdhbGxwYXBlciBzZWxlY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSB3YWxscGFwZXIgY29uc2lzdGVudGx5IHRvIGJvdGggYm9keSBhbmQgd2FsbHBhcGVyIGNvbnRhaW5lclxyXG4gICAgICogRW5zdXJlcyBzbW9vdGggdHJhbnNpdGlvbiBhbmQgY29uc2lzdGVudCBhcHBlYXJhbmNlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFwcGx5V2FsbHBhcGVyQ29uc2lzdGVudGx5KHdhbGxwYXBlcikge1xyXG4gICAgICAgIGlmICghd2FsbHBhcGVyKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSB3YWxscGFwZXIuZnVsbEltYWdlIHx8IHdhbGxwYXBlci51cmwgfHwgd2FsbHBhcGVyLmltYWdlO1xyXG4gICAgICAgIGlmICghaW1hZ2VVcmwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gaW1hZ2UgVVJMIGZvdW5kIGZvciB3YWxscGFwZXI6Jywgd2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBQcmVsb2FkIGltYWdlIGZpcnN0XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVsb2FkV2FsbHBhcGVySW1hZ2UoaW1hZ2VVcmwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFwcGx5IHRvIGJvdGggYm9keSAoZm9yIGJvb3QgY29uc2lzdGVuY3kpIGFuZCBjb250YWluZXIgKGZvciBkZXNrdG9wKVxyXG4gICAgICAgIHRoaXMuYXBwbHlXYWxscGFwZXJXaXRoVHJhbnNpdGlvbihpbWFnZVVybCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjqggV2FsbHBhcGVyIGFwcGxpZWQgY29uc2lzdGVudGx5OicsIHdhbGxwYXBlci5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZWxvYWQgd2FsbHBhcGVyIGltYWdlIHRvIGVuc3VyZSBzbW9vdGggYXBwbGljYXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgcHJlbG9hZFdhbGxwYXBlckltYWdlKGltYWdlVXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBXYWxscGFwZXIgcHJlbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byBwcmVsb2FkIHdhbGxwYXBlciwgY29udGludWluZyBhbnl3YXknKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTsgLy8gRG9uJ3QgcmVqZWN0LCBjb250aW51ZSB3aXRoIGFwcGxpY2F0aW9uXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBpbWFnZVVybDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB3YWxscGFwZXIgZGF0YSB0aGF0IHdhcyBzZWxlY3RlZCBkdXJpbmcgcGFnZSBsb2FkIChmcm9tIGJhY2tlbmQpXHJcbiAgICAgKiBUaGlzIGVuc3VyZXMgYm9vdCBzY3JlZW4gYW5kIGRlc2t0b3Agc2hvdyB0aGUgc2FtZSB3YWxscGFwZXJcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UGFnZUxvYWRXYWxscGFwZXJEYXRhKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIHdpbmRvdy5BYmR1bG1lQXBwLmNvbmZpZyBmb3Igd2FsbHBhcGVyIGRhdGEgc2V0IGJ5IGJhY2tlbmRcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5BYmR1bG1lQXBwPy5jb25maWc/LmN1cnJlbnRXYWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxwYXBlckRhdGEgPSB3aW5kb3cuQWJkdWxtZUFwcC5jb25maWcuY3VycmVudFdhbGxwYXBlcjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OEIEZvdW5kIHBhZ2UgbG9hZCB3YWxscGFwZXIgZnJvbSBBYmR1bG1lQXBwIGNvbmZpZzonLCB3YWxscGFwZXJEYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBmdWxsIHdhbGxwYXBlciBvYmplY3QgZnJvbSBvdXIgbG9hZGVkIHdhbGxwYXBlcnNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxXYWxscGFwZXIgPSB0aGlzLndhbGxwYXBlcnMuZmluZCh3ID0+IHcuaWQgPT09IHdhbGxwYXBlckRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxXYWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBNYXRjaGVkIHdpdGggbG9hZGVkIHdhbGxwYXBlciBjb2xsZWN0aW9uOicsIGZ1bGxXYWxscGFwZXIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxXYWxscGFwZXI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OmIFVzaW5nIGJhY2tlbmQgd2FsbHBhcGVyIGRhdGEgYXMtaXM6Jywgd2FsbHBhcGVyRGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2FsbHBhcGVyRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IENoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSB3aW5kb3cgb3IgZG9jdW1lbnQgKG9sZGVyIG1ldGhvZClcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5zZWxlY3RlZFdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4QgRm91bmQgbGVnYWN5IHBhZ2UgbG9hZCB3YWxscGFwZXIgZGF0YTonLCB3aW5kb3cuc2VsZWN0ZWRXYWxscGFwZXIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGZ1bGwgd2FsbHBhcGVyIG9iamVjdCBmcm9tIG91ciBsb2FkZWQgd2FsbHBhcGVyc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbFdhbGxwYXBlciA9IHRoaXMud2FsbHBhcGVycy5maW5kKHcgPT4gdy5pZCA9PT0gd2luZG93LnNlbGVjdGVkV2FsbHBhcGVyLmlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdWxsV2FsbHBhcGVyIHx8IHdpbmRvdy5zZWxlY3RlZFdhbGxwYXBlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWx0ZXJuYXRpdmU6IENoZWNrIG1ldGEgdGFnIG9yIGlubGluZSBzY3JpcHQgZGF0YVxyXG4gICAgICAgICAgICBjb25zdCB3YWxscGFwZXJNZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwic2VsZWN0ZWQtd2FsbHBhcGVyXCJdJyk7XHJcbiAgICAgICAgICAgIGlmICh3YWxscGFwZXJNZXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxscGFwZXJEYXRhID0gSlNPTi5wYXJzZSh3YWxscGFwZXJNZXRhLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn4+377iPIEZvdW5kIHdhbGxwYXBlciBpbiBtZXRhIHRhZzonLCB3YWxscGFwZXJEYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsV2FsbHBhcGVyID0gdGhpcy53YWxscGFwZXJzLmZpbmQodyA9PiB3LmlkID09PSB3YWxscGFwZXJEYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdWxsV2FsbHBhcGVyIHx8IHdhbGxwYXBlckRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gTm8gcGFnZSBsb2FkIHdhbGxwYXBlciBkYXRhIGZvdW5kJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcGFnZSBsb2FkIHdhbGxwYXBlciBkYXRhOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgSGFuZGxlcnNcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHByZWZlcmVuY2VzIGNoYW5nZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgb25QcmVmZXJlbmNlc0NoYW5nZWQoZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnUHJlZmVyZW5jZXMgY2hhbmdlZDonLCBldmVudC5kYXRhKTtcclxuICAgICAgICB0aGlzLnByZWZlcmVuY2VzID0geyAuLi50aGlzLnByZWZlcmVuY2VzLCAuLi5ldmVudC5kYXRhIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXBwbHkgcHJlZmVyZW5jZSBjaGFuZ2VzXHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuZGVza3RvcD8ud2FsbHBhcGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhbGxwYXBlciA9IHRoaXMud2FsbHBhcGVycy5maW5kKHcgPT4gdy5pZCA9PT0gZXZlbnQuZGF0YS5kZXNrdG9wLndhbGxwYXBlcik7XHJcbiAgICAgICAgICAgIGlmICh3YWxscGFwZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlV2FsbHBhcGVyKHdhbGxwYXBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuYXBwZWFyYW5jZT8udGhlbWUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIGV2ZW50LmRhdGEuYXBwZWFyYW5jZS50aGVtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHdhbGxwYXBlciBjaGFuZ2Ugd2l0aCBwcm9ncmVzc2l2ZSBsb2FkaW5nXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNoYW5nZVdhbGxwYXBlcih3YWxscGFwZXIpIHtcclxuICAgICAgICBpZiAoIXdhbGxwYXBlciB8fCAhdGhpcy53YWxscGFwZXJDb250YWluZXIpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2hhbmdpbmcgd2FsbHBhcGVyIHRvOicsIHdhbGxwYXBlci5uYW1lIHx8IHdhbGxwYXBlci5pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZnVsbEltYWdlVXJsID0gd2FsbHBhcGVyLmZ1bGxJbWFnZSB8fCB3YWxscGFwZXIudXJsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2xlYXIgb2xkIGNhY2hlIChrZWVwIG9ubHkgY3VycmVudCB3YWxscGFwZXIgZm9yIHBlcmZvcm1hbmNlKVxyXG4gICAgICAgICAgICB0aGlzLndhbGxwYXBlckNhY2hlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmdWxsIHJlc29sdXRpb24gaXMgYWxyZWFkeSBjYWNoZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMud2FsbHBhcGVyQ2FjaGUuaGFzKGZ1bGxJbWFnZVVybCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFVzZSBjYWNoZWQgZnVsbCByZXNvbHV0aW9uIGltbWVkaWF0ZWx5IHdpdGggdHJhbnNpdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseVdhbGxwYXBlcldpdGhUcmFuc2l0aW9uKGZ1bGxJbWFnZVVybCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC4zcyBlYXNlJztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUHJlbG9hZCBmdWxsIHJlc29sdXRpb24gaW4gYmFja2dyb3VuZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJlbG9hZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSBsb2FkZWQgaW1hZ2UgKG9ubHkgY3VycmVudCBvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxscGFwZXJDYWNoZS5zZXQoZnVsbEltYWdlVXJsLCBwcmVsb2FkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IHdpdGggc21vb3RoIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5V2FsbHBhcGVyV2l0aFRyYW5zaXRpb24oZnVsbEltYWdlVXJsKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2Uub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB3YWxscGFwZXI6JywgZnVsbEltYWdlVXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRGYWxsYmFja1dhbGxwYXBlcigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHByZWxvYWRJbWFnZS5zcmMgPSBmdWxsSW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdhbGxwYXBlciA9IHdhbGxwYXBlcjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBDdXJyZW50IHdhbGxwYXBlciBzZXQgdG86Jywgd2FsbHBhcGVyLm5hbWUgfHwgd2FsbHBhcGVyLmlkKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIEV2ZW50QnVzLmVtaXQoJ3dhbGxwYXBlcjpjaGFuZ2VkJywgeyB3YWxscGFwZXIgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTYXZlIHRvIGJhY2tlbmQgYW5kIGxvY2FsIHN0b3JhZ2UgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gU3RhcnRpbmcgd2FsbHBhcGVyIHNhdmUgcHJvY2Vzcy4uLicpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVXYWxscGFwZXJTZWxlY3Rpb24od2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzZXNzaW9uIGRhdGEgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgdGhpcy5zYXZlQ3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFdhbGxwYXBlciBjaGFuZ2UgY29tcGxldGU6Jywgd2FsbHBhcGVyLm5hbWUgfHwgd2FsbHBhcGVyLmlkKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFZlcmlmeSBzYXZlIHdvcmtlZFxyXG4gICAgICAgICAgICBjb25zdCB2ZXJpZmljYXRpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudF93YWxscGFwZXInKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gVmVyaWZpY2F0aW9uIC0gbG9jYWxTdG9yYWdlIGFmdGVyIHNhdmU6JywgdmVyaWZpY2F0aW9uID8gSlNPTi5wYXJzZSh2ZXJpZmljYXRpb24pLm5hbWUgOiAnTk9ORScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hhbmdlIHdhbGxwYXBlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgd2FsbHBhcGVyXHJcbiAgICAgICAgICAgIHRoaXMubG9hZEZhbGxiYWNrV2FsbHBhcGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgd2FsbHBhcGVyIHNlbGVjdGlvbiAtIFNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIHBlcnNpc3RlbmNlXHJcbiAgICAgKiBTYXZlcyB0byBib3RoIGxvY2FsU3RvcmFnZSAoaW1tZWRpYXRlKSBhbmQgYmFja2VuZCAoZm9yIHN5bmMpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNhdmVXYWxscGFwZXJTZWxlY3Rpb24od2FsbHBhcGVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gU2F2aW5nIHdhbGxwYXBlciBzZWxlY3Rpb246Jywgd2FsbHBhcGVyLm5hbWUgfHwgd2FsbHBhcGVyLmlkKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBzdGFuZGFyZGl6ZWQgd2FsbHBhcGVyIGRhdGFcclxuICAgICAgICAgICAgY29uc3Qgd2FsbHBhcGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiB3YWxscGFwZXIuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB3YWxscGFwZXIubmFtZSxcclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbDogd2FsbHBhcGVyLnRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgIGZ1bGxJbWFnZTogd2FsbHBhcGVyLmZ1bGxJbWFnZSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB3YWxscGFwZXIuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB3YWxscGFwZXIudHlwZSxcclxuICAgICAgICAgICAgICAgIGNvbG9yczogd2FsbHBhcGVyLmNvbG9ycyxcclxuICAgICAgICAgICAgICAgIHNhdmVkQXQ6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6ICd1c2VyX3NlbGVjdGlvbidcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIGltbWVkaWF0ZWx5IChjcml0aWNhbCBmb3IgcGVyc2lzdGVuY2UpXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50X3dhbGxwYXBlcicsIEpTT04uc3RyaW5naWZ5KHdhbGxwYXBlckRhdGEpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTYXZlZCB0byBsb2NhbFN0b3JhZ2U6Jywgd2FsbHBhcGVyRGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIE1hcmsgYXMgdmlzaXRlZCBpZiB0aGlzIGlzIGZpcnN0IHNlbGVjdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpcnN0VGltZVVzZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BvcnRmb2xpb192aXNpdGVkJywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgTWFya2VkIGZpcnN0IHZpc2l0IGNvbXBsZXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNhdmUgdG8gYmFja2VuZCBmb3Igc3luYyAobm9uLWJsb2NraW5nKVxyXG4gICAgICAgICAgICB0aGlzLnNhdmVUb0JhY2tlbmQod2FsbHBhcGVyRGF0YSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQmFja2VuZCBzYXZlIGZhaWxlZCAobm9uLWNyaXRpY2FsKTonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc2Vzc2lvbiBkYXRhXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZUN1cnJlbnRTdGF0ZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQ3JpdGljYWwgZXJyb3Igc2F2aW5nIHdhbGxwYXBlciBzZWxlY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgd2FsbHBhcGVyIHRvIGJhY2tlbmQgKGFzeW5jLCBub24tYmxvY2tpbmcpXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNhdmVUb0JhY2tlbmQod2FsbHBhcGVyRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvd2FsbHBhcGVycy9zZXQtY3VycmVudCcsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnWC1DU1JGLVRPS0VOJzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fCAnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh3YWxscGFwZXJEYXRhKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFdhbGxwYXBlciBzYXZlZCB0byBiYWNrZW5kJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCYWNrZW5kIHNhdmUgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgd2FsbHBhcGVyIHdpdGggc21vb3RoIHRyYW5zaXRpb25cclxuICAgICAqL1xyXG4gICAgYXBwbHlXYWxscGFwZXJXaXRoVHJhbnNpdGlvbihpbWFnZVVybCkge1xyXG4gICAgICAgIGlmICghdGhpcy53YWxscGFwZXJDb250YWluZXIpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgc21vb3RoIGZhZGUgdHJhbnNpdGlvblxyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnYmFja2dyb3VuZC1pbWFnZSAwLjhzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSksIG9wYWNpdHkgMC44cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBBcHBseSBuZXcgd2FsbHBhcGVyXHJcbiAgICAgICAgdGhpcy53YWxscGFwZXJDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtpbWFnZVVybH0nKWA7XHJcbiAgICAgICAgdGhpcy53YWxscGFwZXJDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInO1xyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSAnbm8tcmVwZWF0JztcclxuICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFsc28gc2V0IG9uIGJvZHkgZm9yIGltbWVkaWF0ZSB2aXNpYmlsaXR5XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2l0aW9uID0gJ2JhY2tncm91bmQtaW1hZ2UgMC44cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7aW1hZ2VVcmx9JylgO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY292ZXInO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ25vLXJlcGVhdCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dhbGxwYXBlciBhcHBsaWVkIHdpdGggc21vb3RoIHRyYW5zaXRpb24nKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgd2luZG93IHJlc2l6ZVxyXG4gICAgICovXHJcbiAgICBvbldpbmRvd1Jlc2l6ZSgpIHtcclxuICAgICAgICAvLyBVcGRhdGUgZGVza3RvcCBkaW1lbnNpb25zIGFuZCBpY29uIHBvc2l0aW9uc1xyXG4gICAgICAgIGlmICh0aGlzLmljb25zQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVwb3NpdGlvbkljb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSB3YWxscGFwZXIgaWYgbmVlZGVkXHJcbiAgICAgICAgaWYgKHRoaXMud2FsbHBhcGVyQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGJlZm9yZSB1bmxvYWRcclxuICAgICAqL1xyXG4gICAgb25CZWZvcmVVbmxvYWQoKSB7XHJcbiAgICAgICAgLy8gU2F2ZSBjdXJyZW50IHN0YXRlIGJlZm9yZSBwYWdlIHVubG9hZFxyXG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0ge1xyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHdhbGxwYXBlcjogdGhpcy5jdXJyZW50V2FsbHBhcGVyLFxyXG4gICAgICAgICAgICBwcmVmZXJlbmNlczogdGhpcy5wcmVmZXJlbmNlc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Rlc2t0b3Bfc2Vzc2lvbicsIEpTT04uc3RyaW5naWZ5KHNlc3Npb25EYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgZGVza3RvcCBjb250ZXh0IG1lbnVcclxuICAgICAqL1xyXG4gICAgb25Db250ZXh0TWVudShldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHRNZW51KSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUG9zaXRpb24gY29udGV4dCBtZW51IGF0IGN1cnNvclxyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGV2ZW50LmNsaWVudFggKyAncHgnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUudG9wID0gZXZlbnQuY2xpZW50WSArICdweCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBDbG9zZSBvbiBuZXh0IGNsaWNrXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgZGVza3RvcCBjbGlja1xyXG4gICAgICovXHJcbiAgICBvbkRlc2t0b3BDbGljayhldmVudCkge1xyXG4gICAgICAgIC8vIEhpZGUgY29udGV4dCBtZW51IGlmIGNsaWNraW5nIG9uIGVtcHR5IHNwYWNlXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dE1lbnUgJiYgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERlc2VsZWN0IGFueSBzZWxlY3RlZCBpY29uc1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSWNvbnMgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGVza3RvcC1pY29uLnNlbGVjdGVkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRJY29ucy5mb3JFYWNoKGljb24gPT4gaWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBjb250ZXh0IG1lbnUgY2xpY2tzXHJcbiAgICAgKi9cclxuICAgIG9uQ29udGV4dE1lbnVDbGljayhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGlvbjtcclxuICAgICAgICBpZiAoIWFjdGlvbikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NoYW5nZV93YWxscGFwZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuV2FsbHBhcGVyU2VsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd2aWV3X29wdGlvbnMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuVmlld09wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdnZXRfaW5mbyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dEZXNrdG9wSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIHBlcmZvcm1hbmNlIG1vbml0b3JpbmdcclxuICAgICAqL1xyXG4gICAgc2V0dXBQZXJmb3JtYW5jZU1vbml0b3JpbmcoKSB7XHJcbiAgICAgICAgbGV0IGZyYW1lQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1lYXN1cmVGUFMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZyYW1lQ291bnQrKztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RUaW1lID49IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZwcyA9IE1hdGgucm91bmQoKGZyYW1lQ291bnQgKiAxMDAwKSAvIChjdXJyZW50VGltZSAtIGxhc3RUaW1lKSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEFkanVzdCBwZXJmb3JtYW5jZSBtb2RlIGlmIEZQUyBkcm9wc1xyXG4gICAgICAgICAgICAgICAgaWYgKGZwcyA8IDMwICYmIHRoaXMuY29uZmlnLnBlcmZvcm1hbmNlTW9kZSAhPT0gJ2xvdycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5wZXJmb3JtYW5jZU1vZGUgPSAnbG93JztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlIG1vZGUgc3dpdGNoZWQgdG8gbG93IGR1ZSB0byBsb3cgRlBTOicsIGZwcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZyYW1lQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1lYXN1cmVGUFMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1lYXN1cmVGUFMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSBNZXRob2RzXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcG9zaXRpb24gZGVza3RvcCBpY29ucyBhZnRlciByZXNpemVcclxuICAgICAqL1xyXG4gICAgcmVwb3NpdGlvbkljb25zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pY29uc0NvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGljb25zID0gdGhpcy5pY29uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZGVza3RvcC1pY29uJyk7XHJcbiAgICAgICAgY29uc3QgZ3JpZFNpemUgPSB0aGlzLmNvbmZpZy5pY29uR3JpZFNpemU7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGljb25zLmZvckVhY2goKGljb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoaW5kZXggJSBNYXRoLmZsb29yKGNvbnRhaW5lclJlY3Qud2lkdGggLyBncmlkU2l6ZSkpO1xyXG4gICAgICAgICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGluZGV4IC8gTWF0aC5mbG9vcihjb250YWluZXJSZWN0LndpZHRoIC8gZ3JpZFNpemUpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGljb24uc3R5bGUubGVmdCA9IChjb2wgKiBncmlkU2l6ZSkgKyAncHgnO1xyXG4gICAgICAgICAgICBpY29uLnN0eWxlLnRvcCA9IChyb3cgKiBncmlkU2l6ZSkgKyAncHgnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiB3YWxscGFwZXIgc2VsZWN0b3IgbW9kYWxcclxuICAgICAqL1xyXG4gICAgb3BlbldhbGxwYXBlclNlbGVjdG9yKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdPcGVuaW5nIHdhbGxwYXBlciBzZWxlY3RvcicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBtb2RhbCBvdmVybGF5XHJcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAnd2FsbHBhcGVyLXNlbGVjdG9yLW1vZGFsJztcclxuICAgICAgICBtb2RhbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcyBlYXNlO1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIHNlbGVjdG9yIHBhbmVsXHJcbiAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBwYW5lbC5jbGFzc05hbWUgPSAnd2FsbHBhcGVyLXBhbmVsJztcclxuICAgICAgICBwYW5lbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDYwMHB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45KTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDMwMG1zIGVhc2U7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgaGVhZGVyXHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaGVhZGVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cclxuICAgICAgICAgICAgICAgIDxoMyBzdHlsZT1cIm1hcmdpbjogMDsgZm9udC1zaXplOiAxOHB4OyBjb2xvcjogIzFkMWQxZjtcIj5DaG9vc2UgYSBXYWxscGFwZXI8L2gzPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsb3NlLWJ0blwiIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmNWY1NztcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICBcIj5cXHUyNzE1PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIHdhbGxwYXBlciBncmlkXHJcbiAgICAgICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGdyaWQuY2xhc3NOYW1lID0gJ3dhbGxwYXBlci1ncmlkJztcclxuICAgICAgICBncmlkLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcclxuICAgICAgICAgICAgZ2FwOiAxMnB4O1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHdhbGxwYXBlcnMgdG8gZ3JpZFxyXG4gICAgICAgIHRoaXMud2FsbHBhcGVycy5mb3JFYWNoKHdhbGxwYXBlciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnd2FsbHBhcGVyLWl0ZW0nO1xyXG4gICAgICAgICAgICBpdGVtLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgICAgICBhc3BlY3QtcmF0aW86IDE2LzEwO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICR7d2FsbHBhcGVyLmlkID09PSB0aGlzLmN1cnJlbnRXYWxscGFwZXI/LmlkID8gJyMwMDdhZmYnIDogJ3RyYW5zcGFyZW50J307XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMjAwbXMgZWFzZTtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke3dhbGxwYXBlci50aHVtYm5haWwgfHwgd2FsbHBhcGVyLmZ1bGxJbWFnZX0pO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBob3ZlciBlZmZlY3RcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhbGxwYXBlci5pZCAhPT0gdGhpcy5jdXJyZW50V2FsbHBhcGVyPy5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEuMDUpJztcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJveFNoYWRvdyA9ICcwIDhweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4zKSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5ib3hTaGFkb3cgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRkIHdhbGxwYXBlciBuYW1lIG92ZXJsYXlcclxuICAgICAgICAgICAgY29uc3QgbmFtZU92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbmFtZU92ZXJsYXkuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjcpKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgbmFtZU92ZXJsYXkudGV4dENvbnRlbnQgPSB3YWxscGFwZXIubmFtZSB8fCB3YWxscGFwZXIuaWQ7XHJcbiAgICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQobmFtZU92ZXJsYXkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSGFuZGxlIHdhbGxwYXBlciBzZWxlY3Rpb25cclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VXYWxscGFwZXIod2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQucXVlcnlTZWxlY3RvckFsbCgnLndhbGxwYXBlci1pdGVtJykuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmJvcmRlciA9ICczcHggc29saWQgdHJhbnNwYXJlbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCAjMDA3YWZmJztcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSBtb2RhbCBhZnRlciBzaG9ydCBkZWxheVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZWxlY3Qgd2FsbHBhcGVyOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBncmlkLmFwcGVuZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFzc2VtYmxlIG1vZGFsXHJcbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcclxuICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChncmlkKTtcclxuICAgICAgICBtb2RhbC5hcHBlbmRDaGlsZChwYW5lbCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIGNsb3NlIGJ1dHRvblxyXG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gcGFuZWwucXVlcnlTZWxlY3RvcignLmNsb3NlLWJ0bicpO1xyXG4gICAgICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwuY2xpY2soKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIG1vZGFsIGNsb3NlXHJcbiAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgcGFuZWwuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDAuOSknO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtb2RhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFuaW1hdGUgaW5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2RhbC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICBwYW5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ3dhbGxwYXBlcjpzZWxlY3RvcjpvcGVuZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW4gdmlldyBvcHRpb25zIChwbGFjZWhvbGRlciBmb3IgZnV0dXJlIGltcGxlbWVudGF0aW9uKVxyXG4gICAgICovXHJcbiAgICBvcGVuVmlld09wdGlvbnMoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgdmlldyBvcHRpb25zIChub3QgaW1wbGVtZW50ZWQgeWV0KScpO1xyXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ2Rlc2t0b3A6b3B0aW9uczpvcGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93IGRlc2t0b3AgaW5mbyAocGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSBpbXBsZW1lbnRhdGlvbilcclxuICAgICAqL1xyXG4gICAgc2hvd0Rlc2t0b3BJbmZvKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTaG93aW5nIGRlc2t0b3AgaW5mbyAobm90IGltcGxlbWVudGVkIHlldCknKTtcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdkZXNrdG9wOmluZm86c2hvdycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBpbWFnZSB3aXRoIHByb21pc2VcclxuICAgICAqL1xyXG4gICAgbG9hZEltYWdlKHNyYykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERlbGF5IHV0aWxpdHlcclxuICAgICAqL1xyXG4gICAgZGVsYXkobXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbmltYXRpb24gdXRpbGl0eVxyXG4gICAgICovXHJcbiAgICBhbmltYXRlKGVsZW1lbnQsIGtleWZyYW1lcywgb3B0aW9ucykge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5wZXJmb3JtYW5jZU1vZGUgPT09ICdsb3cnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYW5pbWF0ZShrZXlmcmFtZXMsIG9wdGlvbnMpLmZpbmlzaGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHByb2dyZXNzIHRleHQgYmFzZWQgb24gcGVyY2VudGFnZVxyXG4gICAgICovXHJcbiAgICBnZXRQcm9ncmVzc1RleHQocGVyY2VudGFnZSkge1xyXG4gICAgICAgIGlmIChwZXJjZW50YWdlIDwgMjApIHJldHVybiAnU3RhcnRpbmcgdXAuLi4nO1xyXG4gICAgICAgIGlmIChwZXJjZW50YWdlIDwgNDApIHJldHVybiAnTG9hZGluZyBjb21wb25lbnRzLi4uJztcclxuICAgICAgICBpZiAocGVyY2VudGFnZSA8IDYwKSByZXR1cm4gJ0luaXRpYWxpemluZyBzeXN0ZW1zLi4uJztcclxuICAgICAgICBpZiAocGVyY2VudGFnZSA8IDgwKSByZXR1cm4gJ1ByZXBhcmluZyBkZXNrdG9wLi4uJztcclxuICAgICAgICByZXR1cm4gJ0FsbW9zdCByZWFkeS4uLic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZGVmYXVsdCBib290IG1lc3NhZ2VzXHJcbiAgICAgKi9cclxuICAgIGdldERlZmF1bHRCb290TWVzc2FnZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgJ0luaXRpYWxpemluZyBBYmR1bG1lTGluayBQb3J0Zm9saW8uLi4nLFxyXG4gICAgICAgICAgICAnTG9hZGluZyBtYWNPUyBpbnRlcmZhY2UuLi4nLFxyXG4gICAgICAgICAgICAnQ29uZmlndXJpbmcgRXZlbnRCdXMgc3lzdGVtLi4uJyxcclxuICAgICAgICAgICAgJ0xvYWRpbmcgd2FsbHBhcGVycyBhbmQgYXNzZXRzLi4uJyxcclxuICAgICAgICAgICAgJ1NldHRpbmcgdXAgZGVza3RvcCBlbnZpcm9ubWVudC4uLicsXHJcbiAgICAgICAgICAgICdTdGFydGluZyBzZXJ2aWNlcy4uLicsXHJcbiAgICAgICAgICAgICdBbG1vc3QgcmVhZHkuLi4nXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVjdCBkZXZpY2UgcGVyZm9ybWFuY2UgbW9kZVxyXG4gICAgICovXHJcbiAgICBkZXRlY3RQZXJmb3JtYW5jZU1vZGUoKSB7XHJcbiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSAvTW9iaXxBbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgICAgICBjb25zdCBjb3JlcyA9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5IHx8IDI7XHJcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gbmF2aWdhdG9yLmRldmljZU1lbW9yeSB8fCAyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlzTG93RW5kID0gY29yZXMgPCA0IHx8IG1lbW9yeSA8IDQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzTW9iaWxlIHx8IGlzTG93RW5kKSByZXR1cm4gJ21vYmlsZSc7XHJcbiAgICAgICAgaWYgKGNvcmVzID49IDggJiYgbWVtb3J5ID49IDgpIHJldHVybiAnaGlnaCc7XHJcbiAgICAgICAgcmV0dXJuICdhdXRvJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBkZWZhdWx0IHByZWZlcmVuY2VzXHJcbiAgICAgKi9cclxuICAgIGdldERlZmF1bHRQcmVmZXJlbmNlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhcHBlYXJhbmNlOiB7XHJcbiAgICAgICAgICAgICAgICB0aGVtZTogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbmN5OiAwLjlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVza3RvcDoge1xyXG4gICAgICAgICAgICAgICAgd2FsbHBhcGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgYXV0b1JvdGF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dMYWJlbHM6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogJ2F1dG8nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGRlZmF1bHQgd2FsbHBhcGVyc1xyXG4gICAgICovXHJcbiAgICBnZXREZWZhdWx0V2FsbHBhcGVycygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2RlZmF1bHQtMScsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnbWFjT1MgQmlnIFN1cicsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvaW1hZ2VzL3dhbGxwYXBlcnMvYmlnLXN1ci5qcGcnLFxyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAnL2ltYWdlcy93YWxscGFwZXJzL3RodW1icy9iaWctc3VyLmpwZycsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnZGVmYXVsdC0yJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdtYWNPUyBNb250ZXJleScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvaW1hZ2VzL3dhbGxwYXBlcnMvbW9udGVyZXkuanBnJyxcclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbDogJy9pbWFnZXMvd2FsbHBhcGVycy90aHVtYnMvbW9udGVyZXkuanBnJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYXJrJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBkZWZhdWx0IHNlc3Npb24gZGF0YVxyXG4gICAgICovXHJcbiAgICBnZXREZWZhdWx0U2Vzc2lvbkRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBmaXJzdFZpc2l0OiB0cnVlLFxyXG4gICAgICAgICAgICBib290Q291bnQ6IDFcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGRlZmF1bHQgZGVza3RvcCBhcHBsaWNhdGlvbnNcclxuICAgICAqL1xyXG4gICAgZ2V0RGVmYXVsdEFwcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6ICdwb3J0Zm9saW8nLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ1BvcnRmb2xpbycsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnL2ltYWdlcy9pY29ucy9wb3J0Zm9saW8ucG5nJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnRlcm5hbCcsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdQb3J0Zm9saW8nLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogNjAsIHk6IDYwIH0sXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ3Rlcm1pbmFsJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdUZXJtaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnL2ltYWdlcy9pY29ucy90ZXJtaW5hbC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludGVybmFsJywgXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdUZXJtaW5hbCcsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAxODAsIHk6IDYwIH0sXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2Fib3V0JyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdBYm91dCBNZScsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnL2ltYWdlcy9pY29ucy9hYm91dC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludGVybmFsJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0Fib3V0JywgXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAzMDAsIHk6IDYwIH0sXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlZDogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2NvbnRhY3QnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ0NvbnRhY3QnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJy9pbWFnZXMvaWNvbnMvY29udGFjdC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ludGVybmFsJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0NvbnRhY3QnLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogNDIwLCB5OiA2MCB9LFxyXG4gICAgICAgICAgICAgICAgZmVhdHVyZWQ6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgZGVza3RvcCBpY29ucyBmb3IgYWxsIGFwcHNcclxuICAgICAqL1xyXG4gICAgY3JlYXRlRGVza3RvcEljb25zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pY29uc0NvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGljb25zXHJcbiAgICAgICAgdGhpcy5pY29uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZXQgYXBwcyB0byBzaG93IChmZWF0dXJlZCBieSBkZWZhdWx0IHVubGVzcyBwcmVmZXJlbmNlcyBzYXkgb3RoZXJ3aXNlKVxyXG4gICAgICAgIGNvbnN0IHNob3dBbGxBcHBzID0gdGhpcy5wcmVmZXJlbmNlcy5kZXNrdG9wPy5zaG93QWxsQXBwcyAhPT0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgYXBwc1RvU2hvdyA9IHNob3dBbGxBcHBzID8gdGhpcy5kZXNrdG9wQXBwcyA6IHRoaXMuZGVza3RvcEFwcHMuZmlsdGVyKGFwcCA9PiBhcHAuZmVhdHVyZWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFwcHNUb1Nob3cuZm9yRWFjaChhcHAgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURlc2t0b3BJY29uKGFwcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgJHthcHBzVG9TaG93Lmxlbmd0aH0gZGVza3RvcCBpY29uc2ApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGluZGl2aWR1YWwgZGVza3RvcCBpY29uXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZURlc2t0b3BJY29uKGFwcCkge1xyXG4gICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBpY29uLmNsYXNzTmFtZSA9ICdkZXNrdG9wLWljb24nO1xyXG4gICAgICAgIGljb24uZGF0YXNldC5hcHBJZCA9IGFwcC5pZDtcclxuICAgICAgICBpY29uLmRhdGFzZXQuYXBwVHlwZSA9IGFwcC50eXBlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHBvc2l0aW9uXHJcbiAgICAgICAgaWNvbi5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIGxlZnQ6ICR7YXBwLnBvc2l0aW9uLnh9cHg7XHJcbiAgICAgICAgICAgIHRvcDogJHthcHAucG9zaXRpb24ueX1weDtcclxuICAgICAgICAgICAgd2lkdGg6IDY0cHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogNjRweDtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMjAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgZ2FwOiA0cHg7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgaWNvbiBpbWFnZVxyXG4gICAgICAgIGNvbnN0IGljb25JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBpY29uSW1nLmNsYXNzTmFtZSA9ICdpY29uLWltYWdlJztcclxuICAgICAgICBpY29uSW1nLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIHdpZHRoOiA2NHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2FwcC5pY29ufSk7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDIwMG1zIGVhc2U7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgaWNvbiBsYWJlbFxyXG4gICAgICAgIGNvbnN0IHNob3dMYWJlbHMgPSB0aGlzLnByZWZlcmVuY2VzLmRlc2t0b3A/LnNob3dJY29uTGFiZWxzICE9PSBmYWxzZTtcclxuICAgICAgICBsZXQgaWNvbkxhYmVsID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICBpY29uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaWNvbkxhYmVsLmNsYXNzTmFtZSA9ICdpY29uLWxhYmVsJztcclxuICAgICAgICAgICAgaWNvbkxhYmVsLnRleHRDb250ZW50ID0gYXBwLm5hbWU7XHJcbiAgICAgICAgICAgIGljb25MYWJlbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjgpO1xyXG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA4MHB4O1xyXG4gICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMjtcclxuICAgICAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXNzZW1ibGUgaWNvblxyXG4gICAgICAgIGljb24uYXBwZW5kQ2hpbGQoaWNvbkltZyk7XHJcbiAgICAgICAgaWYgKGljb25MYWJlbCkge1xyXG4gICAgICAgICAgICBpY29uLmFwcGVuZENoaWxkKGljb25MYWJlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLmFkZEljb25FdmVudExpc3RlbmVycyhpY29uLCBhcHApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB0byBjb250YWluZXJcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVycyB0byBkZXNrdG9wIGljb25cclxuICAgICAqL1xyXG4gICAgYWRkSWNvbkV2ZW50TGlzdGVuZXJzKGljb25FbGVtZW50LCBhcHApIHtcclxuICAgICAgICBjb25zdCBpY29uSW1nID0gaWNvbkVsZW1lbnQucXVlcnlTZWxlY3RvcignLmljb24taW1hZ2UnKTtcclxuICAgICAgICBsZXQgaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkcmFnU3RhcnRQb3MgPSB7IHg6IDAsIHk6IDAgfTtcclxuICAgICAgICBsZXQgaWNvblN0YXJ0UG9zID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSG92ZXIgZWZmZWN0c1xyXG4gICAgICAgIGljb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgaWNvbkltZy5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMS4xKSByb3RhdGUoNWRlZyknO1xyXG4gICAgICAgICAgICAgICAgaWNvbkltZy5zdHlsZS5ib3hTaGFkb3cgPSAnMCA2cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWNvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBpY29uSW1nLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSByb3RhdGUoMGRlZyknO1xyXG4gICAgICAgICAgICAgICAgaWNvbkltZy5zdHlsZS5ib3hTaGFkb3cgPSAnMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEb3VibGUtY2xpY2sgdG8gb3BlbiBhcHBcclxuICAgICAgICBpY29uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuQXBwKGFwcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRHJhZyBmdW5jdGlvbmFsaXR5XHJcbiAgICAgICAgaWNvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47IC8vIE9ubHkgbGVmdCBtb3VzZSBidXR0b25cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAuOCc7XHJcbiAgICAgICAgICAgIGljb25FbGVtZW50LnN0eWxlLnpJbmRleCA9ICc5OTk5JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGRyYWdTdGFydFBvcyA9IHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfTtcclxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGljb25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBpY29uU3RhcnRQb3MgPSB7IHg6IHJlY3QubGVmdCwgeTogcmVjdC50b3AgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHbG9iYWwgbW91c2UgbW92ZSBmb3IgZHJhZ2dpbmdcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhWCA9IGUuY2xpZW50WCAtIGRyYWdTdGFydFBvcy54O1xyXG4gICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBlLmNsaWVudFkgLSBkcmFnU3RhcnRQb3MueTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ggPSBpY29uU3RhcnRQb3MueCArIGRlbHRhWDtcclxuICAgICAgICAgICAgY29uc3QgbmV3WSA9IGljb25TdGFydFBvcy55ICsgZGVsdGFZO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWNvbkVsZW1lbnQuc3R5bGUubGVmdCA9IG5ld1ggKyAncHgnO1xyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS50b3AgPSBuZXdZICsgJ3B4JztcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHbG9iYWwgbW91c2UgdXAgdG8gZW5kIGRyYWdnaW5nXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS56SW5kZXggPSAnYXV0byc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTbmFwIHRvIGdyaWRcclxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGljb25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBzbmFwcGVkUG9zID0gdGhpcy5zbmFwVG9HcmlkKHsgeDogcmVjdC5sZWZ0LCB5OiByZWN0LnRvcCB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGljb25FbGVtZW50LnN0eWxlLmxlZnQgPSBzbmFwcGVkUG9zLnggKyAncHgnO1xyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS50b3AgPSBzbmFwcGVkUG9zLnkgKyAncHgnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVXBkYXRlIGFwcCBwb3NpdGlvblxyXG4gICAgICAgICAgICBhcHAucG9zaXRpb24gPSBzbmFwcGVkUG9zO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2F2ZSBwb3NpdGlvbnNcclxuICAgICAgICAgICAgdGhpcy5zYXZlSWNvblBvc2l0aW9ucygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUmVzZXQgaG92ZXIgZWZmZWN0c1xyXG4gICAgICAgICAgICBpY29uSW1nLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSByb3RhdGUoMGRlZyknO1xyXG4gICAgICAgICAgICBpY29uSW1nLnN0eWxlLmJveFNoYWRvdyA9ICcwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNuYXAgcG9zaXRpb24gdG8gZ3JpZFxyXG4gICAgICovXHJcbiAgICBzbmFwVG9HcmlkKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZ3JpZFNpemUgPSB0aGlzLmNvbmZpZy5pY29uR3JpZFNpemU7XHJcbiAgICAgICAgY29uc3Qgc25hcFRocmVzaG9sZCA9IDE1O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChwb3NpdGlvbi54IC8gZ3JpZFNpemUpICogZ3JpZFNpemU7XHJcbiAgICAgICAgY29uc3Qgc25hcHBlZFkgPSBNYXRoLnJvdW5kKHBvc2l0aW9uLnkgLyBncmlkU2l6ZSkgKiBncmlkU2l6ZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBPbmx5IHNuYXAgaWYgY2xvc2UgZW5vdWdoXHJcbiAgICAgICAgY29uc3QgZGVsdGFYID0gTWF0aC5hYnMocG9zaXRpb24ueCAtIHNuYXBwZWRYKTtcclxuICAgICAgICBjb25zdCBkZWx0YVkgPSBNYXRoLmFicyhwb3NpdGlvbi55IC0gc25hcHBlZFkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGRlbHRhWCA8IHNuYXBUaHJlc2hvbGQgPyBzbmFwcGVkWCA6IHBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IGRlbHRhWSA8IHNuYXBUaHJlc2hvbGQgPyBzbmFwcGVkWSA6IHBvc2l0aW9uLnlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiBkZXNrdG9wIGFwcGxpY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIG9wZW5BcHAoYXBwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgYXBwOicsIGFwcC5uYW1lKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYXBwLnR5cGUgPT09ICdleHRlcm5hbCcpIHtcclxuICAgICAgICAgICAgLy8gT3BlbiBleHRlcm5hbCBVUkwgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihhcHAudXJsLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT3BlbiBpbnRlcm5hbCBjb21wb25lbnQgdmlhIEV2ZW50QnVzXHJcbiAgICAgICAgICAgIEV2ZW50QnVzLmVtaXQoJ2FwcDpsYXVuY2gnLCB7XHJcbiAgICAgICAgICAgICAgICBhcHBJZDogYXBwLmlkLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBhcHAuY29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgbmFtZTogYXBwLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYXBwLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogYXBwLnNpemUgfHwgeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgdG8gcmVjZW50IGFwcHNcclxuICAgICAgICB0aGlzLmFkZFRvUmVjZW50QXBwcyhhcHApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGFwcCB0byByZWNlbnQgYXBwcyBsaXN0XHJcbiAgICAgKi9cclxuICAgIGFkZFRvUmVjZW50QXBwcyhhcHApIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2Vzc2lvbkRhdGEucmVjZW50QXBwcykge1xyXG4gICAgICAgICAgICB0aGlzLnNlc3Npb25EYXRhLnJlY2VudEFwcHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVtb3ZlIGlmIGFscmVhZHkgZXhpc3RzXHJcbiAgICAgICAgdGhpcy5zZXNzaW9uRGF0YS5yZWNlbnRBcHBzID0gdGhpcy5zZXNzaW9uRGF0YS5yZWNlbnRBcHBzLmZpbHRlcihyZWNlbnQgPT4gcmVjZW50LmlkICE9PSBhcHAuaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB0byBiZWdpbm5pbmdcclxuICAgICAgICB0aGlzLnNlc3Npb25EYXRhLnJlY2VudEFwcHMudW5zaGlmdCh7XHJcbiAgICAgICAgICAgIGlkOiBhcHAuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IGFwcC5uYW1lLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMFxyXG4gICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEucmVjZW50QXBwcyA9IHRoaXMuc2Vzc2lvbkRhdGEucmVjZW50QXBwcy5zbGljZSgwLCAxMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2F2ZSBzZXNzaW9uIGRhdGFcclxuICAgICAgICB0aGlzLnNhdmVDdXJyZW50U3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgZGVza3RvcCBpY29uIHBvc2l0aW9uc1xyXG4gICAgICovXHJcbiAgICBzYXZlSWNvblBvc2l0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB7fTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpY29ucyA9IHRoaXMuaWNvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRlc2t0b3AtaWNvbicpO1xyXG4gICAgICAgIGljb25zLmZvckVhY2goaWNvbkVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhcHBJZCA9IGljb25FbGVtZW50LmRhdGFzZXQuYXBwSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBpY29uRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgcG9zaXRpb25zW2FwcElkXSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHBhcnNlSW50KGljb25FbGVtZW50LnN0eWxlLmxlZnQpLFxyXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQoaWNvbkVsZW1lbnQuc3R5bGUudG9wKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXNrdG9wX2ljb25fcG9zaXRpb25zJywgSlNPTi5zdHJpbmdpZnkocG9zaXRpb25zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHNhdmVkIGljb24gcG9zaXRpb25zXHJcbiAgICAgKi9cclxuICAgIGxvYWRJY29uUG9zaXRpb25zKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Rlc2t0b3BfaWNvbl9wb3NpdGlvbnMnKTtcclxuICAgICAgICAgICAgaWYgKHNhdmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBKU09OLnBhcnNlKHNhdmVkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGFwcCBwb3NpdGlvbnNcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVza3RvcEFwcHMuZm9yRWFjaChhcHAgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbnNbYXBwLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAucG9zaXRpb24gPSBwb3NpdGlvbnNbYXBwLmlkXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgaWNvbiBwb3NpdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcG9zaXRpb24gaWNvbnMgYWZ0ZXIgd2luZG93IHJlc2l6ZVxyXG4gICAgICovXHJcbiAgICByZXBvc2l0aW9uSWNvbnMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmljb25zQ29udGFpbmVyKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMuaWNvbnNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgaWNvbnMgPSB0aGlzLmljb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZXNrdG9wLWljb24nKTtcclxuICAgICAgICBcclxuICAgICAgICBpY29ucy5mb3JFYWNoKGljb25FbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGljb25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gS2VlcCBpY29ucyB3aXRoaW4gYm91bmRzXHJcbiAgICAgICAgICAgIGxldCB4ID0gcGFyc2VJbnQoaWNvbkVsZW1lbnQuc3R5bGUubGVmdCk7XHJcbiAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQoaWNvbkVsZW1lbnQuc3R5bGUudG9wKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh4ICsgNjQgPiBjb250YWluZXJSZWN0LndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB4ID0gY29udGFpbmVyUmVjdC53aWR0aCAtIDY0IC0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkgKyA2NCA+IGNvbnRhaW5lclJlY3QuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB5ID0gY29udGFpbmVyUmVjdC5oZWlnaHQgLSA2NCAtIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoMjAsIHgpICsgJ3B4JztcclxuICAgICAgICAgICAgaWNvbkVsZW1lbnQuc3R5bGUudG9wID0gTWF0aC5tYXgoMjAsIHkpICsgJ3B4JztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBlcnJvciBjb25kaXRpb25zXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUVycm9yKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRGVza3RvcCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGlkZSBib290IG92ZXJsYXkgaWYgaXQncyBzaG93aW5nXHJcbiAgICAgICAgaWYgKHRoaXMuYm9vdE92ZXJsYXkgJiYgdGhpcy5pc0Jvb3RpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5ib290T3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0aGlzLmlzQm9vdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdkZXNrdG9wOmVycm9yJywgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2dyZXNzaXZlIHdhbGxwYXBlciBsb2FkaW5nIC0gTG9hZCBpbWFnZSB3aXRoIGNhY2hpbmcgYW5kIHRyYW5zaXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZFdhbGxwYXBlckltYWdlKGltYWdlVXJsLCBpc1RodW1ibmFpbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcclxuICAgICAgICAgICAgaWYgKHRoaXMud2FsbHBhcGVyQ2FjaGUuaGFzKGltYWdlVXJsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseVdhbGxwYXBlckltYWdlKGltYWdlVXJsKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGxvYWRlZCBpbWFnZVxyXG4gICAgICAgICAgICAgICAgdGhpcy53YWxscGFwZXJDYWNoZS5zZXQoaW1hZ2VVcmwsIGltZyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHdpdGggc21vb3RoIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlXYWxscGFwZXJJbWFnZShpbWFnZVVybCwgaXNUaHVtYm5haWwpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB3YWxscGFwZXIgaW1hZ2U6JywgaW1hZ2VVcmwpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgJHtpc1RodW1ibmFpbCA/ICd0aHVtYm5haWwnIDogJ3dhbGxwYXBlcid9OiAke2ltYWdlVXJsfWApKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBpbWFnZVVybDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IHdhbGxwYXBlciBpbWFnZSB3aXRoIHNtb290aCBjcm9zc2ZhZGUgdHJhbnNpdGlvblxyXG4gICAgICovXHJcbiAgICBhcHBseVdhbGxwYXBlckltYWdlKGltYWdlVXJsLCBpc1RodW1ibmFpbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhbGxwYXBlckNvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5jb25maWcud2FsbHBhcGVyVHJhbnNpdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wb3JhcnkgY29udGFpbmVyIGZvciBjcm9zc2ZhZGUgZWZmZWN0XHJcbiAgICAgICAgaWYgKCFpc1RodW1ibmFpbCAmJiB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcENvbnRhaW5lciA9IHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRlbXBDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgICAgICAgICAgdGVtcENvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7aW1hZ2VVcmx9KWA7XHJcbiAgICAgICAgICAgIHRlbXBDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IGBvcGFjaXR5ICR7ZHVyYXRpb259bXMgZWFzZS1pbi1vdXRgO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy53YWxscGFwZXJDb250YWluZXIucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0ZW1wQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgdHJhbnNpdGlvblxyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGVtcENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWxscGFwZXJDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxscGFwZXJDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2ltYWdlVXJsfSlgOyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbHBhcGVyQ29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wQ29udGFpbmVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEaXJlY3QgYXBwbGljYXRpb24gZm9yIHRodW1ibmFpbHMgb3IgZmlyc3QgbG9hZFxyXG4gICAgICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7aW1hZ2VVcmx9KWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJlbG9hZCB3YWxscGFwZXIgdGh1bWJuYWlscyBmb3IgZmFzdGVyIHN3aXRjaGluZ1xyXG4gICAgICovXHJcbiAgICBhc3luYyBwcmVsb2FkV2FsbHBhcGVyVGh1bWJuYWlscygpIHtcclxuICAgICAgICBpZiAoIXRoaXMud2FsbHBhcGVycyB8fCB0aGlzLndhbGxwYXBlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1ByZWxvYWRpbmcgd2FsbHBhcGVyIHRodW1ibmFpbHMuLi4nKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBwcmVsb2FkUHJvbWlzZXMgPSB0aGlzLndhbGxwYXBlcnNcclxuICAgICAgICAgICAgLmZpbHRlcih3YWxscGFwZXIgPT4gd2FsbHBhcGVyLnRodW1ibmFpbClcclxuICAgICAgICAgICAgLnNsaWNlKDAsIDEwKSAvLyBMaW1pdCB0byBmaXJzdCAxMCB0byBhdm9pZCBvdmVyd2hlbG1pbmcgYmFuZHdpZHRoXHJcbiAgICAgICAgICAgIC5tYXAod2FsbHBhcGVyID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbHBhcGVyQ2FjaGUuc2V0KHdhbGxwYXBlci50aHVtYm5haWwsIGltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpOyAvLyBEb24ndCBmYWlsIHRoZSB3aG9sZSBwcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHdhbGxwYXBlci50aHVtYm5haWw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByZWxvYWRQcm9taXNlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RodW1ibmFpbHMgcHJlbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgYXV0b21hdGljIHdhbGxwYXBlciByb3RhdGlvbiB0aW1lclxyXG4gICAgICovXHJcbiAgICBzZXR1cFdhbGxwYXBlclJvdGF0aW9uKCkge1xyXG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHRpbWVyXHJcbiAgICAgICAgaWYgKHRoaXMucm90YXRpb25UaW1lcikge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucm90YXRpb25UaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIGF1dG8tcm90YXRpb24gaXMgZW5hYmxlZCBpbiBwcmVmZXJlbmNlc1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uRW5hYmxlZCA9IHRoaXMucHJlZmVyZW5jZXMuZGVza3RvcD8uYXV0b1JvdGF0aW9uICE9PSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocm90YXRpb25FbmFibGVkICYmIHRoaXMud2FsbHBhcGVycy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlVG9OZXh0V2FsbHBhcGVyKCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMuY29uZmlnLnJvdGF0aW9uSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEF1dG8tcm90YXRpb24gZW5hYmxlZDogZXZlcnkgJHt0aGlzLmNvbmZpZy5yb3RhdGlvbkludGVydmFsIC8gNjAwMDB9IG1pbnV0ZXNgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgdG8gbmV4dCB3YWxscGFwZXIgYmFzZWQgb24gdGltZSBvciByYW5kb20gc2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJvdGF0ZVRvTmV4dFdhbGxwYXBlcigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBQcmVmZXIgdGltZS1iYXNlZCB3YWxscGFwZXJzXHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVCYXNlZFdhbGxwYXBlciA9IGF3YWl0IHRoaXMuZ2V0VGltZUJhc2VkV2FsbHBhcGVyKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGltZUJhc2VkV2FsbHBhcGVyICYmIHRpbWVCYXNlZFdhbGxwYXBlci5pZCAhPT0gdGhpcy5jdXJyZW50V2FsbHBhcGVyPy5pZCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VXYWxscGFwZXIodGltZUJhc2VkV2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcmFuZG9tIHNlbGVjdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpcy53YWxscGFwZXJzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZVdhbGxwYXBlcnMgPSB0aGlzLndhbGxwYXBlcnMuZmlsdGVyKHcgPT4gXHJcbiAgICAgICAgICAgICAgICAgICAgdy5pZCAhPT0gdGhpcy5jdXJyZW50V2FsbHBhcGVyPy5pZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVdhbGxwYXBlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXZhaWxhYmxlV2FsbHBhcGVycy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRXYWxscGFwZXIgPSBhdmFpbGFibGVXYWxscGFwZXJzW3JhbmRvbUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNoYW5nZVdhbGxwYXBlcihuZXh0V2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByb3RhdGUgd2FsbHBhcGVyOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIHRpbWUtYmFzZWQgd2FsbHBhcGVyIGZyb20gQVBJXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvYWRUaW1lQmFzZWRXYWxscGFwZXIoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRG9uJ3Qgb3ZlcnJpZGUgdXNlcidzIHNhdmVkIHdhbGxwYXBlciBwcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IGhhc1NhdmVkV2FsbHBhcGVyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRfd2FsbHBhcGVyJykgfHwgKHRoaXMuc2Vzc2lvbkRhdGE/LndhbGxwYXBlcik7XHJcbiAgICAgICAgICAgIGlmIChoYXNTYXZlZFdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgaGFzIHNhdmVkIHdhbGxwYXBlciBwcmVmZXJlbmNlLCBza2lwcGluZyB0aW1lLWJhc2VkIGxvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgdGltZS1iYXNlZCB3YWxscGFwZXIuLi4nKTtcclxuICAgICAgICAgICAgY29uc3Qgd2FsbHBhcGVyID0gYXdhaXQgdGhpcy5nZXRUaW1lQmFzZWRXYWxscGFwZXIoKTtcclxuICAgICAgICAgICAgaWYgKHdhbGxwYXBlcikge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VXYWxscGFwZXIod2FsbHBhcGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgdGltZS1iYXNlZCB3YWxscGFwZXI6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aW1lLWFwcHJvcHJpYXRlIHdhbGxwYXBlclxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRUaW1lQmFzZWRXYWxscGFwZXIoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS93YWxscGFwZXJzL3RpbWUtYmFzZWQnKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgJiYgZGF0YS5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmRhdGFbMF07IC8vIEFQSSByZXR1cm5zIGJlc3QgbWF0Y2ggZmlyc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCB0aW1lLWJhc2VkIHdhbGxwYXBlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgZmFsbGJhY2sgd2FsbHBhcGVyIG9uIGVycm9yc1xyXG4gICAgICovXHJcbiAgICBsb2FkRmFsbGJhY2tXYWxscGFwZXIoKSB7XHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSB7XHJcbiAgICAgICAgICAgIGlkOiAnZmFsbGJhY2snLFxyXG4gICAgICAgICAgICBuYW1lOiAnRGVmYXVsdCcsXHJcbiAgICAgICAgICAgIGZ1bGxJbWFnZTogJy9pbWFnZXMvd2FsbHBhcGVycy9kZWZhdWx0LmpwZycsXHJcbiAgICAgICAgICAgIHRodW1ibmFpbDogJy9pbWFnZXMvd2FsbHBhcGVycy9kZWZhdWx0LmpwZydcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNpbXBsZSBmYWxsYmFjayB3aXRob3V0IHByb2dyZXNzaXZlIGxvYWRpbmdcclxuICAgICAgICB0aGlzLndhbGxwYXBlckNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZmFsbGJhY2suZnVsbEltYWdlfSlgO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFdhbGxwYXBlciA9IGZhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2F2ZSBjdXJyZW50IGRlc2t0b3Agc3RhdGVcclxuICAgICAqL1xyXG4gICAgc2F2ZUN1cnJlbnRTdGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHtcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICB3YWxscGFwZXI6IHRoaXMuY3VycmVudFdhbGxwYXBlcixcclxuICAgICAgICAgICAgcHJlZmVyZW5jZXM6IHRoaXMucHJlZmVyZW5jZXMsXHJcbiAgICAgICAgICAgIGJvb3RDb3VudDogKHRoaXMuc2Vzc2lvbkRhdGE/LmJvb3RDb3VudCB8fCAwKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Rlc2t0b3Bfc2Vzc2lvbicsIEpTT04uc3RyaW5naWZ5KHNlc3Npb25EYXRhKSk7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbG9jYWwgc2Vzc2lvbkRhdGEgb2JqZWN0IHNvIGl0J3MgaW1tZWRpYXRlbHkgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkRhdGEgPSBzZXNzaW9uRGF0YTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Rlc2t0b3Agc3RhdGUgc2F2ZWQgd2l0aCB3YWxscGFwZXI6JywgdGhpcy5jdXJyZW50V2FsbHBhcGVyPy5uYW1lIHx8IHRoaXMuY3VycmVudFdhbGxwYXBlcj8uaWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgZGVza3RvcCBzdGF0ZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCB0aW1lcnNcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICAvLyBDbGVhciByb3RhdGlvbiB0aW1lclxyXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9uVGltZXIpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJvdGF0aW9uVGltZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDbGVhciB3YWxscGFwZXIgY2FjaGVcclxuICAgICAgICB0aGlzLndhbGxwYXBlckNhY2hlLmNsZWFyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIEV2ZW50QnVzLm9mZignd2FsbHBhcGVyOmNoYW5nZScsIHRoaXMuY2hhbmdlV2FsbHBhcGVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIEV2ZW50QnVzLm9mZigncHJlZmVyZW5jZXM6Y2hhbmdlZCcsIHRoaXMub25QcmVmZXJlbmNlc0NoYW5nZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Rlc2t0b3AgY29tcG9uZW50IGRlc3Ryb3llZCBhbmQgY2xlYW5lZCB1cCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCByYW5kb20gZGVmYXVsdCB3YWxscGFwZXIgZm9yIGZpcnN0LXRpbWUgdXNlcnNcclxuICAgICAqIFVzZXMgZGV0ZXJtaW5pc3RpYyByYW5kb21pemF0aW9uIGJhc2VkIG9uIGJyb3dzZXIvc2Vzc2lvbiBmaW5nZXJwcmludFxyXG4gICAgICovXHJcbiAgICBnZXRSYW5kb21EZWZhdWx0V2FsbHBhcGVyKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGJyb3dzZXIvdXNlclxyXG4gICAgICAgICAgICBjb25zdCBmaW5nZXJwcmludCA9IHRoaXMuZ2VuZXJhdGVVc2VyRmluZ2VycHJpbnQoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVzZSBmaW5nZXJwcmludCB0byBkZXRlcm1pbmlzdGljYWxseSBzZWxlY3QgYSB3YWxscGFwZXJcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlV2FsbHBhcGVycyA9IHRoaXMud2FsbHBhcGVycy5maWx0ZXIodyA9PiBcclxuICAgICAgICAgICAgICAgIHcuY2F0ZWdvcnkgPT09ICdTeXN0ZW0nIHx8IHcuY2F0ZWdvcnkgPT09ICdDbGFzc2ljJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVdhbGxwYXBlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53YWxscGFwZXJzWzBdIHx8IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBkZXRlcm1pbmlzdGljIHJhbmRvbSBpbmRleCBmcm9tIGZpbmdlcnByaW50XHJcbiAgICAgICAgICAgIGxldCBoYXNoID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaW5nZXJwcmludC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IGZpbmdlcnByaW50LmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xyXG4gICAgICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyLWJpdCBpbnRlZ2VyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5hYnMoaGFzaCkgJSBhdmFpbGFibGVXYWxscGFwZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRXYWxscGFwZXIgPSBhdmFpbGFibGVXYWxscGFwZXJzW2luZGV4XTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46yIE5ldyB1c2VyIGRldGVjdGVkISBBc3NpZ25lZCByYW5kb20gZGVmYXVsdCB3YWxscGFwZXI6ICR7c2VsZWN0ZWRXYWxscGFwZXIubmFtZX0gKGluZGV4ICR7aW5kZXh9LyR7YXZhaWxhYmxlV2FsbHBhcGVycy5sZW5ndGh9KWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+RpCBVc2VyIGZpbmdlcnByaW50OiAke2ZpbmdlcnByaW50LnN1YnN0cmluZygwLCA4KX0uLi5gKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFdhbGxwYXBlcjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyByYW5kb20gZGVmYXVsdCB3YWxscGFwZXI6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53YWxscGFwZXJzWzBdIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgc2VtaS11bmlxdWUgZmluZ2VycHJpbnQgZm9yIHRoaXMgYnJvd3Nlci91c2VyXHJcbiAgICAgKiBDb21iaW5lcyB2YXJpb3VzIGJyb3dzZXIgY2hhcmFjdGVyaXN0aWNzIGZvciBkZXRlcm1pbmlzdGljIHJhbmRvbWl6YXRpb25cclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVVc2VyRmluZ2VycHJpbnQoKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtcclxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlLFxyXG4gICAgICAgICAgICBzY3JlZW4ud2lkdGggKyAneCcgKyBzY3JlZW4uaGVpZ2h0LFxyXG4gICAgICAgICAgICBzY3JlZW4uY29sb3JEZXB0aCxcclxuICAgICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpLFxyXG4gICAgICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0sXHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5jb29raWVFbmFibGVkID8gJzEnIDogJzAnXHJcbiAgICAgICAgXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgY3VycmVudCBkYXRlIHRvIG1ha2UgaXQgY2hhbmdlIHBlcmlvZGljYWxseSAob3B0aW9uYWwpXHJcbiAgICAgICAgLy8gY29tcG9uZW50cy5wdXNoKG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBidG9hKGNvbXBvbmVudHMuam9pbignfCcpKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoaXMgaXMgYSBmaXJzdC10aW1lIHVzZXIgKG5vIHdhbGxwYXBlciBwcmVmZXJlbmNlIHNhdmVkKVxyXG4gICAgICovXHJcbiAgICBpc0ZpcnN0VGltZVVzZXIoKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFueSBleGlzdGluZyB3YWxscGFwZXIgc2V0dGluZ3NcclxuICAgICAgICBjb25zdCBoYXNMb2NhbFN0b3JhZ2VXYWxscGFwZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudF93YWxscGFwZXInKTtcclxuICAgICAgICBjb25zdCBoYXNTZXNzaW9uV2FsbHBhcGVyID0gdGhpcy5zZXNzaW9uRGF0YT8ud2FsbHBhcGVyO1xyXG4gICAgICAgIGNvbnN0IGhhc1ByZWZlcmVuY2VXYWxscGFwZXIgPSB0aGlzLnByZWZlcmVuY2VzPy5kZXNrdG9wPy53YWxscGFwZXI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGZpcnN0IHZpc2l0IGZsYWcgKHNldCBhZnRlciBmaXJzdCBzbWFydCBzZWxlY3Rpb24pXHJcbiAgICAgICAgY29uc3QgaGFzVmlzaXRlZEJlZm9yZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwb3J0Zm9saW9fdmlzaXRlZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlzRmlyc3RUaW1lID0gIWhhc0xvY2FsU3RvcmFnZVdhbGxwYXBlciAmJiAhaGFzU2Vzc2lvbldhbGxwYXBlciAmJiAhaGFzUHJlZmVyZW5jZVdhbGxwYXBlciAmJiAhaGFzVmlzaXRlZEJlZm9yZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEb24ndCBtYXJrIGFzIHZpc2l0ZWQgaGVyZSAtIGxldCB0aGUgYmFja2VuZCBoYW5kbGUgdGhpcyBhZnRlciB3YWxscGFwZXIgc2VsZWN0aW9uXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGlzRmlyc3RUaW1lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIERlYnVnIGhlbHBlcjogVGVzdCB3YWxscGFwZXIgcGVyc2lzdGVuY2VcclxuICAgICAqL1xyXG4gICAgdGVzdFdhbGxwYXBlclBlcnNpc3RlbmNlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCc9PT0gV0FMTFBBUEVSIFBFUlNJU1RFTkNFIFRFU1QgPT09Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgd2FsbHBhcGVyOicsIHRoaXMuY3VycmVudFdhbGxwYXBlcj8ubmFtZSB8fCAnbm9uZScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgd2FsbHBhcGVyczonLCB0aGlzLndhbGxwYXBlcnMubGVuZ3RoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnSXMgZmlyc3QtdGltZSB1c2VyOicsIHRoaXMuaXNGaXJzdFRpbWVVc2VyKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRfd2FsbHBhcGVyJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NhdmVkIGluIGxvY2FsU3RvcmFnZTonLCBzYXZlZCA/IEpTT04ucGFyc2Uoc2F2ZWQpIDogJ25vbmUnKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Rlc2t0b3Bfc2Vzc2lvbicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGRhdGE6Jywgc2Vzc2lvbiA/IEpTT04ucGFyc2Uoc2Vzc2lvbikgOiAnbm9uZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLndhbGxwYXBlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGVzdGluZyByYW5kb20gYXNzaWdubWVudC4uLicpO1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21XYWxscGFwZXIgPSB0aGlzLmdldFJhbmRvbURlZmF1bHRXYWxscGFwZXIoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dvdWxkIGFzc2lnbjonLCByYW5kb21XYWxscGFwZXI/Lm5hbWUgfHwgJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogRGVidWcgaGVscGVyOiBTaW11bGF0ZSBuZXcgdXNlciAoY2xlYXIgYWxsIHNhdmVkIGRhdGEpXHJcbiAgICAgKi9cclxuICAgIHNpbXVsYXRlTmV3VXNlcigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyBDbGVhcmluZyBhbGwgdXNlciBkYXRhIHRvIHNpbXVsYXRlIG5ldyB1c2VyLi4uJyk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2N1cnJlbnRfd2FsbHBhcGVyJyk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2Rlc2t0b3Bfc2Vzc2lvbicpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdkZXNrdG9wX2ljb25fcG9zaXRpb25zJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVzZXQgc2Vzc2lvbiBkYXRhXHJcbiAgICAgICAgdGhpcy5zZXNzaW9uRGF0YSA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGRhdGEgY2xlYXJlZC4gUmVmcmVzaCB0aGUgcGFnZSB0byBzZWUgbmV3IHVzZXIgZXhwZXJpZW5jZS4nKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBPciBjYWxsOiBsb2NhdGlvbi5yZWxvYWQoKScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIERlYnVnIGhlbHBlcjogVGVzdCByYW5kb20gd2FsbHBhcGVyIGFzc2lnbm1lbnRcclxuICAgICAqL1xyXG4gICAgdGVzdFJhbmRvbUFzc2lnbm1lbnQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJz09PSBSQU5ET00gV0FMTFBBUEVSIEFTU0lHTk1FTlQgVEVTVCA9PT0nKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBmaW5nZXJwcmludCA9IHRoaXMuZ2VuZXJhdGVVc2VyRmluZ2VycHJpbnQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBmaW5nZXJwcmludDonLCBmaW5nZXJwcmludC5zdWJzdHJpbmcoMCwgMTYpICsgJy4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRlc3QgbXVsdGlwbGUgdGltZXMgdG8gc2hvdyBjb25zaXN0ZW5jeVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbVdhbGxwYXBlciA9IHRoaXMuZ2V0UmFuZG9tRGVmYXVsdFdhbGxwYXBlcigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVGVzdCAke2kgKyAxfTogJHtyYW5kb21XYWxscGFwZXI/Lm5hbWUgfHwgJ25vbmUnfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygn4pid77iPIFNob3VsZCBiZSB0aGUgc2FtZSB3YWxscGFwZXIgZXZlcnkgdGltZSAoZGV0ZXJtaW5pc3RpYyknKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVza3RvcDsiXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJEZXNrdG9wIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29udGFpbmVyIiwiYm9vdE92ZXJsYXkiLCJ3YWxscGFwZXJDb250YWluZXIiLCJpY29uc0NvbnRhaW5lciIsImNvbnRleHRNZW51IiwiaXNCb290aW5nIiwiY3VycmVudFdhbGxwYXBlciIsIndhbGxwYXBlcnMiLCJkZXNrdG9wQXBwcyIsImxvYWRlZEFzc2V0cyIsIlNldCIsInByZWZlcmVuY2VzIiwic2Vzc2lvbkRhdGEiLCJyb3RhdGlvblRpbWVyIiwid2FsbHBhcGVyQ2FjaGUiLCJNYXAiLCJwcm9ncmVzc2l2ZUxvYWRpbmciLCJib290U2NyZWVuIiwiY29uZmlnIiwiYm9vdER1cmF0aW9uIiwid2FsbHBhcGVyVHJhbnNpdGlvbkR1cmF0aW9uIiwicm90YXRpb25JbnRlcnZhbCIsIm1heENhY2hlU2l6ZSIsImljb25HcmlkU2l6ZSIsInBlcmZvcm1hbmNlTW9kZSIsImRldGVjdFBlcmZvcm1hbmNlTW9kZSIsImluaXQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl9pbml0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJfdGhpcyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJjcmVhdGVFbGVtZW50cyIsImJpbmRFdmVudHMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdGlhbGl6ZUFmdGVyQm9vdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJlcnJvciIsImNvbnNvbGUiLCJzaG93RXJyb3JTdGF0ZSIsInN0b3AiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9pbml0aWFsaXplQWZ0ZXJCb290IiwiX2NhbGxlZTIiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJQcm9taXNlIiwiYWxsIiwibG9hZFByZWZlcmVuY2VzIiwibG9hZFdhbGxwYXBlcnMiLCJsb2FkU2Vzc2lvbkRhdGEiLCJzZXRJbml0aWFsV2FsbHBhcGVyIiwibG9hZERlc2t0b3BBcHBzIiwibG9hZEljb25Qb3NpdGlvbnMiLCJzZXR1cERlc2t0b3AiLCJlbWl0IiwibGVuZ3RoIiwiT2JqZWN0Iiwia2V5cyIsInQwIiwiaGFuZGxlRXJyb3IiLCJFcnJvciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJpbm5lckhUTUwiLCJjcmVhdGVDb250ZXh0TWVudUhUTUwiLCJhcHBlbmRDaGlsZCIsIm9uIiwib25QcmVmZXJlbmNlc0NoYW5nZWQiLCJiaW5kIiwiY2hhbmdlV2FsbHBhcGVyIiwib25XaW5kb3dSZXNpemUiLCJvbkJlZm9yZVVubG9hZCIsIm9uQ29udGV4dE1lbnUiLCJvbkRlc2t0b3BDbGljayIsIm9uQ29udGV4dE1lbnVDbGljayIsInNldHVwUGVyZm9ybWFuY2VNb25pdG9yaW5nIiwiX2xvYWRQcmVmZXJlbmNlcyIsIl9jYWxsZWUzIiwicmVzcG9uc2UiLCJkYXRhIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiZmV0Y2giLCJzZW50IiwianNvbiIsInN1Y2Nlc3MiLCJnZXREZWZhdWx0UHJlZmVyZW5jZXMiLCJ3YXJuIiwiX2xvYWRXYWxscGFwZXJzIiwiX2NhbGxlZTQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJwcmVsb2FkV2FsbHBhcGVyVGh1bWJuYWlscyIsInNldHVwV2FsbHBhcGVyUm90YXRpb24iLCJsb2ciLCJnZXREZWZhdWx0V2FsbHBhcGVycyIsIl9sb2FkU2Vzc2lvbkRhdGEiLCJfY2FsbGVlNSIsInN0b3JlZCIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJnZXREZWZhdWx0U2Vzc2lvbkRhdGEiLCJfbG9hZERlc2t0b3BBcHBzIiwiX2NhbGxlZTYiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJhcHBzIiwiY3JlYXRlRGVza3RvcEljb25zIiwiZ2V0RGVmYXVsdEFwcHMiLCJfc2V0dXBEZXNrdG9wIiwiX2NhbGxlZTciLCJfdGhpcyRwcmVmZXJlbmNlcyRhcHAiLCJfY2FsbGVlNyQiLCJfY29udGV4dDciLCJhcHBlYXJhbmNlIiwidGhlbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJfc2V0SW5pdGlhbFdhbGxwYXBlciIsIl9jYWxsZWU4Iiwid2FsbHBhcGVyIiwic2VsZWN0aW9uU291cmNlIiwicGFnZUxvYWRXYWxscGFwZXIiLCJfY2FsbGVlOCQiLCJfY29udGV4dDgiLCJnZXRTYXZlZFdhbGxwYXBlciIsImdldFBhZ2VMb2FkV2FsbHBhcGVyRGF0YSIsImdldEJhY2tlbmRTZWxlY3RlZFdhbGxwYXBlciIsInNhdmVXYWxscGFwZXJTZWxlY3Rpb24iLCJhcHBseVdhbGxwYXBlckNvbnNpc3RlbnRseSIsIl90aGlzMiIsIl90aGlzJHNlc3Npb25EYXRhIiwic2F2ZWRXYWxscGFwZXIiLCJ3YWxscGFwZXJEYXRhIiwibmFtZSIsImZ1bGxXYWxscGFwZXIiLCJmaW5kIiwidyIsImlkIiwiX2Z1bGxXYWxscGFwZXIiLCJfZ2V0QmFja2VuZFNlbGVjdGVkV2FsbHBhcGVyIiwiX2NhbGxlZTkiLCJpc0ZpcnN0VmlzaXQiLCJ1c2VyRmluZ2VycHJpbnQiLCJjdXJyZW50SG91ciIsIl9kYXRhJG1ldGFkYXRhIiwiX2NhbGxlZTkkIiwiX2NvbnRleHQ5IiwiaXNGaXJzdFRpbWVVc2VyIiwiZ2VuZXJhdGVVc2VyRmluZ2VycHJpbnQiLCJEYXRlIiwiZ2V0SG91cnMiLCJmaW5nZXJwcmludCIsInN1YnN0cmluZyIsImNvbmNhdCIsIm1ldGFkYXRhIiwic2VsZWN0aW9uTWV0aG9kIiwiYWJydXB0IiwiX2FwcGx5V2FsbHBhcGVyQ29uc2lzdGVudGx5IiwiX2NhbGxlZTEwIiwiaW1hZ2VVcmwiLCJfY2FsbGVlMTAkIiwiX2NvbnRleHQxMCIsImZ1bGxJbWFnZSIsInVybCIsImltYWdlIiwicHJlbG9hZFdhbGxwYXBlckltYWdlIiwiYXBwbHlXYWxscGFwZXJXaXRoVHJhbnNpdGlvbiIsIl94IiwiX3ByZWxvYWRXYWxscGFwZXJJbWFnZSIsIl9jYWxsZWUxMSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsIl94MiIsIl9nZXRQYWdlTG9hZFdhbGxwYXBlckRhdGEiLCJfY2FsbGVlMTIiLCJfd2luZG93JEFiZHVsbWVBcHAiLCJfZnVsbFdhbGxwYXBlcjIiLCJ3YWxscGFwZXJNZXRhIiwiX3dhbGxwYXBlckRhdGEiLCJfZnVsbFdhbGxwYXBlcjMiLCJfY2FsbGVlMTIkIiwiX2NvbnRleHQxMiIsIkFiZHVsbWVBcHAiLCJzZWxlY3RlZFdhbGxwYXBlciIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJldmVudCIsIl9ldmVudCRkYXRhJGRlc2t0b3AiLCJfZXZlbnQkZGF0YSRhcHBlYXJhbmMiLCJfb2JqZWN0U3ByZWFkIiwiZGVza3RvcCIsIl9jaGFuZ2VXYWxscGFwZXIiLCJfY2FsbGVlMTMiLCJfdGhpczMiLCJmdWxsSW1hZ2VVcmwiLCJwcmVsb2FkSW1hZ2UiLCJ2ZXJpZmljYXRpb24iLCJfY2FsbGVlMTMkIiwiX2NvbnRleHQxMyIsImNsZWFyIiwiaGFzIiwidHJhbnNpdGlvbiIsInNldCIsImxvYWRGYWxsYmFja1dhbGxwYXBlciIsInNhdmVDdXJyZW50U3RhdGUiLCJfeDMiLCJfc2F2ZVdhbGxwYXBlclNlbGVjdGlvbiIsIl9jYWxsZWUxNCIsIl9jYWxsZWUxNCQiLCJfY29udGV4dDE0IiwidGh1bWJuYWlsIiwiY2F0ZWdvcnkiLCJ0eXBlIiwiY29sb3JzIiwic2F2ZWRBdCIsIm5vdyIsInNvdXJjZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ0b0lTT1N0cmluZyIsInNhdmVUb0JhY2tlbmQiLCJtZXNzYWdlIiwiX3g0IiwiX3NhdmVUb0JhY2tlbmQiLCJfY2FsbGVlMTUiLCJfZG9jdW1lbnQkcXVlcnlTZWxlY3QiLCJfY2FsbGVlMTUkIiwiX2NvbnRleHQxNSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwib2siLCJzdGF0dXMiLCJfeDUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRQb3NpdGlvbiIsImJhY2tncm91bmRSZXBlYXQiLCJvcGFjaXR5IiwicmVwb3NpdGlvbkljb25zIiwid2lkdGgiLCJoZWlnaHQiLCJ0aW1lc3RhbXAiLCJfdGhpczQiLCJwcmV2ZW50RGVmYXVsdCIsImxlZnQiLCJjbGllbnRYIiwidG9wIiwiY2xpZW50WSIsImRpc3BsYXkiLCJzZXRUaW1lb3V0Iiwib25jZSIsInRhcmdldCIsInNlbGVjdGVkSWNvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImljb24iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzdG9wUHJvcGFnYXRpb24iLCJhY3Rpb24iLCJkYXRhc2V0Iiwib3BlbldhbGxwYXBlclNlbGVjdG9yIiwib3BlblZpZXdPcHRpb25zIiwic2hvd0Rlc2t0b3BJbmZvIiwiX3RoaXM1IiwiZnJhbWVDb3VudCIsImxhc3RUaW1lIiwicGVyZm9ybWFuY2UiLCJtZWFzdXJlRlBTIiwiY3VycmVudFRpbWUiLCJmcHMiLCJNYXRoIiwicm91bmQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb250YWluZXJSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaWNvbnMiLCJpY29uRWxlbWVudCIsInJlY3QiLCJ4IiwicGFyc2VJbnQiLCJ5IiwibWF4IiwiX3RoaXM2IiwibW9kYWwiLCJwYW5lbCIsImhlYWRlciIsImdyaWQiLCJfdGhpczYkY3VycmVudFdhbGxwYXAiLCJpdGVtIiwiX3RoaXM2JGN1cnJlbnRXYWxscGFwMiIsInRyYW5zZm9ybSIsImJveFNoYWRvdyIsIm5hbWVPdmVybGF5IiwidGV4dENvbnRlbnQiLCJfY2FsbGVlMTYiLCJfY2FsbGVlMTYkIiwiX2NvbnRleHQxNiIsImVsIiwiYm9yZGVyIiwiY2xpY2siLCJjbG9zZUJ0biIsImUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJsb2FkSW1hZ2UiLCJkZWxheSIsIm1zIiwiYW5pbWF0ZSIsImVsZW1lbnQiLCJrZXlmcmFtZXMiLCJvcHRpb25zIiwiZmluaXNoZWQiLCJnZXRQcm9ncmVzc1RleHQiLCJwZXJjZW50YWdlIiwiZ2V0RGVmYXVsdEJvb3RNZXNzYWdlcyIsImlzTW9iaWxlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImNvcmVzIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm1lbW9yeSIsImRldmljZU1lbW9yeSIsImlzTG93RW5kIiwidHJhbnNwYXJlbmN5IiwiYXV0b1JvdGF0ZSIsInNob3dMYWJlbHMiLCJhbmltYXRpb25zIiwiZWZmZWN0cyIsInF1YWxpdHkiLCJmaXJzdFZpc2l0IiwiYm9vdENvdW50IiwiY29tcG9uZW50IiwicG9zaXRpb24iLCJmZWF0dXJlZCIsIl90aGlzJHByZWZlcmVuY2VzJGRlcyIsIl90aGlzNyIsInNob3dBbGxBcHBzIiwiYXBwc1RvU2hvdyIsImZpbHRlciIsImFwcCIsImNyZWF0ZURlc2t0b3BJY29uIiwiX3RoaXMkcHJlZmVyZW5jZXMkZGVzMiIsImFwcElkIiwiYXBwVHlwZSIsImljb25JbWciLCJzaG93SWNvbkxhYmVscyIsImljb25MYWJlbCIsImFkZEljb25FdmVudExpc3RlbmVycyIsIl90aGlzOCIsImlzRHJhZ2dpbmciLCJkcmFnU3RhcnRQb3MiLCJpY29uU3RhcnRQb3MiLCJvcGVuQXBwIiwiYnV0dG9uIiwiekluZGV4IiwiZGVsdGFYIiwiZGVsdGFZIiwibmV3WCIsIm5ld1kiLCJzbmFwcGVkUG9zIiwic25hcFRvR3JpZCIsInNhdmVJY29uUG9zaXRpb25zIiwiZ3JpZFNpemUiLCJzbmFwVGhyZXNob2xkIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsImFicyIsIm9wZW4iLCJ0aXRsZSIsInNpemUiLCJhZGRUb1JlY2VudEFwcHMiLCJyZWNlbnRBcHBzIiwicmVjZW50IiwidW5zaGlmdCIsInNsaWNlIiwicG9zaXRpb25zIiwic2F2ZWQiLCJfbG9hZFdhbGxwYXBlckltYWdlIiwiX2NhbGxlZTE3IiwiX3RoaXM5IiwiaXNUaHVtYm5haWwiLCJfYXJnczE3IiwiX2NhbGxlZTE3JCIsIl9jb250ZXh0MTciLCJ1bmRlZmluZWQiLCJhcHBseVdhbGxwYXBlckltYWdlIiwibG9hZFdhbGxwYXBlckltYWdlIiwiX3g2IiwiX3RoaXMxMCIsImR1cmF0aW9uIiwidGVtcENvbnRhaW5lciIsImNsb25lTm9kZSIsIl9wcmVsb2FkV2FsbHBhcGVyVGh1bWJuYWlscyIsIl9jYWxsZWUxOCIsIl90aGlzMTEiLCJwcmVsb2FkUHJvbWlzZXMiLCJfY2FsbGVlMTgkIiwiX2NvbnRleHQxOCIsIm1hcCIsIl90aGlzJHByZWZlcmVuY2VzJGRlczMiLCJfdGhpczEyIiwiY2xlYXJJbnRlcnZhbCIsInJvdGF0aW9uRW5hYmxlZCIsImF1dG9Sb3RhdGlvbiIsInNldEludGVydmFsIiwicm90YXRlVG9OZXh0V2FsbHBhcGVyIiwiX3JvdGF0ZVRvTmV4dFdhbGxwYXBlciIsIl9jYWxsZWUxOSIsIl90aGlzMTMiLCJfdGhpcyRjdXJyZW50V2FsbHBhcGUiLCJ0aW1lQmFzZWRXYWxscGFwZXIiLCJhdmFpbGFibGVXYWxscGFwZXJzIiwicmFuZG9tSW5kZXgiLCJuZXh0V2FsbHBhcGVyIiwiX2NhbGxlZTE5JCIsIl9jb250ZXh0MTkiLCJnZXRUaW1lQmFzZWRXYWxscGFwZXIiLCJfdGhpczEzJGN1cnJlbnRXYWxscGEiLCJmbG9vciIsInJhbmRvbSIsIl9sb2FkVGltZUJhc2VkV2FsbHBhcGVyIiwiX2NhbGxlZTIwIiwiX3RoaXMkc2Vzc2lvbkRhdGEyIiwiaGFzU2F2ZWRXYWxscGFwZXIiLCJfY2FsbGVlMjAkIiwiX2NvbnRleHQyMCIsImxvYWRUaW1lQmFzZWRXYWxscGFwZXIiLCJfZ2V0VGltZUJhc2VkV2FsbHBhcGVyIiwiX2NhbGxlZTIxIiwiX2NhbGxlZTIxJCIsIl9jb250ZXh0MjEiLCJmYWxsYmFjayIsIl90aGlzJHNlc3Npb25EYXRhMyIsIl90aGlzJGN1cnJlbnRXYWxscGFwZTIiLCJfdGhpcyRjdXJyZW50V2FsbHBhcGUzIiwiZGVzdHJveSIsIm9mZiIsImdldFJhbmRvbURlZmF1bHRXYWxscGFwZXIiLCJoYXNoIiwiaSIsIl9jaGFyIiwiY2hhckNvZGVBdCIsImluZGV4IiwiY29tcG9uZW50cyIsImxhbmd1YWdlIiwic2NyZWVuIiwiY29sb3JEZXB0aCIsImdldFRpbWV6b25lT2Zmc2V0IiwicGxhdGZvcm0iLCJjb29raWVFbmFibGVkIiwiYnRvYSIsImpvaW4iLCJyZXBsYWNlIiwiX3RoaXMkc2Vzc2lvbkRhdGE0IiwiX3RoaXMkcHJlZmVyZW5jZXMiLCJoYXNMb2NhbFN0b3JhZ2VXYWxscGFwZXIiLCJoYXNTZXNzaW9uV2FsbHBhcGVyIiwiaGFzUHJlZmVyZW5jZVdhbGxwYXBlciIsImhhc1Zpc2l0ZWRCZWZvcmUiLCJpc0ZpcnN0VGltZSIsInRlc3RXYWxscGFwZXJQZXJzaXN0ZW5jZSIsIl90aGlzJGN1cnJlbnRXYWxscGFwZTQiLCJzZXNzaW9uIiwicmFuZG9tV2FsbHBhcGVyIiwic2ltdWxhdGVOZXdVc2VyIiwicmVtb3ZlSXRlbSIsInRlc3RSYW5kb21Bc3NpZ25tZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3272\n");

/***/ }),

/***/ 7813:
/*!***********************************************!*\
  !*** ./resources/js/components/LinkOS/Dock.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 4467);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 467);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 3029);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 2901);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ 4756);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _EventBus_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../EventBus.js */ 2454);\n\n\n\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\n\n\n/**\r\n * Dock - LinkOS-authentic dock interface with magnification and spring physics\r\n * Handles app icons, magnification effects, drag-to-rearrange, and context menus\r\n */\nvar Dock = /*#__PURE__*/function () {\n  function Dock() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Dock);\n    this.container = null;\n    this.iconsContainer = null;\n    this.contextMenu = null;\n\n    // State\n    this.apps = [];\n    this.recentApps = [];\n    this.runningApps = new Set();\n    this.preferences = {};\n    this.isDragging = false;\n    this.draggedApp = null;\n\n    // Configuration\n    this.config = {\n      position: 'bottom',\n      // bottom, left, right\n      size: 64,\n      // Icon size in pixels\n      maxScale: 1.5,\n      // Maximum magnification\n      magnetRadius: 100,\n      // Magnification effect radius\n      springDuration: 300,\n      // Animation duration in ms\n      hoverResponse: 50,\n      // Hover response time in ms\n      autoHide: false,\n      magnificationEnabled: true,\n      showRecentApps: true,\n      maxRecentApps: 5\n    };\n    this.init();\n  }\n\n  /**\r\n   * Initialize dock component\r\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Dock, [{\n    key: \"init\",\n    value: function () {\n      var _init = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee() {\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return this.loadPreferences();\n            case 3:\n              _context.next = 5;\n              return this.loadDockApps();\n            case 5:\n              this.createElements();\n              this.bindEvents();\n              this.createDockIcons();\n\n              // Setup magnification system\n              this.setupMagnification();\n              _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('dock:ready', {\n                apps: this.apps.length,\n                position: this.config.position\n              });\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              this.handleError(_context.t0);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 12]]);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n    /**\r\n     * Create dock elements\r\n     */\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      // Find or create dock container\n      this.container = document.getElementById('dock-container');\n      if (!this.container) {\n        this.container = document.createElement('div');\n        this.container.id = 'dock-container';\n        document.body.appendChild(this.container);\n      }\n      this.container.className = 'dock-container';\n      this.container.style.display = 'block'; // Show the dock\n\n      // Set position-based styles\n      this.applyPositionStyles();\n\n      // Create inner dock\n      var dock = document.createElement('div');\n      dock.className = 'dock';\n      dock.style.cssText = \"\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            background: rgba(0, 0, 0, 0.3);\\n            backdrop-filter: blur(16px);\\n            border-radius: 12px;\\n            padding: 8px 12px;\\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\\n            transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);\\n        \";\n\n      // Create icons container\n      this.iconsContainer = document.createElement('div');\n      this.iconsContainer.className = 'dock-icons';\n      this.iconsContainer.style.cssText = \"\\n            display: flex;\\n            align-items: center;\\n            gap: 8px;\\n            transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);\\n        \";\n\n      // Create context menu\n      this.createContextMenu();\n\n      // Assemble dock\n      dock.appendChild(this.iconsContainer);\n      this.container.appendChild(dock);\n    }\n\n    /**\r\n     * Apply position-based styles to dock container\r\n     */\n  }, {\n    key: \"applyPositionStyles\",\n    value: function applyPositionStyles() {\n      var baseStyles = \"\\n            position: fixed;\\n            z-index: 1000;\\n            transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);\\n        \";\n      switch (this.config.position) {\n        case 'bottom':\n          this.container.style.cssText = baseStyles + \"\\n                    bottom: 8px;\\n                    left: 50%;\\n                    transform: translateX(-50%);\\n                \";\n          break;\n        case 'left':\n          this.container.style.cssText = baseStyles + \"\\n                    left: 8px;\\n                    top: 50%;\\n                    transform: translateY(-50%);\\n                \";\n          this.iconsContainer.style.flexDirection = 'column';\n          break;\n        case 'right':\n          this.container.style.cssText = baseStyles + \"\\n                    right: 8px;\\n                    top: 50%;\\n                    transform: translateY(-50%);\\n                \";\n          this.iconsContainer.style.flexDirection = 'column';\n          break;\n      }\n    }\n\n    /**\r\n     * Bind event listeners\r\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // Global mouse move for magnification\n      document.addEventListener('mousemove', this.handleMouseMove.bind(this));\n\n      // App state events\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].on('app:launched', this.handleAppLaunched.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].on('app:closed', this.handleAppClosed.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].on('preferences:changed', this.handlePreferencesChanged.bind(this));\n\n      // Keyboard shortcuts\n      document.addEventListener('keydown', this.handleKeyDown.bind(this));\n\n      // Auto-hide functionality\n      if (this.config.autoHide) {\n        this.setupAutoHide();\n      }\n    }\n\n    /**\r\n     * Load dock preferences\r\n     */\n  }, {\n    key: \"loadPreferences\",\n    value: function () {\n      var _loadPreferences = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee2() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch('/api/preferences');\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n            case 6:\n              data = _context2.sent;\n              if (data.success && data.data.dock) {\n                this.preferences = data.data.dock;\n                this.updateConfigFromPreferences();\n              }\n              _context2.next = 13;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.warn('Failed to load dock preferences:', _context2.t0);\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n      function loadPreferences() {\n        return _loadPreferences.apply(this, arguments);\n      }\n      return loadPreferences;\n    }()\n    /**\r\n     * Update configuration from preferences\r\n     */\n  }, {\n    key: \"updateConfigFromPreferences\",\n    value: function updateConfigFromPreferences() {\n      if (this.preferences.position) {\n        this.config.position = this.preferences.position;\n      }\n      if (this.preferences.size) {\n        this.config.size = this.preferences.size;\n      }\n      if (this.preferences.magnificationEnabled !== undefined) {\n        this.config.magnificationEnabled = this.preferences.magnificationEnabled;\n      }\n      if (this.preferences.autoHide !== undefined) {\n        this.config.autoHide = this.preferences.autoHide;\n      }\n    }\n\n    /**\r\n     * Load dock applications\r\n     */\n  }, {\n    key: \"loadDockApps\",\n    value: function () {\n      var _loadDockApps = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee3() {\n        var response, data;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return fetch('/data/desktop-apps.json');\n            case 3:\n              response = _context3.sent;\n              _context3.next = 6;\n              return response.json();\n            case 6:\n              data = _context3.sent;\n              if (data && data.apps) {\n                // Get featured apps for dock\n                this.apps = data.apps.filter(function (app) {\n                  return app.featured;\n                }).slice(0, 7);\n\n                // Add finder as first app if not present\n                if (!this.apps.find(function (app) {\n                  return app.id === 'finder';\n                })) {\n                  this.apps.unshift({\n                    id: 'finder',\n                    name: 'Finder',\n                    icon: '/images/icons/finder.png',\n                    type: 'system',\n                    component: 'Finder'\n                  });\n                }\n              } else {\n                this.apps = this.getDefaultDockApps();\n              }\n              _context3.next = 14;\n              break;\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.warn('Failed to load dock apps, using defaults:', _context3.t0);\n              this.apps = this.getDefaultDockApps();\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[0, 10]]);\n      }));\n      function loadDockApps() {\n        return _loadDockApps.apply(this, arguments);\n      }\n      return loadDockApps;\n    }()\n    /**\r\n     * Get default dock applications\r\n     */\n  }, {\n    key: \"getDefaultDockApps\",\n    value: function getDefaultDockApps() {\n      return [{\n        id: 'finder',\n        name: 'Finder',\n        icon: '/images/icons/finder.png',\n        type: 'system'\n      }, {\n        id: 'terminal',\n        name: 'Terminal',\n        icon: '/images/icons/terminal.png',\n        type: 'internal'\n      }, {\n        id: 'portfolio',\n        name: 'Portfolio',\n        icon: '/images/icons/portfolio.png',\n        type: 'internal'\n      }, {\n        id: 'about',\n        name: 'About',\n        icon: '/images/icons/about.png',\n        type: 'internal'\n      }, {\n        id: 'contact',\n        name: 'Contact',\n        icon: '/images/icons/contact.png',\n        type: 'internal'\n      }, {\n        id: 'preferences',\n        name: 'System Preferences',\n        icon: '/images/icons/preferences.png',\n        type: 'internal'\n      }];\n    }\n\n    /**\r\n     * Create dock icons\r\n     */\n  }, {\n    key: \"createDockIcons\",\n    value: function createDockIcons() {\n      var _this = this;\n      if (!this.iconsContainer) return;\n\n      // Clear existing icons\n      this.iconsContainer.innerHTML = '';\n\n      // Create app icons\n      this.apps.forEach(function (app, index) {\n        _this.createDockIcon(app, index);\n      });\n\n      // Add separator and recent apps if enabled\n      if (this.config.showRecentApps && this.recentApps.length > 0) {\n        this.addRecentAppsSection();\n      }\n    }\n\n    /**\r\n     * Create individual dock icon\r\n     */\n  }, {\n    key: \"createDockIcon\",\n    value: function createDockIcon(app, index) {\n      var iconContainer = document.createElement('div');\n      iconContainer.className = 'dock-icon-container';\n      iconContainer.dataset.appId = app.id;\n      iconContainer.dataset.index = index;\n      iconContainer.style.cssText = \"\\n            position: relative;\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            cursor: pointer;\\n            user-select: none;\\n            transform-origin: bottom center;\\n            transition: transform \".concat(this.config.springDuration, \"ms cubic-bezier(0.4, 0, 0.2, 1);\\n        \");\n\n      // Create icon image\n      var iconImg = document.createElement('div');\n      iconImg.className = 'dock-icon';\n      iconImg.dataset.appName = app.name;\n      iconImg.style.cssText = \"\\n            width: \".concat(this.config.size, \"px;\\n            height: \").concat(this.config.size, \"px;\\n            background-image: url(\").concat(app.icon, \");\\n            background-size: cover;\\n            background-position: center;\\n            background-color: #007aff;\\n            border-radius: 12px;\\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\\n            transition: all \").concat(this.config.springDuration, \"ms cubic-bezier(0.4, 0, 0.2, 1);\\n            position: relative;\\n        \");\n\n      // Handle missing icon images\n      var testImg = new Image();\n      testImg.onload = function () {\n        // Icon loaded successfully, hide fallback text\n        iconImg.style.setProperty('--icon-fallback-opacity', '0');\n      };\n      testImg.onerror = function () {\n        // Icon failed to load, show fallback text\n        iconImg.style.backgroundImage = 'none';\n        iconImg.style.setProperty('--icon-fallback-opacity', '1');\n      };\n      testImg.src = app.icon;\n\n      // Create running indicator dot\n      var indicator = document.createElement('div');\n      indicator.className = 'running-indicator';\n      indicator.style.cssText = \"\\n            position: absolute;\\n            bottom: -8px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            width: 4px;\\n            height: 4px;\\n            background: #666;\\n            border-radius: 50%;\\n            opacity: 0;\\n            transition: opacity 200ms ease;\\n        \";\n\n      // Create app label\n      var label = document.createElement('div');\n      label.className = 'dock-label';\n      label.textContent = app.name;\n      label.style.cssText = \"\\n            position: absolute;\\n            bottom: \".concat(this.config.size + 20, \"px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            background: rgba(0, 0, 0, 0.8);\\n            color: white;\\n            padding: 4px 8px;\\n            border-radius: 4px;\\n            font-size: 11px;\\n            font-weight: 500;\\n            white-space: nowrap;\\n            opacity: 0;\\n            pointer-events: none;\\n            transition: opacity 200ms ease;\\n            z-index: 1001;\\n        \");\n\n      // Assemble icon\n      iconContainer.appendChild(iconImg);\n      iconContainer.appendChild(indicator);\n      iconContainer.appendChild(label);\n\n      // Add event listeners\n      this.addIconEventListeners(iconContainer, app);\n\n      // Add to container\n      this.iconsContainer.appendChild(iconContainer);\n\n      // Update running state\n      if (this.runningApps.has(app.id)) {\n        indicator.style.opacity = '1';\n      }\n    }\n\n    /**\r\n     * Add event listeners to dock icon\r\n     */\n  }, {\n    key: \"addIconEventListeners\",\n    value: function addIconEventListeners(iconContainer, app) {\n      var _this2 = this;\n      var iconImg = iconContainer.querySelector('.dock-icon');\n      var label = iconContainer.querySelector('.dock-label');\n\n      // Click to launch app\n      iconContainer.addEventListener('click', function (e) {\n        e.preventDefault();\n        _this2.launchApp(app);\n      });\n\n      // Context menu (Control+Click or Right+Click)\n      iconContainer.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n        _this2.showContextMenu(e, app);\n      });\n      iconContainer.addEventListener('mousedown', function (e) {\n        if (e.ctrlKey || e.metaKey) {\n          e.preventDefault();\n          _this2.showContextMenu(e, app);\n        }\n      });\n\n      // Hover for label\n      iconContainer.addEventListener('mouseenter', function () {\n        if (!_this2.isDragging) {\n          label.style.opacity = '1';\n        }\n      });\n      iconContainer.addEventListener('mouseleave', function () {\n        label.style.opacity = '0';\n      });\n\n      // Drag functionality\n      iconContainer.draggable = true;\n      iconContainer.addEventListener('dragstart', function (e) {\n        _this2.isDragging = true;\n        _this2.draggedApp = app;\n        iconContainer.style.opacity = '0.5';\n\n        // Hide label during drag\n        label.style.opacity = '0';\n      });\n      iconContainer.addEventListener('dragend', function (e) {\n        _this2.isDragging = false;\n        _this2.draggedApp = null;\n        iconContainer.style.opacity = '1';\n      });\n    }\n\n    /**\r\n     * Setup magnification system\r\n     */\n  }, {\n    key: \"setupMagnification\",\n    value: function setupMagnification() {\n      var _this3 = this;\n      if (!this.config.magnificationEnabled) return;\n      this.magnificationActive = true;\n\n      // Store original icon sizes\n      this.originalSizes = {};\n      var icons = this.iconsContainer.querySelectorAll('.dock-icon-container');\n      icons.forEach(function (icon, index) {\n        _this3.originalSizes[index] = {\n          width: _this3.config.size,\n          height: _this3.config.size\n        };\n      });\n    }\n\n    /**\r\n     * Handle mouse move for magnification\r\n     */\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(event) {\n      if (!this.magnificationActive || this.isDragging) return;\n      var dockRect = this.iconsContainer.getBoundingClientRect();\n      var mouseX = event.clientX;\n      var mouseY = event.clientY;\n\n      // Check if mouse is near dock\n      var isNearDock = this.isMouseNearDock(mouseX, mouseY, dockRect);\n      if (isNearDock) {\n        this.applyMagnification(mouseX, mouseY, dockRect);\n      } else {\n        this.resetMagnification();\n      }\n    }\n\n    /**\r\n     * Check if mouse is near dock for magnification\r\n     */\n  }, {\n    key: \"isMouseNearDock\",\n    value: function isMouseNearDock(mouseX, mouseY, dockRect) {\n      var margin = this.config.magnetRadius;\n      return mouseX >= dockRect.left - margin && mouseX <= dockRect.right + margin && mouseY >= dockRect.top - margin && mouseY <= dockRect.bottom + margin;\n    }\n\n    /**\r\n     * Apply magnification effect to dock icons\r\n     */\n  }, {\n    key: \"applyMagnification\",\n    value: function applyMagnification(mouseX, mouseY, dockRect) {\n      var _this4 = this;\n      var icons = this.iconsContainer.querySelectorAll('.dock-icon-container');\n      icons.forEach(function (iconContainer, index) {\n        var iconRect = iconContainer.getBoundingClientRect();\n        var iconCenterX = iconRect.left + iconRect.width / 2;\n        var iconCenterY = iconRect.top + iconRect.height / 2;\n\n        // Calculate distance from mouse to icon center\n        var distance = Math.sqrt(Math.pow(mouseX - iconCenterX, 2) + Math.pow(mouseY - iconCenterY, 2));\n\n        // Calculate scale based on distance\n        var scale = 1;\n        if (distance < _this4.config.magnetRadius) {\n          var proximity = 1 - distance / _this4.config.magnetRadius;\n          scale = 1 + proximity * (_this4.config.maxScale - 1);\n        }\n\n        // Apply scale with smooth transition\n        var iconImg = iconContainer.querySelector('.dock-icon');\n        iconImg.style.transform = \"scale(\".concat(scale, \")\");\n\n        // Add lift effect for hovered icon\n        if (scale > 1.2) {\n          iconImg.style.boxShadow = '0 8px 24px rgba(0, 0, 0, 0.5)';\n        } else {\n          iconImg.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';\n        }\n      });\n    }\n\n    /**\r\n     * Reset magnification to normal state\r\n     */\n  }, {\n    key: \"resetMagnification\",\n    value: function resetMagnification() {\n      var icons = this.iconsContainer.querySelectorAll('.dock-icon');\n      icons.forEach(function (iconImg) {\n        iconImg.style.transform = 'scale(1)';\n        iconImg.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';\n      });\n    }\n\n    /**\r\n     * Launch application\r\n     */\n  }, {\n    key: \"launchApp\",\n    value: function launchApp(app) {\n      console.log('Launching app from dock:', app.name);\n\n      // Add bounce animation\n      this.addBounceAnimation(app.id);\n\n      // Mark as running\n      this.runningApps.add(app.id);\n      this.updateRunningIndicator(app.id, true);\n\n      // Emit app launch event\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('app:launch', {\n        appId: app.id,\n        name: app.name,\n        component: app.component,\n        type: app.type,\n        config: {\n          title: app.name,\n          size: app.size || {\n            width: 800,\n            height: 600\n          }\n        }\n      });\n\n      // Add to recent apps\n      this.addToRecentApps(app);\n    }\n\n    /**\r\n     * Add bounce animation to app icon\r\n     */\n  }, {\n    key: \"addBounceAnimation\",\n    value: function addBounceAnimation(appId) {\n      var iconContainer = this.iconsContainer.querySelector(\"[data-app-id=\\\"\".concat(appId, \"\\\"]\"));\n      if (!iconContainer) return;\n      var iconImg = iconContainer.querySelector('.dock-icon');\n\n      // Create bounce keyframes\n      iconImg.style.animation = 'dockBounce 0.6s cubic-bezier(0.4, 0, 0.2, 1)';\n\n      // Remove animation after completion\n      setTimeout(function () {\n        iconImg.style.animation = '';\n      }, 600);\n    }\n\n    /**\r\n     * Update running indicator for app\r\n     */\n  }, {\n    key: \"updateRunningIndicator\",\n    value: function updateRunningIndicator(appId, isRunning) {\n      var iconContainer = this.iconsContainer.querySelector(\"[data-app-id=\\\"\".concat(appId, \"\\\"]\"));\n      if (!iconContainer) return;\n      var indicator = iconContainer.querySelector('.running-indicator');\n      indicator.style.opacity = isRunning ? '1' : '0';\n    }\n\n    /**\r\n     * Show context menu for dock icon\r\n     */\n  }, {\n    key: \"showContextMenu\",\n    value: function showContextMenu(event, app) {\n      var _this5 = this;\n      if (!this.contextMenu) return;\n\n      // Position context menu\n      var x = event.clientX;\n      var y = event.clientY - 150; // Above the dock\n\n      this.contextMenu.style.left = x + 'px';\n      this.contextMenu.style.top = y + 'px';\n      this.contextMenu.style.display = 'block';\n      this.contextMenu.style.opacity = '1';\n\n      // Update context menu content based on app\n      this.updateContextMenuContent(app);\n\n      // Store current app for context actions\n      this.contextMenu.dataset.appId = app.id;\n\n      // Hide menu on outside click\n      setTimeout(function () {\n        document.addEventListener('click', _this5.hideContextMenu.bind(_this5), {\n          once: true\n        });\n      }, 100);\n    }\n\n    /**\r\n     * Create context menu element\r\n     */\n  }, {\n    key: \"createContextMenu\",\n    value: function createContextMenu() {\n      this.contextMenu = document.createElement('div');\n      this.contextMenu.className = 'dock-context-menu';\n      this.contextMenu.style.cssText = \"\\n            position: fixed;\\n            background: rgba(255, 255, 255, 0.9);\\n            backdrop-filter: blur(20px);\\n            border: 1px solid rgba(0, 0, 0, 0.1);\\n            border-radius: 8px;\\n            padding: 4px 0;\\n            min-width: 140px;\\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\\n            z-index: 10000;\\n            display: none;\\n            opacity: 0;\\n            transition: opacity 200ms ease;\\n        \";\n      document.body.appendChild(this.contextMenu);\n\n      // Add event listener for menu actions\n      this.contextMenu.addEventListener('click', this.handleContextMenuClick.bind(this));\n    }\n\n    /**\r\n     * Update context menu content\r\n     */\n  }, {\n    key: \"updateContextMenuContent\",\n    value: function updateContextMenuContent(app) {\n      var isRunning = this.runningApps.has(app.id);\n      this.contextMenu.innerHTML = \"\\n            <div class=\\\"context-menu-item\\\" data-action=\\\"open\\\">\\n                \".concat(isRunning ? 'Show' : 'Open', \"\\n            </div>\\n            <div class=\\\"context-menu-separator\\\"></div>\\n            <div class=\\\"context-menu-item\\\" data-action=\\\"keep-in-dock\\\">\\n                Keep in Dock\\n            </div>\\n            <div class=\\\"context-menu-item\\\" data-action=\\\"remove-from-dock\\\">\\n                Remove from Dock\\n            </div>\\n            \").concat(isRunning ? \"\\n                <div class=\\\"context-menu-separator\\\"></div>\\n                <div class=\\\"context-menu-item\\\" data-action=\\\"force-quit\\\">\\n                    Force Quit\\n                </div>\\n            \" : '', \"\\n        \");\n\n      // Style menu items\n      var items = this.contextMenu.querySelectorAll('.context-menu-item');\n      items.forEach(function (item) {\n        item.style.cssText = \"\\n                padding: 6px 12px;\\n                cursor: pointer;\\n                font-size: 13px;\\n                color: #333;\\n                transition: background-color 150ms ease;\\n            \";\n        item.addEventListener('mouseenter', function () {\n          item.style.backgroundColor = 'rgba(0, 122, 255, 0.1)';\n        });\n        item.addEventListener('mouseleave', function () {\n          item.style.backgroundColor = 'transparent';\n        });\n      });\n\n      // Style separators\n      var separators = this.contextMenu.querySelectorAll('.context-menu-separator');\n      separators.forEach(function (separator) {\n        separator.style.cssText = \"\\n                height: 1px;\\n                background: rgba(0, 0, 0, 0.1);\\n                margin: 4px 0;\\n            \";\n      });\n    }\n\n    /**\r\n     * Handle context menu clicks\r\n     */\n  }, {\n    key: \"handleContextMenuClick\",\n    value: function handleContextMenuClick(event) {\n      var action = event.target.dataset.action;\n      var appId = this.contextMenu.dataset.appId;\n      if (!action || !appId) return;\n      var app = this.apps.find(function (a) {\n        return a.id === appId;\n      });\n      if (!app) return;\n      switch (action) {\n        case 'open':\n          this.launchApp(app);\n          break;\n        case 'keep-in-dock':\n          // Already in dock, just close menu\n          break;\n        case 'remove-from-dock':\n          this.removeAppFromDock(appId);\n          break;\n        case 'force-quit':\n          this.forceQuitApp(appId);\n          break;\n      }\n      this.hideContextMenu();\n    }\n\n    /**\r\n     * Hide context menu\r\n     */\n  }, {\n    key: \"hideContextMenu\",\n    value: function hideContextMenu() {\n      var _this6 = this;\n      if (this.contextMenu) {\n        this.contextMenu.style.opacity = '0';\n        setTimeout(function () {\n          _this6.contextMenu.style.display = 'none';\n        }, 200);\n      }\n    }\n\n    /**\r\n     * Handle keyboard shortcuts\r\n     */\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      // Control+Shift: Toggle magnification\n      if (event.ctrlKey && event.shiftKey && !event.repeat) {\n        this.toggleMagnification();\n        event.preventDefault();\n      }\n    }\n\n    /**\r\n     * Toggle magnification on/off\r\n     */\n  }, {\n    key: \"toggleMagnification\",\n    value: function toggleMagnification() {\n      this.config.magnificationEnabled = !this.config.magnificationEnabled;\n      if (this.config.magnificationEnabled) {\n        this.setupMagnification();\n        console.log('Dock magnification enabled');\n      } else {\n        this.magnificationActive = false;\n        this.resetMagnification();\n        console.log('Dock magnification disabled');\n      }\n\n      // Save preference\n      this.savePreference('magnificationEnabled', this.config.magnificationEnabled);\n    }\n\n    /**\r\n     * Save dock preference\r\n     */\n  }, {\n    key: \"savePreference\",\n    value: function () {\n      var _savePreference = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee4(key, value) {\n        var preferences;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              preferences = {\n                dock: (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, key, value)\n              };\n              _context4.next = 4;\n              return fetch('/api/preferences', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(preferences)\n              });\n            case 4:\n              _context4.next = 9;\n              break;\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.warn('Failed to save dock preference:', _context4.t0);\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[0, 6]]);\n      }));\n      function savePreference(_x, _x2) {\n        return _savePreference.apply(this, arguments);\n      }\n      return savePreference;\n    }()\n    /**\r\n     * Handle app launched event\r\n     */\n  }, {\n    key: \"handleAppLaunched\",\n    value: function handleAppLaunched(data) {\n      this.runningApps.add(data.id);\n      this.updateRunningIndicator(data.id, true);\n    }\n\n    /**\r\n     * Handle app closed event\r\n     */\n  }, {\n    key: \"handleAppClosed\",\n    value: function handleAppClosed(data) {\n      this.runningApps[\"delete\"](data.id);\n      this.updateRunningIndicator(data.id, false);\n    }\n\n    /**\r\n     * Handle preferences changed\r\n     */\n  }, {\n    key: \"handlePreferencesChanged\",\n    value: function handlePreferencesChanged(data) {\n      if (data.category === 'dock') {\n        this.preferences = _objectSpread(_objectSpread({}, this.preferences), data.preferences);\n        this.updateConfigFromPreferences();\n        this.applyPositionStyles();\n      }\n    }\n\n    /**\r\n     * Add to recent apps\r\n     */\n  }, {\n    key: \"addToRecentApps\",\n    value: function addToRecentApps(app) {\n      // Remove if already exists\n      this.recentApps = this.recentApps.filter(function (recent) {\n        return recent.id !== app.id;\n      });\n\n      // Add to beginning\n      this.recentApps.unshift(app);\n\n      // Keep only max count\n      this.recentApps = this.recentApps.slice(0, this.config.maxRecentApps);\n    }\n\n    /**\r\n     * Remove app from dock\r\n     */\n  }, {\n    key: \"removeAppFromDock\",\n    value: function removeAppFromDock(appId) {\n      this.apps = this.apps.filter(function (app) {\n        return app.id !== appId;\n      });\n      this.createDockIcons();\n    }\n\n    /**\r\n     * Force quit application\r\n     */\n  }, {\n    key: \"forceQuitApp\",\n    value: function forceQuitApp(appId) {\n      this.runningApps[\"delete\"](appId);\n      this.updateRunningIndicator(appId, false);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('app:force-quit', {\n        id: appId\n      });\n    }\n\n    /**\r\n     * Handle error conditions\r\n     */\n  }, {\n    key: \"handleError\",\n    value: function handleError(error) {\n      console.error('Dock error:', error);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].emit('dock:error', {\n        error: error.message\n      });\n    }\n\n    /**\r\n     * Clean up resources\r\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      // Remove event listeners\n      document.removeEventListener('mousemove', this.handleMouseMove.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].off('app:launched', this.handleAppLaunched.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].off('app:closed', this.handleAppClosed.bind(this));\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].off('preferences:changed', this.handlePreferencesChanged.bind(this));\n\n      // Remove elements\n      if (this.container) {\n        this.container.remove();\n      }\n      if (this.contextMenu) {\n        this.contextMenu.remove();\n      }\n      console.log('Dock component destroyed');\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dock);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBZTVLLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9tYWNvcy9Eb2NrLmpzP2FiNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4uL0V2ZW50QnVzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBEb2NrIC0gbWFjT1MtYXV0aGVudGljIGRvY2sgaW50ZXJmYWNlIHdpdGggbWFnbmlmaWNhdGlvbiBhbmQgc3ByaW5nIHBoeXNpY3NcclxuICogSGFuZGxlcyBhcHAgaWNvbnMsIG1hZ25pZmljYXRpb24gZWZmZWN0cywgZHJhZy10by1yZWFycmFuZ2UsIGFuZCBjb250ZXh0IG1lbnVzXHJcbiAqL1xyXG5jbGFzcyBEb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbnRleHRNZW51ID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdGF0ZVxyXG4gICAgICAgIHRoaXMuYXBwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVjZW50QXBwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucnVubmluZ0FwcHMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5wcmVmZXJlbmNlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dlZEFwcCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29uZmlndXJhdGlvblxyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsIC8vIGJvdHRvbSwgbGVmdCwgcmlnaHRcclxuICAgICAgICAgICAgc2l6ZTogNjQsIC8vIEljb24gc2l6ZSBpbiBwaXhlbHNcclxuICAgICAgICAgICAgbWF4U2NhbGU6IDEuNSwgLy8gTWF4aW11bSBtYWduaWZpY2F0aW9uXHJcbiAgICAgICAgICAgIG1hZ25ldFJhZGl1czogMTAwLCAvLyBNYWduaWZpY2F0aW9uIGVmZmVjdCByYWRpdXNcclxuICAgICAgICAgICAgc3ByaW5nRHVyYXRpb246IDMwMCwgLy8gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zXHJcbiAgICAgICAgICAgIGhvdmVyUmVzcG9uc2U6IDUwLCAvLyBIb3ZlciByZXNwb25zZSB0aW1lIGluIG1zXHJcbiAgICAgICAgICAgIGF1dG9IaWRlOiBmYWxzZSxcclxuICAgICAgICAgICAgbWFnbmlmaWNhdGlvbkVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHNob3dSZWNlbnRBcHBzOiB0cnVlLFxyXG4gICAgICAgICAgICBtYXhSZWNlbnRBcHBzOiA1XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGRvY2sgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkUHJlZmVyZW5jZXMoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkRG9ja0FwcHMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRG9ja0ljb25zKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTZXR1cCBtYWduaWZpY2F0aW9uIHN5c3RlbVxyXG4gICAgICAgICAgICB0aGlzLnNldHVwTWFnbmlmaWNhdGlvbigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgRXZlbnRCdXMuZW1pdCgnZG9jazpyZWFkeScsIHtcclxuICAgICAgICAgICAgICAgIGFwcHM6IHRoaXMuYXBwcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5jb25maWcucG9zaXRpb25cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBkb2NrIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUVsZW1lbnRzKCkge1xyXG4gICAgICAgIC8vIEZpbmQgb3IgY3JlYXRlIGRvY2sgY29udGFpbmVyXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG9jay1jb250YWluZXInKTtcclxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gJ2RvY2stY29udGFpbmVyJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSAnZG9jay1jb250YWluZXInO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvLyBTaG93IHRoZSBkb2NrXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uLWJhc2VkIHN0eWxlc1xyXG4gICAgICAgIHRoaXMuYXBwbHlQb3NpdGlvblN0eWxlcygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBpbm5lciBkb2NrXHJcbiAgICAgICAgY29uc3QgZG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRvY2suY2xhc3NOYW1lID0gJ2RvY2snO1xyXG4gICAgICAgIGRvY2suc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE2cHgpO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAzMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIGljb25zIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuaWNvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkb2NrLWljb25zJztcclxuICAgICAgICB0aGlzLmljb25zQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGdhcDogOHB4O1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMzAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcclxuICAgICAgICBgO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBjb250ZXh0IG1lbnVcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRleHRNZW51KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXNzZW1ibGUgZG9ja1xyXG4gICAgICAgIGRvY2suYXBwZW5kQ2hpbGQodGhpcy5pY29uc0NvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jayk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBwb3NpdGlvbi1iYXNlZCBzdHlsZXMgdG8gZG9jayBjb250YWluZXJcclxuICAgICAqL1xyXG4gICAgYXBwbHlQb3NpdGlvblN0eWxlcygpIHtcclxuICAgICAgICBjb25zdCBiYXNlU3R5bGVzID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAzMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGJhc2VTdHlsZXMgKyBgXHJcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYmFzZVN0eWxlcyArIGBcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaWNvbnNDb250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBiYXNlU3R5bGVzICsgYFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiA4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaWNvbnNDb250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgYmluZEV2ZW50cygpIHtcclxuICAgICAgICAvLyBHbG9iYWwgbW91c2UgbW92ZSBmb3IgbWFnbmlmaWNhdGlvblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFwcCBzdGF0ZSBldmVudHNcclxuICAgICAgICBFdmVudEJ1cy5vbignYXBwOmxhdW5jaGVkJywgdGhpcy5oYW5kbGVBcHBMYXVuY2hlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBFdmVudEJ1cy5vbignYXBwOmNsb3NlZCcsIHRoaXMuaGFuZGxlQXBwQ2xvc2VkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIEV2ZW50QnVzLm9uKCdwcmVmZXJlbmNlczpjaGFuZ2VkJywgdGhpcy5oYW5kbGVQcmVmZXJlbmNlc0NoYW5nZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBdXRvLWhpZGUgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hdXRvSGlkZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwQXV0b0hpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGRvY2sgcHJlZmVyZW5jZXNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZFByZWZlcmVuY2VzKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJlZmVyZW5jZXMnKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgJiYgZGF0YS5kYXRhLmRvY2spIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXMgPSBkYXRhLmRhdGEuZG9jaztcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29uZmlnRnJvbVByZWZlcmVuY2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGRvY2sgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBjb25maWd1cmF0aW9uIGZyb20gcHJlZmVyZW5jZXNcclxuICAgICAqL1xyXG4gICAgdXBkYXRlQ29uZmlnRnJvbVByZWZlcmVuY2VzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByZWZlcmVuY2VzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnBvc2l0aW9uID0gdGhpcy5wcmVmZXJlbmNlcy5wb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zaXplID0gdGhpcy5wcmVmZXJlbmNlcy5zaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcmVmZXJlbmNlcy5tYWduaWZpY2F0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1hZ25pZmljYXRpb25FbmFibGVkID0gdGhpcy5wcmVmZXJlbmNlcy5tYWduaWZpY2F0aW9uRW5hYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXMuYXV0b0hpZGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvSGlkZSA9IHRoaXMucHJlZmVyZW5jZXMuYXV0b0hpZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBkb2NrIGFwcGxpY2F0aW9uc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkRG9ja0FwcHMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gTG9hZCBkZXNrdG9wIGFwcHMgZGF0YVxyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvZGF0YS9kZXNrdG9wLWFwcHMuanNvbicpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5hcHBzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgZmVhdHVyZWQgYXBwcyBmb3IgZG9ja1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBzID0gZGF0YS5hcHBzLmZpbHRlcihhcHAgPT4gYXBwLmZlYXR1cmVkKS5zbGljZSgwLCA3KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGZpbmRlciBhcyBmaXJzdCBhcHAgaWYgbm90IHByZXNlbnRcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hcHBzLmZpbmQoYXBwID0+IGFwcC5pZCA9PT0gJ2ZpbmRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBzLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ZpbmRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdGaW5kZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnL2ltYWdlcy9pY29ucy9maW5kZXIucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N5c3RlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0ZpbmRlcidcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwcyA9IHRoaXMuZ2V0RGVmYXVsdERvY2tBcHBzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGRvY2sgYXBwcywgdXNpbmcgZGVmYXVsdHM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcHMgPSB0aGlzLmdldERlZmF1bHREb2NrQXBwcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBkZWZhdWx0IGRvY2sgYXBwbGljYXRpb25zXHJcbiAgICAgKi9cclxuICAgIGdldERlZmF1bHREb2NrQXBwcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7IGlkOiAnZmluZGVyJywgbmFtZTogJ0ZpbmRlcicsIGljb246ICcvaW1hZ2VzL2ljb25zL2ZpbmRlci5wbmcnLCB0eXBlOiAnc3lzdGVtJyB9LFxyXG4gICAgICAgICAgICB7IGlkOiAndGVybWluYWwnLCBuYW1lOiAnVGVybWluYWwnLCBpY29uOiAnL2ltYWdlcy9pY29ucy90ZXJtaW5hbC5wbmcnLCB0eXBlOiAnaW50ZXJuYWwnIH0sXHJcbiAgICAgICAgICAgIHsgaWQ6ICdwb3J0Zm9saW8nLCBuYW1lOiAnUG9ydGZvbGlvJywgaWNvbjogJy9pbWFnZXMvaWNvbnMvcG9ydGZvbGlvLnBuZycsIHR5cGU6ICdpbnRlcm5hbCcgfSxcclxuICAgICAgICAgICAgeyBpZDogJ2Fib3V0JywgbmFtZTogJ0Fib3V0JywgaWNvbjogJy9pbWFnZXMvaWNvbnMvYWJvdXQucG5nJywgdHlwZTogJ2ludGVybmFsJyB9LFxyXG4gICAgICAgICAgICB7IGlkOiAnY29udGFjdCcsIG5hbWU6ICdDb250YWN0JywgaWNvbjogJy9pbWFnZXMvaWNvbnMvY29udGFjdC5wbmcnLCB0eXBlOiAnaW50ZXJuYWwnIH0sXHJcbiAgICAgICAgICAgIHsgaWQ6ICdwcmVmZXJlbmNlcycsIG5hbWU6ICdTeXN0ZW0gUHJlZmVyZW5jZXMnLCBpY29uOiAnL2ltYWdlcy9pY29ucy9wcmVmZXJlbmNlcy5wbmcnLCB0eXBlOiAnaW50ZXJuYWwnIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGRvY2sgaWNvbnNcclxuICAgICAqL1xyXG4gICAgY3JlYXRlRG9ja0ljb25zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pY29uc0NvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIGljb25zXHJcbiAgICAgICAgdGhpcy5pY29uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgYXBwIGljb25zXHJcbiAgICAgICAgdGhpcy5hcHBzLmZvckVhY2goKGFwcCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVEb2NrSWNvbihhcHAsIGluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgc2VwYXJhdG9yIGFuZCByZWNlbnQgYXBwcyBpZiBlbmFibGVkXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNob3dSZWNlbnRBcHBzICYmIHRoaXMucmVjZW50QXBwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkUmVjZW50QXBwc1NlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgaW5kaXZpZHVhbCBkb2NrIGljb25cclxuICAgICAqL1xyXG4gICAgY3JlYXRlRG9ja0ljb24oYXBwLCBpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGljb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBpY29uQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkb2NrLWljb24tY29udGFpbmVyJztcclxuICAgICAgICBpY29uQ29udGFpbmVyLmRhdGFzZXQuYXBwSWQgPSBhcHAuaWQ7XHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5kYXRhc2V0LmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBjZW50ZXI7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAke3RoaXMuY29uZmlnLnNwcmluZ0R1cmF0aW9ufW1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgaWNvbiBpbWFnZVxyXG4gICAgICAgIGNvbnN0IGljb25JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBpY29uSW1nLmNsYXNzTmFtZSA9ICdkb2NrLWljb24nO1xyXG4gICAgICAgIGljb25JbWcuZGF0YXNldC5hcHBOYW1lID0gYXBwLm5hbWU7XHJcbiAgICAgICAgaWNvbkltZy5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICB3aWR0aDogJHt0aGlzLmNvbmZpZy5zaXplfXB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6ICR7dGhpcy5jb25maWcuc2l6ZX1weDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7YXBwLmljb259KTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsICR7dGhpcy5jb25maWcuc3ByaW5nRHVyYXRpb259bXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIG1pc3NpbmcgaWNvbiBpbWFnZXNcclxuICAgICAgICBjb25zdCB0ZXN0SW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGVzdEltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEljb24gbG9hZGVkIHN1Y2Nlc3NmdWxseSwgaGlkZSBmYWxsYmFjayB0ZXh0XHJcbiAgICAgICAgICAgIGljb25JbWcuc3R5bGUuc2V0UHJvcGVydHkoJy0taWNvbi1mYWxsYmFjay1vcGFjaXR5JywgJzAnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRlc3RJbWcub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gSWNvbiBmYWlsZWQgdG8gbG9hZCwgc2hvdyBmYWxsYmFjayB0ZXh0XHJcbiAgICAgICAgICAgIGljb25JbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBpY29uSW1nLnN0eWxlLnNldFByb3BlcnR5KCctLWljb24tZmFsbGJhY2stb3BhY2l0eScsICcxJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0ZXN0SW1nLnNyYyA9IGFwcC5pY29uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBydW5uaW5nIGluZGljYXRvciBkb3RcclxuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gJ3J1bm5pbmctaW5kaWNhdG9yJztcclxuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICBib3R0b206IC04cHg7XHJcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gICAgICAgICAgICB3aWR0aDogNHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzY2NjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDIwMG1zIGVhc2U7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgYXBwIGxhYmVsXHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAnZG9jay1sYWJlbCc7XHJcbiAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBhcHAubmFtZTtcclxuICAgICAgICBsYWJlbC5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIGJvdHRvbTogJHt0aGlzLmNvbmZpZy5zaXplICsgMjB9cHg7XHJcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDIwMG1zIGVhc2U7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDEwMDE7XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBc3NlbWJsZSBpY29uXHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uSW1nKTtcclxuICAgICAgICBpY29uQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGljYXRvcik7XHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuYWRkSWNvbkV2ZW50TGlzdGVuZXJzKGljb25Db250YWluZXIsIGFwcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHRvIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuaWNvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbkNvbnRhaW5lcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIHJ1bm5pbmcgc3RhdGVcclxuICAgICAgICBpZiAodGhpcy5ydW5uaW5nQXBwcy5oYXMoYXBwLmlkKSkge1xyXG4gICAgICAgICAgICBpbmRpY2F0b3Iuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIGRvY2sgaWNvblxyXG4gICAgICovXHJcbiAgICBhZGRJY29uRXZlbnRMaXN0ZW5lcnMoaWNvbkNvbnRhaW5lciwgYXBwKSB7XHJcbiAgICAgICAgY29uc3QgaWNvbkltZyA9IGljb25Db250YWluZXIucXVlcnlTZWxlY3RvcignLmRvY2staWNvbicpO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gaWNvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZG9jay1sYWJlbCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsaWNrIHRvIGxhdW5jaCBhcHBcclxuICAgICAgICBpY29uQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmxhdW5jaEFwcChhcHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvbnRleHQgbWVudSAoQ29udHJvbCtDbGljayBvciBSaWdodCtDbGljaylcclxuICAgICAgICBpY29uQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDb250ZXh0TWVudShlLCBhcHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGljb25Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0NvbnRleHRNZW51KGUsIGFwcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIb3ZlciBmb3IgbGFiZWxcclxuICAgICAgICBpY29uQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsYWJlbC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERyYWcgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAgIGljb25Db250YWluZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgICBpY29uQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZEFwcCA9IGFwcDtcclxuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBIaWRlIGxhYmVsIGR1cmluZyBkcmFnXHJcbiAgICAgICAgICAgIGxhYmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWNvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZEFwcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIG1hZ25pZmljYXRpb24gc3lzdGVtXHJcbiAgICAgKi9cclxuICAgIHNldHVwTWFnbmlmaWNhdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLm1hZ25pZmljYXRpb25FbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5tYWduaWZpY2F0aW9uQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdG9yZSBvcmlnaW5hbCBpY29uIHNpemVzXHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbFNpemVzID0ge307XHJcbiAgICAgICAgY29uc3QgaWNvbnMgPSB0aGlzLmljb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb2NrLWljb24tY29udGFpbmVyJyk7XHJcbiAgICAgICAgaWNvbnMuZm9yRWFjaCgoaWNvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFNpemVzW2luZGV4XSA9IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNvbmZpZy5zaXplLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNvbmZpZy5zaXplXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgbW91c2UgbW92ZSBmb3IgbWFnbmlmaWNhdGlvblxyXG4gICAgICovXHJcbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWFnbmlmaWNhdGlvbkFjdGl2ZSB8fCB0aGlzLmlzRHJhZ2dpbmcpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkb2NrUmVjdCA9IHRoaXMuaWNvbnNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgbW91c2VYID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICBjb25zdCBtb3VzZVkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIG1vdXNlIGlzIG5lYXIgZG9ja1xyXG4gICAgICAgIGNvbnN0IGlzTmVhckRvY2sgPSB0aGlzLmlzTW91c2VOZWFyRG9jayhtb3VzZVgsIG1vdXNlWSwgZG9ja1JlY3QpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc05lYXJEb2NrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlNYWduaWZpY2F0aW9uKG1vdXNlWCwgbW91c2VZLCBkb2NrUmVjdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldE1hZ25pZmljYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBtb3VzZSBpcyBuZWFyIGRvY2sgZm9yIG1hZ25pZmljYXRpb25cclxuICAgICAqL1xyXG4gICAgaXNNb3VzZU5lYXJEb2NrKG1vdXNlWCwgbW91c2VZLCBkb2NrUmVjdCkge1xyXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuY29uZmlnLm1hZ25ldFJhZGl1cztcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBtb3VzZVggPj0gZG9ja1JlY3QubGVmdCAtIG1hcmdpbiAmJlxyXG4gICAgICAgICAgICBtb3VzZVggPD0gZG9ja1JlY3QucmlnaHQgKyBtYXJnaW4gJiZcclxuICAgICAgICAgICAgbW91c2VZID49IGRvY2tSZWN0LnRvcCAtIG1hcmdpbiAmJlxyXG4gICAgICAgICAgICBtb3VzZVkgPD0gZG9ja1JlY3QuYm90dG9tICsgbWFyZ2luXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IG1hZ25pZmljYXRpb24gZWZmZWN0IHRvIGRvY2sgaWNvbnNcclxuICAgICAqL1xyXG4gICAgYXBwbHlNYWduaWZpY2F0aW9uKG1vdXNlWCwgbW91c2VZLCBkb2NrUmVjdCkge1xyXG4gICAgICAgIGNvbnN0IGljb25zID0gdGhpcy5pY29uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZG9jay1pY29uLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGljb25zLmZvckVhY2goKGljb25Db250YWluZXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGljb25SZWN0ID0gaWNvbkNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgY29uc3QgaWNvbkNlbnRlclggPSBpY29uUmVjdC5sZWZ0ICsgaWNvblJlY3Qud2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBpY29uQ2VudGVyWSA9IGljb25SZWN0LnRvcCArIGljb25SZWN0LmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2UgZnJvbSBtb3VzZSB0byBpY29uIGNlbnRlclxyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChcclxuICAgICAgICAgICAgICAgIE1hdGgucG93KG1vdXNlWCAtIGljb25DZW50ZXJYLCAyKSArIE1hdGgucG93KG1vdXNlWSAtIGljb25DZW50ZXJZLCAyKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHNjYWxlIGJhc2VkIG9uIGRpc3RhbmNlXHJcbiAgICAgICAgICAgIGxldCBzY2FsZSA9IDE7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMuY29uZmlnLm1hZ25ldFJhZGl1cykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJveGltaXR5ID0gMSAtIChkaXN0YW5jZSAvIHRoaXMuY29uZmlnLm1hZ25ldFJhZGl1cyk7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IDEgKyAocHJveGltaXR5ICogKHRoaXMuY29uZmlnLm1heFNjYWxlIC0gMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBcHBseSBzY2FsZSB3aXRoIHNtb290aCB0cmFuc2l0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGljb25JbWcgPSBpY29uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kb2NrLWljb24nKTtcclxuICAgICAgICAgICAgaWNvbkltZy5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBsaWZ0IGVmZmVjdCBmb3IgaG92ZXJlZCBpY29uXHJcbiAgICAgICAgICAgIGlmIChzY2FsZSA+IDEuMikge1xyXG4gICAgICAgICAgICAgICAgaWNvbkltZy5zdHlsZS5ib3hTaGFkb3cgPSAnMCA4cHggMjRweCByZ2JhKDAsIDAsIDAsIDAuNSknO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWNvbkltZy5zdHlsZS5ib3hTaGFkb3cgPSAnMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMyknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldCBtYWduaWZpY2F0aW9uIHRvIG5vcm1hbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICByZXNldE1hZ25pZmljYXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgaWNvbnMgPSB0aGlzLmljb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb2NrLWljb24nKTtcclxuICAgICAgICBcclxuICAgICAgICBpY29ucy5mb3JFYWNoKGljb25JbWcgPT4ge1xyXG4gICAgICAgICAgICBpY29uSW1nLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSc7XHJcbiAgICAgICAgICAgIGljb25JbWcuc3R5bGUuYm94U2hhZG93ID0gJzAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjMpJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExhdW5jaCBhcHBsaWNhdGlvblxyXG4gICAgICovXHJcbiAgICBsYXVuY2hBcHAoYXBwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xhdW5jaGluZyBhcHAgZnJvbSBkb2NrOicsIGFwcC5uYW1lKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgYm91bmNlIGFuaW1hdGlvblxyXG4gICAgICAgIHRoaXMuYWRkQm91bmNlQW5pbWF0aW9uKGFwcC5pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTWFyayBhcyBydW5uaW5nXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nQXBwcy5hZGQoYXBwLmlkKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVJ1bm5pbmdJbmRpY2F0b3IoYXBwLmlkLCB0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbWl0IGFwcCBsYXVuY2ggZXZlbnRcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdhcHA6bGF1bmNoJywge1xyXG4gICAgICAgICAgICBhcHBJZDogYXBwLmlkLFxyXG4gICAgICAgICAgICBuYW1lOiBhcHAubmFtZSxcclxuICAgICAgICAgICAgY29tcG9uZW50OiBhcHAuY29tcG9uZW50LFxyXG4gICAgICAgICAgICB0eXBlOiBhcHAudHlwZSxcclxuICAgICAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogYXBwLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBzaXplOiBhcHAuc2l6ZSB8fCB7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB0byByZWNlbnQgYXBwc1xyXG4gICAgICAgIHRoaXMuYWRkVG9SZWNlbnRBcHBzKGFwcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYm91bmNlIGFuaW1hdGlvbiB0byBhcHAgaWNvblxyXG4gICAgICovXHJcbiAgICBhZGRCb3VuY2VBbmltYXRpb24oYXBwSWQpIHtcclxuICAgICAgICBjb25zdCBpY29uQ29udGFpbmVyID0gdGhpcy5pY29uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1hcHAtaWQ9XCIke2FwcElkfVwiXWApO1xyXG4gICAgICAgIGlmICghaWNvbkNvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGljb25JbWcgPSBpY29uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kb2NrLWljb24nKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgYm91bmNlIGtleWZyYW1lc1xyXG4gICAgICAgIGljb25JbWcuc3R5bGUuYW5pbWF0aW9uID0gJ2RvY2tCb3VuY2UgMC42cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZW1vdmUgYW5pbWF0aW9uIGFmdGVyIGNvbXBsZXRpb25cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWNvbkltZy5zdHlsZS5hbmltYXRpb24gPSAnJztcclxuICAgICAgICB9LCA2MDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHJ1bm5pbmcgaW5kaWNhdG9yIGZvciBhcHBcclxuICAgICAqL1xyXG4gICAgdXBkYXRlUnVubmluZ0luZGljYXRvcihhcHBJZCwgaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgY29uc3QgaWNvbkNvbnRhaW5lciA9IHRoaXMuaWNvbnNDb250YWluZXIucXVlcnlTZWxlY3RvcihgW2RhdGEtYXBwLWlkPVwiJHthcHBJZH1cIl1gKTtcclxuICAgICAgICBpZiAoIWljb25Db250YWluZXIpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBpY29uQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5ydW5uaW5nLWluZGljYXRvcicpO1xyXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5vcGFjaXR5ID0gaXNSdW5uaW5nID8gJzEnIDogJzAnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBjb250ZXh0IG1lbnUgZm9yIGRvY2sgaWNvblxyXG4gICAgICovXHJcbiAgICBzaG93Q29udGV4dE1lbnUoZXZlbnQsIGFwcCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0TWVudSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBvc2l0aW9uIGNvbnRleHQgbWVudVxyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gMTUwOyAvLyBBYm92ZSB0aGUgZG9ja1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IHggKyAncHgnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUudG9wID0geSArICdweCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLmNvbnRleHRNZW51LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIGNvbnRleHQgbWVudSBjb250ZW50IGJhc2VkIG9uIGFwcFxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29udGV4dE1lbnVDb250ZW50KGFwcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3RvcmUgY3VycmVudCBhcHAgZm9yIGNvbnRleHQgYWN0aW9uc1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuZGF0YXNldC5hcHBJZCA9IGFwcC5pZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIaWRlIG1lbnUgb24gb3V0c2lkZSBjbGlja1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZUNvbnRleHRNZW51LmJpbmQodGhpcyksIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGNvbnRleHQgbWVudSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUNvbnRleHRNZW51KCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmNvbnRleHRNZW51LmNsYXNzTmFtZSA9ICdkb2NrLWNvbnRleHQtbWVudSc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcclxuICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDIwcHgpO1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgICAgICAgICAgcGFkZGluZzogNHB4IDA7XHJcbiAgICAgICAgICAgIG1pbi13aWR0aDogMTQwcHg7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG4gICAgICAgICAgICB6LWluZGV4OiAxMDAwMDtcclxuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAyMDBtcyBlYXNlO1xyXG4gICAgICAgIGA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHRNZW51KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIG1lbnUgYWN0aW9uc1xyXG4gICAgICAgIHRoaXMuY29udGV4dE1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbnRleHRNZW51Q2xpY2suYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgY29udGV4dCBtZW51IGNvbnRlbnRcclxuICAgICAqL1xyXG4gICAgdXBkYXRlQ29udGV4dE1lbnVDb250ZW50KGFwcCkge1xyXG4gICAgICAgIGNvbnN0IGlzUnVubmluZyA9IHRoaXMucnVubmluZ0FwcHMuaGFzKGFwcC5pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiIGRhdGEtYWN0aW9uPVwib3BlblwiPlxyXG4gICAgICAgICAgICAgICAgJHtpc1J1bm5pbmcgPyAnU2hvdycgOiAnT3Blbid9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LXNlcGFyYXRvclwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIiBkYXRhLWFjdGlvbj1cImtlZXAtaW4tZG9ja1wiPlxyXG4gICAgICAgICAgICAgICAgS2VlcCBpbiBEb2NrXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIiBkYXRhLWFjdGlvbj1cInJlbW92ZS1mcm9tLWRvY2tcIj5cclxuICAgICAgICAgICAgICAgIFJlbW92ZSBmcm9tIERvY2tcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICR7aXNSdW5uaW5nID8gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1zZXBhcmF0b3JcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiIGRhdGEtYWN0aW9uPVwiZm9yY2UtcXVpdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEZvcmNlIFF1aXRcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdHlsZSBtZW51IGl0ZW1zXHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmNvbnRleHRNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250ZXh0LW1lbnUtaXRlbScpO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMnB4O1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDE1MG1zIGVhc2U7XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsIDEyMiwgMjU1LCAwLjEpJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0eWxlIHNlcGFyYXRvcnNcclxuICAgICAgICBjb25zdCBzZXBhcmF0b3JzID0gdGhpcy5jb250ZXh0TWVudS5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGV4dC1tZW51LXNlcGFyYXRvcicpO1xyXG4gICAgICAgIHNlcGFyYXRvcnMuZm9yRWFjaChzZXBhcmF0b3IgPT4ge1xyXG4gICAgICAgICAgICBzZXBhcmF0b3Iuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMXB4O1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiA0cHggMDtcclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBjb250ZXh0IG1lbnUgY2xpY2tzXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUNvbnRleHRNZW51Q2xpY2soZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSBldmVudC50YXJnZXQuZGF0YXNldC5hY3Rpb247XHJcbiAgICAgICAgY29uc3QgYXBwSWQgPSB0aGlzLmNvbnRleHRNZW51LmRhdGFzZXQuYXBwSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIWFwcElkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYXBwID0gdGhpcy5hcHBzLmZpbmQoYSA9PiBhLmlkID09PSBhcHBJZCk7XHJcbiAgICAgICAgaWYgKCFhcHApIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdvcGVuJzpcclxuICAgICAgICAgICAgICAgIHRoaXMubGF1bmNoQXBwKGFwcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAna2VlcC1pbi1kb2NrJzpcclxuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgaW4gZG9jaywganVzdCBjbG9zZSBtZW51XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncmVtb3ZlLWZyb20tZG9jayc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFwcEZyb21Eb2NrKGFwcElkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdmb3JjZS1xdWl0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VRdWl0QXBwKGFwcElkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmhpZGVDb250ZXh0TWVudSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBjb250ZXh0IG1lbnVcclxuICAgICAqL1xyXG4gICAgaGlkZUNvbnRleHRNZW51KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHRNZW51KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnUuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGtleWJvYXJkIHNob3J0Y3V0c1xyXG4gICAgICovXHJcbiAgICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gQ29udHJvbCtTaGlmdDogVG9nZ2xlIG1hZ25pZmljYXRpb25cclxuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSAmJiBldmVudC5zaGlmdEtleSAmJiAhZXZlbnQucmVwZWF0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFnbmlmaWNhdGlvbigpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSBtYWduaWZpY2F0aW9uIG9uL29mZlxyXG4gICAgICovXHJcbiAgICB0b2dnbGVNYWduaWZpY2F0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuY29uZmlnLm1hZ25pZmljYXRpb25FbmFibGVkID0gIXRoaXMuY29uZmlnLm1hZ25pZmljYXRpb25FbmFibGVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5tYWduaWZpY2F0aW9uRW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwTWFnbmlmaWNhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRG9jayBtYWduaWZpY2F0aW9uIGVuYWJsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hZ25pZmljYXRpb25BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldE1hZ25pZmljYXRpb24oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RvY2sgbWFnbmlmaWNhdGlvbiBkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTYXZlIHByZWZlcmVuY2VcclxuICAgICAgICB0aGlzLnNhdmVQcmVmZXJlbmNlKCdtYWduaWZpY2F0aW9uRW5hYmxlZCcsIHRoaXMuY29uZmlnLm1hZ25pZmljYXRpb25FbmFibGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgZG9jayBwcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNhdmVQcmVmZXJlbmNlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlcyA9IHsgZG9jazogeyBba2V5XTogdmFsdWUgfSB9O1xyXG4gICAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9wcmVmZXJlbmNlcycsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcmVmZXJlbmNlcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBkb2NrIHByZWZlcmVuY2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBhcHAgbGF1bmNoZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlQXBwTGF1bmNoZWQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucnVubmluZ0FwcHMuYWRkKGRhdGEuaWQpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUnVubmluZ0luZGljYXRvcihkYXRhLmlkLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBhcHAgY2xvc2VkIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUFwcENsb3NlZChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nQXBwcy5kZWxldGUoZGF0YS5pZCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVSdW5uaW5nSW5kaWNhdG9yKGRhdGEuaWQsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBwcmVmZXJlbmNlcyBjaGFuZ2VkXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVByZWZlcmVuY2VzQ2hhbmdlZChkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdkb2NrJykge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzID0geyAuLi50aGlzLnByZWZlcmVuY2VzLCAuLi5kYXRhLnByZWZlcmVuY2VzIH07XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29uZmlnRnJvbVByZWZlcmVuY2VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQb3NpdGlvblN0eWxlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCB0byByZWNlbnQgYXBwc1xyXG4gICAgICovXHJcbiAgICBhZGRUb1JlY2VudEFwcHMoYXBwKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGlmIGFscmVhZHkgZXhpc3RzXHJcbiAgICAgICAgdGhpcy5yZWNlbnRBcHBzID0gdGhpcy5yZWNlbnRBcHBzLmZpbHRlcihyZWNlbnQgPT4gcmVjZW50LmlkICE9PSBhcHAuaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB0byBiZWdpbm5pbmdcclxuICAgICAgICB0aGlzLnJlY2VudEFwcHMudW5zaGlmdChhcHApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEtlZXAgb25seSBtYXggY291bnRcclxuICAgICAgICB0aGlzLnJlY2VudEFwcHMgPSB0aGlzLnJlY2VudEFwcHMuc2xpY2UoMCwgdGhpcy5jb25maWcubWF4UmVjZW50QXBwcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYXBwIGZyb20gZG9ja1xyXG4gICAgICovXHJcbiAgICByZW1vdmVBcHBGcm9tRG9jayhhcHBJZCkge1xyXG4gICAgICAgIHRoaXMuYXBwcyA9IHRoaXMuYXBwcy5maWx0ZXIoYXBwID0+IGFwcC5pZCAhPT0gYXBwSWQpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlRG9ja0ljb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JjZSBxdWl0IGFwcGxpY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIGZvcmNlUXVpdEFwcChhcHBJZCkge1xyXG4gICAgICAgIHRoaXMucnVubmluZ0FwcHMuZGVsZXRlKGFwcElkKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVJ1bm5pbmdJbmRpY2F0b3IoYXBwSWQsIGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdhcHA6Zm9yY2UtcXVpdCcsIHsgaWQ6IGFwcElkIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGVycm9yIGNvbmRpdGlvbnNcclxuICAgICAqL1xyXG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdEb2NrIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCdkb2NrOmVycm9yJywgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFuIHVwIHJlc291cmNlc1xyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBFdmVudEJ1cy5vZmYoJ2FwcDpsYXVuY2hlZCcsIHRoaXMuaGFuZGxlQXBwTGF1bmNoZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgRXZlbnRCdXMub2ZmKCdhcHA6Y2xvc2VkJywgdGhpcy5oYW5kbGVBcHBDbG9zZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgRXZlbnRCdXMub2ZmKCdwcmVmZXJlbmNlczpjaGFuZ2VkJywgdGhpcy5oYW5kbGVQcmVmZXJlbmNlc0NoYW5nZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0TWVudSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnRG9jayBjb21wb25lbnQgZGVzdHJveWVkJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERvY2s7Il0sIm5hbWVzIjpbIkV2ZW50QnVzIiwiRG9jayIsIl9jbGFzc0NhbGxDaGVjayIsImNvbnRhaW5lciIsImljb25zQ29udGFpbmVyIiwiY29udGV4dE1lbnUiLCJhcHBzIiwicmVjZW50QXBwcyIsInJ1bm5pbmdBcHBzIiwiU2V0IiwicHJlZmVyZW5jZXMiLCJpc0RyYWdnaW5nIiwiZHJhZ2dlZEFwcCIsImNvbmZpZyIsInBvc2l0aW9uIiwic2l6ZSIsIm1heFNjYWxlIiwibWFnbmV0UmFkaXVzIiwic3ByaW5nRHVyYXRpb24iLCJob3ZlclJlc3BvbnNlIiwiYXV0b0hpZGUiLCJtYWduaWZpY2F0aW9uRW5hYmxlZCIsInNob3dSZWNlbnRBcHBzIiwibWF4UmVjZW50QXBwcyIsImluaXQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl9pbml0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwibG9hZFByZWZlcmVuY2VzIiwibG9hZERvY2tBcHBzIiwiY3JlYXRlRWxlbWVudHMiLCJiaW5kRXZlbnRzIiwiY3JlYXRlRG9ja0ljb25zIiwic2V0dXBNYWduaWZpY2F0aW9uIiwiZW1pdCIsImxlbmd0aCIsInQwIiwiaGFuZGxlRXJyb3IiLCJzdG9wIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwbHlQb3NpdGlvblN0eWxlcyIsImRvY2siLCJjc3NUZXh0IiwiY3JlYXRlQ29udGV4dE1lbnUiLCJiYXNlU3R5bGVzIiwiZmxleERpcmVjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNb3VzZU1vdmUiLCJiaW5kIiwib24iLCJoYW5kbGVBcHBMYXVuY2hlZCIsImhhbmRsZUFwcENsb3NlZCIsImhhbmRsZVByZWZlcmVuY2VzQ2hhbmdlZCIsImhhbmRsZUtleURvd24iLCJzZXR1cEF1dG9IaWRlIiwiX2xvYWRQcmVmZXJlbmNlcyIsIl9jYWxsZWUyIiwicmVzcG9uc2UiLCJkYXRhIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiZmV0Y2giLCJzZW50IiwianNvbiIsInN1Y2Nlc3MiLCJ1cGRhdGVDb25maWdGcm9tUHJlZmVyZW5jZXMiLCJjb25zb2xlIiwid2FybiIsInVuZGVmaW5lZCIsIl9sb2FkRG9ja0FwcHMiLCJfY2FsbGVlMyIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsImZpbHRlciIsImFwcCIsImZlYXR1cmVkIiwic2xpY2UiLCJmaW5kIiwidW5zaGlmdCIsIm5hbWUiLCJpY29uIiwidHlwZSIsImNvbXBvbmVudCIsImdldERlZmF1bHREb2NrQXBwcyIsIl90aGlzIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImluZGV4IiwiY3JlYXRlRG9ja0ljb24iLCJhZGRSZWNlbnRBcHBzU2VjdGlvbiIsImljb25Db250YWluZXIiLCJkYXRhc2V0IiwiYXBwSWQiLCJjb25jYXQiLCJpY29uSW1nIiwiYXBwTmFtZSIsInRlc3RJbWciLCJJbWFnZSIsIm9ubG9hZCIsInNldFByb3BlcnR5Iiwib25lcnJvciIsImJhY2tncm91bmRJbWFnZSIsInNyYyIsImluZGljYXRvciIsImxhYmVsIiwidGV4dENvbnRlbnQiLCJhZGRJY29uRXZlbnRMaXN0ZW5lcnMiLCJoYXMiLCJvcGFjaXR5IiwiX3RoaXMyIiwicXVlcnlTZWxlY3RvciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImxhdW5jaEFwcCIsInNob3dDb250ZXh0TWVudSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiZHJhZ2dhYmxlIiwiX3RoaXMzIiwibWFnbmlmaWNhdGlvbkFjdGl2ZSIsIm9yaWdpbmFsU2l6ZXMiLCJpY29ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aWR0aCIsImhlaWdodCIsImV2ZW50IiwiZG9ja1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3VzZVgiLCJjbGllbnRYIiwibW91c2VZIiwiY2xpZW50WSIsImlzTmVhckRvY2siLCJpc01vdXNlTmVhckRvY2siLCJhcHBseU1hZ25pZmljYXRpb24iLCJyZXNldE1hZ25pZmljYXRpb24iLCJtYXJnaW4iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJfdGhpczQiLCJpY29uUmVjdCIsImljb25DZW50ZXJYIiwiaWNvbkNlbnRlclkiLCJkaXN0YW5jZSIsIk1hdGgiLCJzcXJ0IiwicG93Iiwic2NhbGUiLCJwcm94aW1pdHkiLCJ0cmFuc2Zvcm0iLCJib3hTaGFkb3ciLCJsb2ciLCJhZGRCb3VuY2VBbmltYXRpb24iLCJhZGQiLCJ1cGRhdGVSdW5uaW5nSW5kaWNhdG9yIiwidGl0bGUiLCJhZGRUb1JlY2VudEFwcHMiLCJhbmltYXRpb24iLCJzZXRUaW1lb3V0IiwiaXNSdW5uaW5nIiwiX3RoaXM1IiwieCIsInkiLCJ1cGRhdGVDb250ZXh0TWVudUNvbnRlbnQiLCJoaWRlQ29udGV4dE1lbnUiLCJvbmNlIiwiaGFuZGxlQ29udGV4dE1lbnVDbGljayIsIml0ZW1zIiwiaXRlbSIsImJhY2tncm91bmRDb2xvciIsInNlcGFyYXRvcnMiLCJzZXBhcmF0b3IiLCJhY3Rpb24iLCJ0YXJnZXQiLCJhIiwicmVtb3ZlQXBwRnJvbURvY2siLCJmb3JjZVF1aXRBcHAiLCJfdGhpczYiLCJzaGlmdEtleSIsInJlcGVhdCIsInRvZ2dsZU1hZ25pZmljYXRpb24iLCJzYXZlUHJlZmVyZW5jZSIsIl9zYXZlUHJlZmVyZW5jZSIsIl9jYWxsZWU0IiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0IiwiX2RlZmluZVByb3BlcnR5IiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJfeCIsIl94MiIsImNhdGVnb3J5IiwiX29iamVjdFNwcmVhZCIsInJlY2VudCIsImVycm9yIiwibWVzc2FnZSIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2ZmIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7813\n");

/***/ }),

/***/ 4078:
/*!*************************************************!*\
  !*** ./resources/js/components/LinkOS/Window.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 3453);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 4467);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 3029);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 2901);\n/* harmony import */ var _EventBus_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EventBus.js */ 2454);\n\n\n\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\n\n/**\r\n * Window - LinkOS window management system\r\n * Handles draggable windows, traffic light controls, and authentic LinkOS behavior\r\n */\nvar Window = /*#__PURE__*/function () {\n  function Window() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Window);\n    // Required configuration\n    this.id = config.id || this.generateId();\n    this.title = config.title || 'Untitled';\n    this.content = config.content || '';\n    this.appId = config.appId || 'unknown';\n\n    // Window properties\n    this.position = config.position || {\n      x: 100,\n      y: 100\n    };\n    this.size = config.size || {\n      width: 800,\n      height: 600\n    };\n    this.minSize = config.minSize || {\n      width: 300,\n      height: 200\n    };\n    this.maxSize = config.maxSize || {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n\n    // Window state\n    this.isVisible = false;\n    this.isMinimized = false;\n    this.isMaximized = false;\n    this.isResizing = false;\n    this.isDragging = false;\n    this.isFocused = false;\n    this.zIndex = Window.getNextZIndex();\n\n    // DOM elements\n    this.element = null;\n    this.titleBar = null;\n    this.contentArea = null;\n    this.trafficLights = {};\n    this.resizeHandles = {};\n\n    // Event handlers\n    this.dragState = {\n      isDragging: false,\n      startX: 0,\n      startY: 0,\n      startPosX: 0,\n      startPosY: 0\n    };\n    this.resizeState = {\n      isResizing: false,\n      direction: '',\n      startX: 0,\n      startY: 0,\n      startWidth: 0,\n      startHeight: 0\n    };\n\n    // Configuration\n    this.config = _objectSpread({\n      titleBarHeight: 28,\n      trafficLightSize: 12,\n      resizeHandleSize: 10,\n      shadowBlur: 20,\n      borderRadius: 8,\n      animationDuration: 300,\n      snapThreshold: 10\n    }, config.windowConfig);\n    this.init();\n  }\n\n  /**\r\n   * Initialize window\r\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Window, [{\n    key: \"init\",\n    value: function init() {\n      this.createElement();\n      this.setupEventListeners();\n      this.setupKeyboardShortcuts();\n\n      // Register window with manager\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:created', {\n        windowId: this.id,\n        appId: this.appId,\n        window: this\n      });\n      console.log(\"Window created: \".concat(this.title, \" (\").concat(this.id, \")\"));\n    }\n\n    /**\r\n     * Create window DOM element\r\n     */\n  }, {\n    key: \"createElement\",\n    value: function createElement() {\n      // Main window container\n      this.element = document.createElement('div');\n      this.element.className = 'LinkOS-window';\n      this.element.id = \"window-\".concat(this.id);\n      this.element.style.cssText = \"\\n            position: fixed;\\n            left: \".concat(this.position.x, \"px;\\n            top: \").concat(this.position.y, \"px;\\n            width: \").concat(this.size.width, \"px;\\n            height: \").concat(this.size.height, \"px;\\n            z-index: \").concat(this.zIndex, \";\\n            background: rgba(246, 246, 246, 0.95);\\n            backdrop-filter: blur(20px);\\n            border-radius: \").concat(this.config.borderRadius, \"px;\\n            box-shadow: 0 \").concat(this.config.shadowBlur, \"px \").concat(this.config.shadowBlur * 2, \"px rgba(0, 0, 0, 0.3);\\n            border: 1px solid rgba(255, 255, 255, 0.2);\\n            overflow: hidden;\\n            transition: transform \").concat(this.config.animationDuration, \"ms cubic-bezier(0.4, 0, 0.2, 1);\\n            transform: scale(0.9) translateY(20px);\\n            opacity: 0;\\n        \");\n\n      // Title bar\n      this.createTitleBar();\n\n      // Content area\n      this.createContentArea();\n\n      // Resize handles\n      this.createResizeHandles();\n\n      // Add to DOM\n      document.body.appendChild(this.element);\n    }\n\n    /**\r\n     * Create title bar with traffic lights\r\n     */\n  }, {\n    key: \"createTitleBar\",\n    value: function createTitleBar() {\n      this.titleBar = document.createElement('div');\n      this.titleBar.className = 'window-titlebar';\n      this.titleBar.style.cssText = \"\\n            height: \".concat(this.config.titleBarHeight, \"px;\\n            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(240, 240, 240, 0.9));\\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n            display: flex;\\n            align-items: center;\\n            padding: 0 12px;\\n            cursor: move;\\n            user-select: none;\\n        \");\n\n      // Traffic lights container\n      var trafficLightsContainer = document.createElement('div');\n      trafficLightsContainer.className = 'traffic-lights';\n      trafficLightsContainer.style.cssText = \"\\n            display: flex;\\n            gap: 8px;\\n            margin-right: 12px;\\n        \";\n\n      // Create traffic light buttons\n      this.createTrafficLights(trafficLightsContainer);\n\n      // Window title\n      var titleElement = document.createElement('div');\n      titleElement.className = 'window-title';\n      titleElement.textContent = this.title;\n      titleElement.style.cssText = \"\\n            flex: 1;\\n            text-align: center;\\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\\n            font-size: 13px;\\n            font-weight: 500;\\n            color: rgba(0, 0, 0, 0.85);\\n            overflow: hidden;\\n            text-overflow: ellipsis;\\n            white-space: nowrap;\\n        \";\n      this.titleBar.appendChild(trafficLightsContainer);\n      this.titleBar.appendChild(titleElement);\n      this.element.appendChild(this.titleBar);\n    }\n\n    /**\r\n     * Create traffic light buttons (close, minimize, maximize)\r\n     */\n  }, {\n    key: \"createTrafficLights\",\n    value: function createTrafficLights(container) {\n      var _this = this;\n      var buttons = [{\n        type: 'close',\n        color: '#ff5f57',\n        hoverColor: '#ff4743',\n        symbol: '√ó'\n      }, {\n        type: 'minimize',\n        color: '#ffbd2e',\n        hoverColor: '#ffab00',\n        symbol: '‚àí'\n      }, {\n        type: 'maximize',\n        color: '#28ca42',\n        hoverColor: '#1fb934',\n        symbol: '‚åÉ'\n      }];\n      buttons.forEach(function (_ref) {\n        var type = _ref.type,\n          color = _ref.color,\n          hoverColor = _ref.hoverColor,\n          symbol = _ref.symbol;\n        var button = document.createElement('button');\n        button.className = \"traffic-light traffic-light-\".concat(type);\n        button.style.cssText = \"\\n                width: \".concat(_this.config.trafficLightSize, \"px;\\n                height: \").concat(_this.config.trafficLightSize, \"px;\\n                border-radius: 50%;\\n                border: none;\\n                background: \").concat(color, \";\\n                cursor: pointer;\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n                font-size: 9px;\\n                font-weight: bold;\\n                color: rgba(0, 0, 0, 0.6);\\n                transition: all 150ms ease;\\n                opacity: 0.8;\\n            \");\n\n        // Add symbol on hover\n        button.addEventListener('mouseenter', function () {\n          button.textContent = symbol;\n          button.style.background = hoverColor;\n          button.style.opacity = '1';\n        });\n        button.addEventListener('mouseleave', function () {\n          button.textContent = '';\n          button.style.background = color;\n          button.style.opacity = '0.8';\n        });\n\n        // Button functionality\n        button.addEventListener('click', function (e) {\n          e.stopPropagation();\n          _this.handleTrafficLightClick(type);\n        });\n        _this.trafficLights[type] = button;\n        container.appendChild(button);\n      });\n    }\n\n    /**\r\n     * Create content area\r\n     */\n  }, {\n    key: \"createContentArea\",\n    value: function createContentArea() {\n      this.contentArea = document.createElement('div');\n      this.contentArea.className = 'window-content';\n      this.contentArea.style.cssText = \"\\n            height: calc(100% - \".concat(this.config.titleBarHeight, \"px);\\n            overflow: auto;\\n            background: rgba(255, 255, 255, 0.95);\\n        \");\n\n      // Set content\n      if (typeof this.content === 'string') {\n        this.contentArea.innerHTML = this.content;\n      } else if (this.content instanceof HTMLElement) {\n        this.contentArea.appendChild(this.content);\n      }\n      this.element.appendChild(this.contentArea);\n    }\n\n    /**\r\n     * Create resize handles\r\n     */\n  }, {\n    key: \"createResizeHandles\",\n    value: function createResizeHandles() {\n      var _this2 = this;\n      var handles = ['n', 'ne', 'e', 'se', 's', 'sw', 'w', 'nw'];\n      handles.forEach(function (direction) {\n        var handle = document.createElement('div');\n        handle.className = \"resize-handle resize-\".concat(direction);\n        handle.style.cssText = _this2.getResizeHandleStyles(direction);\n        handle.addEventListener('mousedown', function (e) {\n          _this2.startResize(e, direction);\n        });\n        _this2.resizeHandles[direction] = handle;\n        _this2.element.appendChild(handle);\n      });\n    }\n\n    /**\r\n     * Get resize handle styles based on direction\r\n     */\n  }, {\n    key: \"getResizeHandleStyles\",\n    value: function getResizeHandleStyles(direction) {\n      var size = this.config.resizeHandleSize;\n      var styles = {\n        position: 'absolute',\n        background: 'transparent',\n        'z-index': '10'\n      };\n      switch (direction) {\n        case 'n':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            top: '0',\n            left: \"\".concat(size, \"px\"),\n            right: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 'n-resize'\n          })));\n        case 'ne':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            top: '0',\n            right: '0',\n            width: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 'ne-resize'\n          })));\n        case 'e':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            top: \"\".concat(size, \"px\"),\n            right: '0',\n            bottom: \"\".concat(size, \"px\"),\n            width: \"\".concat(size, \"px\"),\n            cursor: 'e-resize'\n          })));\n        case 'se':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            bottom: '0',\n            right: '0',\n            width: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 'se-resize'\n          })));\n        case 's':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            bottom: '0',\n            left: \"\".concat(size, \"px\"),\n            right: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 's-resize'\n          })));\n        case 'sw':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            bottom: '0',\n            left: '0',\n            width: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 'sw-resize'\n          })));\n        case 'w':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            top: \"\".concat(size, \"px\"),\n            left: '0',\n            bottom: \"\".concat(size, \"px\"),\n            width: \"\".concat(size, \"px\"),\n            cursor: 'w-resize'\n          })));\n        case 'nw':\n          return \"\".concat(this.objectToCSS(_objectSpread(_objectSpread({}, styles), {}, {\n            top: '0',\n            left: '0',\n            width: \"\".concat(size, \"px\"),\n            height: \"\".concat(size, \"px\"),\n            cursor: 'nw-resize'\n          })));\n      }\n    }\n\n    /**\r\n     * Convert object to CSS string\r\n     */\n  }, {\n    key: \"objectToCSS\",\n    value: function objectToCSS(obj) {\n      return Object.entries(obj).map(function (_ref2) {\n        var _ref3 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n        return \"\".concat(key, \": \").concat(value);\n      }).join('; ');\n    }\n\n    /**\r\n     * Setup event listeners\r\n     */\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      var _this3 = this;\n      // Title bar dragging\n      this.titleBar.addEventListener('mousedown', function (e) {\n        if (e.target.classList.contains('traffic-light')) return;\n        _this3.startDrag(e);\n      });\n\n      // Window focus\n      this.element.addEventListener('mousedown', function () {\n        _this3.focus();\n      });\n\n      // Global mouse events for dragging and resizing\n      document.addEventListener('mousemove', function (e) {\n        if (_this3.isDragging) {\n          _this3.handleDrag(e);\n        } else if (_this3.isResizing) {\n          _this3.handleResize(e);\n        }\n      });\n      document.addEventListener('mouseup', function () {\n        _this3.stopDrag();\n        _this3.stopResize();\n      });\n\n      // Double-click to maximize\n      this.titleBar.addEventListener('dblclick', function () {\n        _this3.toggleMaximize();\n      });\n    }\n\n    /**\r\n     * Setup keyboard shortcuts\r\n     */\n  }, {\n    key: \"setupKeyboardShortcuts\",\n    value: function setupKeyboardShortcuts() {\n      var _this4 = this;\n      document.addEventListener('keydown', function (e) {\n        if (!_this4.isFocused) return;\n\n        // Command+M - Minimize\n        if (e.metaKey && e.key === 'm') {\n          e.preventDefault();\n          _this4.minimize();\n        }\n\n        // Command+W - Close\n        if (e.metaKey && e.key === 'w') {\n          e.preventDefault();\n          _this4.close();\n        }\n      });\n    }\n\n    /**\r\n     * Show window with animation\r\n     */\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this5 = this;\n      if (this.isVisible) return;\n      this.isVisible = true;\n      this.element.style.display = 'block';\n\n      // Animate in\n      requestAnimationFrame(function () {\n        _this5.element.style.transform = 'scale(1) translateY(0)';\n        _this5.element.style.opacity = '1';\n      });\n      this.focus();\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:shown', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Hide window\r\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this6 = this;\n      if (!this.isVisible) return;\n      this.isVisible = false;\n\n      // Animate out\n      this.element.style.transform = 'scale(0.9) translateY(20px)';\n      this.element.style.opacity = '0';\n      setTimeout(function () {\n        _this6.element.style.display = 'none';\n      }, this.config.animationDuration);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:hidden', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Focus window (bring to front)\r\n     */\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.isFocused = true;\n      this.zIndex = Window.getNextZIndex();\n      this.element.style.zIndex = this.zIndex;\n\n      // Update visual state\n      this.element.classList.add('focused');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:focused', {\n        windowId: this.id,\n        appId: this.appId,\n        zIndex: this.zIndex\n      });\n    }\n\n    /**\r\n     * Remove focus from window\r\n     */\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.isFocused = false;\n      this.element.classList.remove('focused');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:blurred', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Handle traffic light button clicks\r\n     */\n  }, {\n    key: \"handleTrafficLightClick\",\n    value: function handleTrafficLightClick(type) {\n      switch (type) {\n        case 'close':\n          this.close();\n          break;\n        case 'minimize':\n          this.minimize();\n          break;\n        case 'maximize':\n          this.toggleMaximize();\n          break;\n      }\n    }\n\n    /**\r\n     * Close window\r\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this7 = this;\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:closing', {\n        windowId: this.id,\n        appId: this.appId\n      });\n\n      // Animate out\n      this.element.style.transform = 'scale(0.9) translateY(20px)';\n      this.element.style.opacity = '0';\n      setTimeout(function () {\n        _this7.destroy();\n      }, this.config.animationDuration);\n    }\n\n    /**\r\n     * Minimize window\r\n     */\n  }, {\n    key: \"minimize\",\n    value: function minimize() {\n      var _document$querySelect,\n        _this8 = this;\n      if (this.isMinimized) return;\n      this.isMinimized = true;\n      this.isVisible = false;\n\n      // Animate to dock\n      var dockRect = (_document$querySelect = document.querySelector('.dock')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.getBoundingClientRect();\n      var targetX = dockRect ? dockRect.left + dockRect.width / 2 : window.innerWidth / 2;\n      var targetY = dockRect ? dockRect.top : window.innerHeight - 100;\n      this.element.style.transform = \"scale(0.1) translate(\".concat(targetX - this.position.x, \"px, \").concat(targetY - this.position.y, \"px)\");\n      this.element.style.opacity = '0';\n      setTimeout(function () {\n        _this8.element.style.display = 'none';\n      }, this.config.animationDuration);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:minimized', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Restore minimized window\r\n     */\n  }, {\n    key: \"restore\",\n    value: function restore() {\n      var _this9 = this;\n      if (!this.isMinimized) return;\n      this.isMinimized = false;\n      this.element.style.display = 'block';\n\n      // Animate back to position\n      requestAnimationFrame(function () {\n        _this9.element.style.transform = 'scale(1) translate(0, 0)';\n        _this9.element.style.opacity = '1';\n      });\n      this.show();\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:restored', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Toggle maximize state\r\n     */\n  }, {\n    key: \"toggleMaximize\",\n    value: function toggleMaximize() {\n      if (this.isMaximized) {\n        this.unmaximize();\n      } else {\n        this.maximize();\n      }\n    }\n\n    /**\r\n     * Maximize window\r\n     */\n  }, {\n    key: \"maximize\",\n    value: function maximize() {\n      if (this.isMaximized) return;\n\n      // Store original position and size\n      this.originalPosition = _objectSpread({}, this.position);\n      this.originalSize = _objectSpread({}, this.size);\n      this.isMaximized = true;\n\n      // Animate to full screen\n      this.setPosition(0, 0);\n      this.setSize(window.innerWidth, window.innerHeight);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:maximized', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Unmaximize window\r\n     */\n  }, {\n    key: \"unmaximize\",\n    value: function unmaximize() {\n      if (!this.isMaximized) return;\n      this.isMaximized = false;\n\n      // Restore original position and size\n      this.setPosition(this.originalPosition.x, this.originalPosition.y);\n      this.setSize(this.originalSize.width, this.originalSize.height);\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:unmaximized', {\n        windowId: this.id,\n        appId: this.appId\n      });\n    }\n\n    /**\r\n     * Start window dragging\r\n     */\n  }, {\n    key: \"startDrag\",\n    value: function startDrag(e) {\n      if (this.isMaximized) return;\n      this.isDragging = true;\n      this.dragState = {\n        isDragging: true,\n        startX: e.clientX,\n        startY: e.clientY,\n        startPosX: this.position.x,\n        startPosY: this.position.y\n      };\n      this.element.style.cursor = 'move';\n      document.body.style.userSelect = 'none';\n    }\n\n    /**\r\n     * Handle window dragging\r\n     */\n  }, {\n    key: \"handleDrag\",\n    value: function handleDrag(e) {\n      if (!this.isDragging) return;\n      var deltaX = e.clientX - this.dragState.startX;\n      var deltaY = e.clientY - this.dragState.startY;\n      var newX = this.dragState.startPosX + deltaX;\n      var newY = this.dragState.startPosY + deltaY;\n\n      // Constrain to screen bounds\n      var constrainedX = Math.max(0, Math.min(newX, window.innerWidth - this.size.width));\n      var constrainedY = Math.max(0, Math.min(newY, window.innerHeight - this.size.height));\n      this.setPosition(constrainedX, constrainedY);\n    }\n\n    /**\r\n     * Stop window dragging\r\n     */\n  }, {\n    key: \"stopDrag\",\n    value: function stopDrag() {\n      if (!this.isDragging) return;\n      this.isDragging = false;\n      this.dragState.isDragging = false;\n      this.element.style.cursor = '';\n      document.body.style.userSelect = '';\n    }\n\n    /**\r\n     * Start window resizing\r\n     */\n  }, {\n    key: \"startResize\",\n    value: function startResize(e, direction) {\n      if (this.isMaximized) return;\n      e.preventDefault();\n      e.stopPropagation();\n      this.isResizing = true;\n      this.resizeState = {\n        isResizing: true,\n        direction: direction,\n        startX: e.clientX,\n        startY: e.clientY,\n        startWidth: this.size.width,\n        startHeight: this.size.height,\n        startPosX: this.position.x,\n        startPosY: this.position.y\n      };\n      document.body.style.userSelect = 'none';\n    }\n\n    /**\r\n     * Handle window resizing\r\n     */\n  }, {\n    key: \"handleResize\",\n    value: function handleResize(e) {\n      if (!this.isResizing) return;\n      var deltaX = e.clientX - this.resizeState.startX;\n      var deltaY = e.clientY - this.resizeState.startY;\n      var direction = this.resizeState.direction;\n      var newWidth = this.resizeState.startWidth;\n      var newHeight = this.resizeState.startHeight;\n      var newX = this.position.x;\n      var newY = this.position.y;\n\n      // Calculate new dimensions based on resize direction\n      if (direction.includes('e')) {\n        newWidth = Math.max(this.minSize.width, Math.min(this.maxSize.width, this.resizeState.startWidth + deltaX));\n      }\n      if (direction.includes('w')) {\n        newWidth = Math.max(this.minSize.width, Math.min(this.maxSize.width, this.resizeState.startWidth - deltaX));\n        newX = this.resizeState.startPosX + (this.resizeState.startWidth - newWidth);\n      }\n      if (direction.includes('s')) {\n        newHeight = Math.max(this.minSize.height, Math.min(this.maxSize.height, this.resizeState.startHeight + deltaY));\n      }\n      if (direction.includes('n')) {\n        newHeight = Math.max(this.minSize.height, Math.min(this.maxSize.height, this.resizeState.startHeight - deltaY));\n        newY = this.resizeState.startPosY + (this.resizeState.startHeight - newHeight);\n      }\n      this.setSize(newWidth, newHeight);\n      this.setPosition(newX, newY);\n    }\n\n    /**\r\n     * Stop window resizing\r\n     */\n  }, {\n    key: \"stopResize\",\n    value: function stopResize() {\n      if (!this.isResizing) return;\n      this.isResizing = false;\n      this.resizeState.isResizing = false;\n      document.body.style.userSelect = '';\n    }\n\n    /**\r\n     * Set window position\r\n     */\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(x, y) {\n      this.position.x = x;\n      this.position.y = y;\n      this.element.style.left = \"\".concat(x, \"px\");\n      this.element.style.top = \"\".concat(y, \"px\");\n    }\n\n    /**\r\n     * Set window size\r\n     */\n  }, {\n    key: \"setSize\",\n    value: function setSize(width, height) {\n      this.size.width = width;\n      this.size.height = height;\n      this.element.style.width = \"\".concat(width, \"px\");\n      this.element.style.height = \"\".concat(height, \"px\");\n    }\n\n    /**\r\n     * Update window title\r\n     */\n  }, {\n    key: \"setTitle\",\n    value: function setTitle(title) {\n      this.title = title;\n      var titleElement = this.element.querySelector('.window-title');\n      if (titleElement) {\n        titleElement.textContent = title;\n      }\n    }\n\n    /**\r\n     * Update window content\r\n     */\n  }, {\n    key: \"setContent\",\n    value: function setContent(content) {\n      this.content = content;\n      if (typeof content === 'string') {\n        this.contentArea.innerHTML = content;\n      } else if (content instanceof HTMLElement) {\n        this.contentArea.innerHTML = '';\n        this.contentArea.appendChild(content);\n      }\n    }\n\n    /**\r\n     * Destroy window and clean up\r\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].emit('window:destroyed', {\n        windowId: this.id,\n        appId: this.appId\n      });\n      if (this.element && this.element.parentNode) {\n        this.element.parentNode.removeChild(this.element);\n      }\n\n      // Clean up references\n      this.element = null;\n      this.titleBar = null;\n      this.contentArea = null;\n      this.trafficLights = {};\n      this.resizeHandles = {};\n    }\n\n    /**\r\n     * Generate unique window ID\r\n     */\n  }, {\n    key: \"generateId\",\n    value: function generateId() {\n      return 'window_' + Math.random().toString(36).substr(2, 9);\n    }\n\n    /**\r\n     * Get next z-index for window stacking\r\n     */\n  }], [{\n    key: \"getNextZIndex\",\n    value: function getNextZIndex() {\n      Window.currentZIndex = (Window.currentZIndex || 1000) + 1;\n      return Window.currentZIndex;\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Window);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekMsSUFBSSxDQUFDbkosT0FBTyxDQUFDbUosVUFBVSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDcEosT0FBTyxDQUFDO01BQ3JEOztNQUVBO01BQ0EsSUFBSSxDQUFDQSxPQUFPLEdBQUcsSUFBSTtNQUNuQixJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJO01BQ3BCLElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUk7TUFDdkIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO01BQ3ZCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLENBQUMsQ0FBQztJQUMzQjs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBcUIsR0FBQTtJQUFBQyxLQUFBLEVBR0EsU0FBQWpELFdBQUEsRUFBYTtNQUNULE9BQU8sU0FBUyxHQUFHaUssSUFBSSxDQUFDVyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlEOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE5SCxHQUFBO0lBQUFDLEtBQUEsRUFHQSxTQUFBM0IsY0FBQSxFQUF1QjtNQUNuQjdCLE1BQU0sQ0FBQ3NMLGFBQWEsR0FBRyxDQUFDdEwsTUFBTSxDQUFDc0wsYUFBYSxJQUFJLElBQUksSUFBSSxDQUFDO01BQ3pELE9BQU90TCxNQUFNLENBQUNzTCxhQUFhO0lBQy9CO0VBQUM7QUFBQTtBQUdMLGlFQUFldEwsTUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL21hY29zL1dpbmRvdy5qcz9iY2M1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEJ1cyBmcm9tICcuLi9FdmVudEJ1cy5qcyc7XHJcblxyXG4vKipcclxuICogV2luZG93IC0gbWFjT1Mgd2luZG93IG1hbmFnZW1lbnQgc3lzdGVtXHJcbiAqIEhhbmRsZXMgZHJhZ2dhYmxlIHdpbmRvd3MsIHRyYWZmaWMgbGlnaHQgY29udHJvbHMsIGFuZCBhdXRoZW50aWMgbWFjT1MgYmVoYXZpb3JcclxuICovXHJcbmNsYXNzIFdpbmRvdyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xyXG4gICAgICAgIC8vIFJlcXVpcmVkIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuZ2VuZXJhdGVJZCgpO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSBjb25maWcudGl0bGUgfHwgJ1VudGl0bGVkJztcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb25maWcuY29udGVudCB8fCAnJztcclxuICAgICAgICB0aGlzLmFwcElkID0gY29uZmlnLmFwcElkIHx8ICd1bmtub3duJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBXaW5kb3cgcHJvcGVydGllc1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjb25maWcucG9zaXRpb24gfHwgeyB4OiAxMDAsIHk6IDEwMCB9O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IGNvbmZpZy5zaXplIHx8IHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfTtcclxuICAgICAgICB0aGlzLm1pblNpemUgPSBjb25maWcubWluU2l6ZSB8fCB7IHdpZHRoOiAzMDAsIGhlaWdodDogMjAwIH07XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gY29uZmlnLm1heFNpemUgfHwgeyB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV2luZG93IHN0YXRlXHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzTWluaW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc01heGltaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy56SW5kZXggPSBXaW5kb3cuZ2V0TmV4dFpJbmRleCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERPTSBlbGVtZW50c1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50aXRsZUJhciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250ZW50QXJlYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50cmFmZmljTGlnaHRzID0ge307XHJcbiAgICAgICAgdGhpcy5yZXNpemVIYW5kbGVzID0ge307XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLmRyYWdTdGF0ZSA9IHsgaXNEcmFnZ2luZzogZmFsc2UsIHN0YXJ0WDogMCwgc3RhcnRZOiAwLCBzdGFydFBvc1g6IDAsIHN0YXJ0UG9zWTogMCB9O1xyXG4gICAgICAgIHRoaXMucmVzaXplU3RhdGUgPSB7IGlzUmVzaXppbmc6IGZhbHNlLCBkaXJlY3Rpb246ICcnLCBzdGFydFg6IDAsIHN0YXJ0WTogMCwgc3RhcnRXaWR0aDogMCwgc3RhcnRIZWlnaHQ6IDAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlQmFySGVpZ2h0OiAyOCxcclxuICAgICAgICAgICAgdHJhZmZpY0xpZ2h0U2l6ZTogMTIsXHJcbiAgICAgICAgICAgIHJlc2l6ZUhhbmRsZVNpemU6IDEwLFxyXG4gICAgICAgICAgICBzaGFkb3dCbHVyOiAyMCxcclxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxyXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLFxyXG4gICAgICAgICAgICBzbmFwVGhyZXNob2xkOiAxMCxcclxuICAgICAgICAgICAgLi4uY29uZmlnLndpbmRvd0NvbmZpZ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudCgpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBLZXlib2FyZFNob3J0Y3V0cygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlZ2lzdGVyIHdpbmRvdyB3aXRoIG1hbmFnZXJcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCd3aW5kb3c6Y3JlYXRlZCcsIHtcclxuICAgICAgICAgICAgd2luZG93SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkLFxyXG4gICAgICAgICAgICB3aW5kb3c6IHRoaXNcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgV2luZG93IGNyZWF0ZWQ6ICR7dGhpcy50aXRsZX0gKCR7dGhpcy5pZH0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgd2luZG93IERPTSBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUVsZW1lbnQoKSB7XHJcbiAgICAgICAgLy8gTWFpbiB3aW5kb3cgY29udGFpbmVyXHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9ICdtYWNvcy13aW5kb3cnO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5pZCA9IGB3aW5kb3ctJHt0aGlzLmlkfWA7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgbGVmdDogJHt0aGlzLnBvc2l0aW9uLnh9cHg7XHJcbiAgICAgICAgICAgIHRvcDogJHt0aGlzLnBvc2l0aW9uLnl9cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAke3RoaXMuc2l6ZS53aWR0aH1weDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAke3RoaXMuc2l6ZS5oZWlnaHR9cHg7XHJcbiAgICAgICAgICAgIHotaW5kZXg6ICR7dGhpcy56SW5kZXh9O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI0NiwgMjQ2LCAyNDYsIDAuOTUpO1xyXG4gICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6ICR7dGhpcy5jb25maWcuYm9yZGVyUmFkaXVzfXB4O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwICR7dGhpcy5jb25maWcuc2hhZG93Qmx1cn1weCAke3RoaXMuY29uZmlnLnNoYWRvd0JsdXIgKiAyfXB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gJHt0aGlzLmNvbmZpZy5hbmltYXRpb25EdXJhdGlvbn1tcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSkgdHJhbnNsYXRlWSgyMHB4KTtcclxuICAgICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICAvLyBUaXRsZSBiYXJcclxuICAgICAgICB0aGlzLmNyZWF0ZVRpdGxlQmFyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29udGVudCBhcmVhXHJcbiAgICAgICAgdGhpcy5jcmVhdGVDb250ZW50QXJlYSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc2l6ZSBoYW5kbGVzXHJcbiAgICAgICAgdGhpcy5jcmVhdGVSZXNpemVIYW5kbGVzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHRvIERPTVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSB0aXRsZSBiYXIgd2l0aCB0cmFmZmljIGxpZ2h0c1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVUaXRsZUJhcigpIHtcclxuICAgICAgICB0aGlzLnRpdGxlQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy50aXRsZUJhci5jbGFzc05hbWUgPSAnd2luZG93LXRpdGxlYmFyJztcclxuICAgICAgICB0aGlzLnRpdGxlQmFyLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGhlaWdodDogJHt0aGlzLmNvbmZpZy50aXRsZUJhckhlaWdodH1weDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpLCByZ2JhKDI0MCwgMjQwLCAyNDAsIDAuOSkpO1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwIDEycHg7XHJcbiAgICAgICAgICAgIGN1cnNvcjogbW92ZTtcclxuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgLy8gVHJhZmZpYyBsaWdodHMgY29udGFpbmVyXHJcbiAgICAgICAgY29uc3QgdHJhZmZpY0xpZ2h0c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRyYWZmaWNMaWdodHNDb250YWluZXIuY2xhc3NOYW1lID0gJ3RyYWZmaWMtbGlnaHRzJztcclxuICAgICAgICB0cmFmZmljTGlnaHRzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGdhcDogOHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRyYWZmaWMgbGlnaHQgYnV0dG9uc1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVHJhZmZpY0xpZ2h0cyh0cmFmZmljTGlnaHRzQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgLy8gV2luZG93IHRpdGxlXHJcbiAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGl0bGVFbGVtZW50LmNsYXNzTmFtZSA9ICd3aW5kb3ctdGl0bGUnO1xyXG4gICAgICAgIHRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMudGl0bGU7XHJcbiAgICAgICAgdGl0bGVFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgc2Fucy1zZXJpZjtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgdGhpcy50aXRsZUJhci5hcHBlbmRDaGlsZCh0cmFmZmljTGlnaHRzQ29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLnRpdGxlQmFyLmFwcGVuZENoaWxkKHRpdGxlRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudGl0bGVCYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHRyYWZmaWMgbGlnaHQgYnV0dG9ucyAoY2xvc2UsIG1pbmltaXplLCBtYXhpbWl6ZSlcclxuICAgICAqL1xyXG4gICAgY3JlYXRlVHJhZmZpY0xpZ2h0cyhjb250YWluZXIpIHtcclxuICAgICAgICBjb25zdCBidXR0b25zID0gW1xyXG4gICAgICAgICAgICB7IHR5cGU6ICdjbG9zZScsIGNvbG9yOiAnI2ZmNWY1NycsIGhvdmVyQ29sb3I6ICcjZmY0NzQzJywgc3ltYm9sOiAnw5cnIH0sXHJcbiAgICAgICAgICAgIHsgdHlwZTogJ21pbmltaXplJywgY29sb3I6ICcjZmZiZDJlJywgaG92ZXJDb2xvcjogJyNmZmFiMDAnLCBzeW1ib2w6ICfiiJInIH0sXHJcbiAgICAgICAgICAgIHsgdHlwZTogJ21heGltaXplJywgY29sb3I6ICcjMjhjYTQyJywgaG92ZXJDb2xvcjogJyMxZmI5MzQnLCBzeW1ib2w6ICfijIMnIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBidXR0b25zLmZvckVhY2goKHsgdHlwZSwgY29sb3IsIGhvdmVyQ29sb3IsIHN5bWJvbCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gYHRyYWZmaWMtbGlnaHQgdHJhZmZpYy1saWdodC0ke3R5cGV9YDtcclxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJHt0aGlzLmNvbmZpZy50cmFmZmljTGlnaHRTaXplfXB4O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAke3RoaXMuY29uZmlnLnRyYWZmaWNMaWdodFNpemV9cHg7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yfTtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDlweDtcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMC44O1xyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHN5bWJvbCBvbiBob3ZlclxyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IHN5bWJvbDtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gaG92ZXJDb2xvcjtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMC44JztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCdXR0b24gZnVuY3Rpb25hbGl0eVxyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhZmZpY0xpZ2h0Q2xpY2sodHlwZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50cmFmZmljTGlnaHRzW3R5cGVdID0gYnV0dG9uO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBjb250ZW50IGFyZWFcclxuICAgICAqL1xyXG4gICAgY3JlYXRlQ29udGVudEFyZWEoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuY29udGVudEFyZWEuY2xhc3NOYW1lID0gJ3dpbmRvdy1jb250ZW50JztcclxuICAgICAgICB0aGlzLmNvbnRlbnRBcmVhLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gJHt0aGlzLmNvbmZpZy50aXRsZUJhckhlaWdodH1weCk7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTUpO1xyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIFNldCBjb250ZW50XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudEFyZWEuaW5uZXJIVE1MID0gdGhpcy5jb250ZW50O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250ZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50QXJlYS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGVudEFyZWEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHJlc2l6ZSBoYW5kbGVzXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVJlc2l6ZUhhbmRsZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlcyA9IFsnbicsICduZScsICdlJywgJ3NlJywgJ3MnLCAnc3cnLCAndycsICdudyddO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGhhbmRsZXMuZm9yRWFjaChkaXJlY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaGFuZGxlLmNsYXNzTmFtZSA9IGByZXNpemUtaGFuZGxlIHJlc2l6ZS0ke2RpcmVjdGlvbn1gO1xyXG4gICAgICAgICAgICBoYW5kbGUuc3R5bGUuY3NzVGV4dCA9IHRoaXMuZ2V0UmVzaXplSGFuZGxlU3R5bGVzKGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNpemUoZSwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUhhbmRsZXNbZGlyZWN0aW9uXSA9IGhhbmRsZTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGhhbmRsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcmVzaXplIGhhbmRsZSBzdHlsZXMgYmFzZWQgb24gZGlyZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldFJlc2l6ZUhhbmRsZVN0eWxlcyhkaXJlY3Rpb24pIHtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5jb25maWcucmVzaXplSGFuZGxlU2l6ZTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICAnei1pbmRleCc6ICcxMCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICduJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLm9iamVjdFRvQ1NTKHsuLi5zdHlsZXMsIHRvcDogJzAnLCBsZWZ0OiBgJHtzaXplfXB4YCwgcmlnaHQ6IGAke3NpemV9cHhgLCBoZWlnaHQ6IGAke3NpemV9cHhgLCBjdXJzb3I6ICduLXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgICAgICBjYXNlICduZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5vYmplY3RUb0NTUyh7Li4uc3R5bGVzLCB0b3A6ICcwJywgcmlnaHQ6ICcwJywgd2lkdGg6IGAke3NpemV9cHhgLCBoZWlnaHQ6IGAke3NpemV9cHhgLCBjdXJzb3I6ICduZS1yZXNpemUnfSl9YDtcclxuICAgICAgICAgICAgY2FzZSAnZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5vYmplY3RUb0NTUyh7Li4uc3R5bGVzLCB0b3A6IGAke3NpemV9cHhgLCByaWdodDogJzAnLCBib3R0b206IGAke3NpemV9cHhgLCB3aWR0aDogYCR7c2l6ZX1weGAsIGN1cnNvcjogJ2UtcmVzaXplJ30pfWA7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLm9iamVjdFRvQ1NTKHsuLi5zdHlsZXMsIGJvdHRvbTogJzAnLCByaWdodDogJzAnLCB3aWR0aDogYCR7c2l6ZX1weGAsIGhlaWdodDogYCR7c2l6ZX1weGAsIGN1cnNvcjogJ3NlLXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgICAgICBjYXNlICdzJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLm9iamVjdFRvQ1NTKHsuLi5zdHlsZXMsIGJvdHRvbTogJzAnLCBsZWZ0OiBgJHtzaXplfXB4YCwgcmlnaHQ6IGAke3NpemV9cHhgLCBoZWlnaHQ6IGAke3NpemV9cHhgLCBjdXJzb3I6ICdzLXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgICAgICBjYXNlICdzdyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5vYmplY3RUb0NTUyh7Li4uc3R5bGVzLCBib3R0b206ICcwJywgbGVmdDogJzAnLCB3aWR0aDogYCR7c2l6ZX1weGAsIGhlaWdodDogYCR7c2l6ZX1weGAsIGN1cnNvcjogJ3N3LXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLm9iamVjdFRvQ1NTKHsuLi5zdHlsZXMsIHRvcDogYCR7c2l6ZX1weGAsIGxlZnQ6ICcwJywgYm90dG9tOiBgJHtzaXplfXB4YCwgd2lkdGg6IGAke3NpemV9cHhgLCBjdXJzb3I6ICd3LXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgICAgICBjYXNlICdudyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5vYmplY3RUb0NTUyh7Li4uc3R5bGVzLCB0b3A6ICcwJywgbGVmdDogJzAnLCB3aWR0aDogYCR7c2l6ZX1weGAsIGhlaWdodDogYCR7c2l6ZX1weGAsIGN1cnNvcjogJ253LXJlc2l6ZSd9KX1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnQgb2JqZWN0IHRvIENTUyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgb2JqZWN0VG9DU1Mob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iaikubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06ICR7dmFsdWV9YCkuam9pbignOyAnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIFRpdGxlIGJhciBkcmFnZ2luZ1xyXG4gICAgICAgIHRoaXMudGl0bGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndHJhZmZpYy1saWdodCcpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnREcmFnKGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBXaW5kb3cgZm9jdXNcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdsb2JhbCBtb3VzZSBldmVudHMgZm9yIGRyYWdnaW5nIGFuZCByZXNpemluZ1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRHJhZyhlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzUmVzaXppbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzaXplKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcERyYWcoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wUmVzaXplKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERvdWJsZS1jbGljayB0byBtYXhpbWl6ZVxyXG4gICAgICAgIHRoaXMudGl0bGVCYXIuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWF4aW1pemUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGtleWJvYXJkIHNob3J0Y3V0c1xyXG4gICAgICovXHJcbiAgICBzZXR1cEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBDb21tYW5kK00gLSBNaW5pbWl6ZVxyXG4gICAgICAgICAgICBpZiAoZS5tZXRhS2V5ICYmIGUua2V5ID09PSAnbScpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWluaW1pemUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ29tbWFuZCtXIC0gQ2xvc2VcclxuICAgICAgICAgICAgaWYgKGUubWV0YUtleSAmJiBlLmtleSA9PT0gJ3cnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgd2luZG93IHdpdGggYW5pbWF0aW9uXHJcbiAgICAgKi9cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBBbmltYXRlIGluXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxKSB0cmFuc2xhdGVZKDApJztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mb2N1cygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ3dpbmRvdzpzaG93bicsIHtcclxuICAgICAgICAgICAgd2luZG93SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFuaW1hdGUgb3V0XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgwLjkpIHRyYW5zbGF0ZVkoMjBweCknO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9LCB0aGlzLmNvbmZpZy5hbmltYXRpb25EdXJhdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnd2luZG93OmhpZGRlbicsIHtcclxuICAgICAgICAgICAgd2luZG93SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb2N1cyB3aW5kb3cgKGJyaW5nIHRvIGZyb250KVxyXG4gICAgICovXHJcbiAgICBmb2N1cygpIHtcclxuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy56SW5kZXggPSBXaW5kb3cuZ2V0TmV4dFpJbmRleCgpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSB0aGlzLnpJbmRleDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBVcGRhdGUgdmlzdWFsIHN0YXRlXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcclxuICAgICAgICBcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCd3aW5kb3c6Zm9jdXNlZCcsIHtcclxuICAgICAgICAgICAgd2luZG93SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkLFxyXG4gICAgICAgICAgICB6SW5kZXg6IHRoaXMuekluZGV4XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgZm9jdXMgZnJvbSB3aW5kb3dcclxuICAgICAqL1xyXG4gICAgYmx1cigpIHtcclxuICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnd2luZG93OmJsdXJyZWQnLCB7XHJcbiAgICAgICAgICAgIHdpbmRvd0lkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICBhcHBJZDogdGhpcy5hcHBJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRyYWZmaWMgbGlnaHQgYnV0dG9uIGNsaWNrc1xyXG4gICAgICovXHJcbiAgICBoYW5kbGVUcmFmZmljTGlnaHRDbGljayh0eXBlKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtaW5pbWl6ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbmltaXplKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWF4aW1pemUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVNYXhpbWl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2Ugd2luZG93XHJcbiAgICAgKi9cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ3dpbmRvdzpjbG9zaW5nJywge1xyXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuYXBwSWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBbmltYXRlIG91dFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMC45KSB0cmFuc2xhdGVZKDIwcHgpJztcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgICAgICBcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfSwgdGhpcy5jb25maWcuYW5pbWF0aW9uRHVyYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWluaW1pemUgd2luZG93XHJcbiAgICAgKi9cclxuICAgIG1pbmltaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTWluaW1pemVkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc01pbmltaXplZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBbmltYXRlIHRvIGRvY2tcclxuICAgICAgICBjb25zdCBkb2NrUmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kb2NrJyk/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFggPSBkb2NrUmVjdCA/IGRvY2tSZWN0LmxlZnQgKyAoZG9ja1JlY3Qud2lkdGggLyAyKSA6IHdpbmRvdy5pbm5lcldpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCB0YXJnZXRZID0gZG9ja1JlY3QgPyBkb2NrUmVjdC50b3AgOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgwLjEpIHRyYW5zbGF0ZSgke3RhcmdldFggLSB0aGlzLnBvc2l0aW9uLnh9cHgsICR7dGFyZ2V0WSAtIHRoaXMucG9zaXRpb24ueX1weClgO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9LCB0aGlzLmNvbmZpZy5hbmltYXRpb25EdXJhdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnd2luZG93Om1pbmltaXplZCcsIHtcclxuICAgICAgICAgICAgd2luZG93SWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXN0b3JlIG1pbmltaXplZCB3aW5kb3dcclxuICAgICAqL1xyXG4gICAgcmVzdG9yZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNaW5pbWl6ZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzTWluaW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFuaW1hdGUgYmFjayB0byBwb3NpdGlvblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSkgdHJhbnNsYXRlKDAsIDApJztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnd2luZG93OnJlc3RvcmVkJywge1xyXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuYXBwSWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSBtYXhpbWl6ZSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICB0b2dnbGVNYXhpbWl6ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc01heGltaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVubWF4aW1pemUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1heGltaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWF4aW1pemUgd2luZG93XHJcbiAgICAgKi9cclxuICAgIG1heGltaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTWF4aW1pemVkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3RvcmUgb3JpZ2luYWwgcG9zaXRpb24gYW5kIHNpemVcclxuICAgICAgICB0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB7IC4uLnRoaXMucG9zaXRpb24gfTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsU2l6ZSA9IHsgLi4udGhpcy5zaXplIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc01heGltaXplZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQW5pbWF0ZSB0byBmdWxsIHNjcmVlblxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50QnVzLmVtaXQoJ3dpbmRvdzptYXhpbWl6ZWQnLCB7XHJcbiAgICAgICAgICAgIHdpbmRvd0lkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICBhcHBJZDogdGhpcy5hcHBJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5tYXhpbWl6ZSB3aW5kb3dcclxuICAgICAqL1xyXG4gICAgdW5tYXhpbWl6ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNYXhpbWl6ZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzTWF4aW1pemVkID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBwb3NpdGlvbiBhbmQgc2l6ZVxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5vcmlnaW5hbFBvc2l0aW9uLngsIHRoaXMub3JpZ2luYWxQb3NpdGlvbi55KTtcclxuICAgICAgICB0aGlzLnNldFNpemUodGhpcy5vcmlnaW5hbFNpemUud2lkdGgsIHRoaXMub3JpZ2luYWxTaXplLmhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgRXZlbnRCdXMuZW1pdCgnd2luZG93OnVubWF4aW1pemVkJywge1xyXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuYXBwSWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHdpbmRvdyBkcmFnZ2luZ1xyXG4gICAgICovXHJcbiAgICBzdGFydERyYWcoZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTWF4aW1pemVkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRyYWdTdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNEcmFnZ2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgc3RhcnRYOiBlLmNsaWVudFgsXHJcbiAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZLFxyXG4gICAgICAgICAgICBzdGFydFBvc1g6IHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgc3RhcnRQb3NZOiB0aGlzLnBvc2l0aW9uLnlcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHdpbmRvdyBkcmFnZ2luZ1xyXG4gICAgICovXHJcbiAgICBoYW5kbGVEcmFnKGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IGUuY2xpZW50WCAtIHRoaXMuZHJhZ1N0YXRlLnN0YXJ0WDtcclxuICAgICAgICBjb25zdCBkZWx0YVkgPSBlLmNsaWVudFkgLSB0aGlzLmRyYWdTdGF0ZS5zdGFydFk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbmV3WCA9IHRoaXMuZHJhZ1N0YXRlLnN0YXJ0UG9zWCArIGRlbHRhWDtcclxuICAgICAgICBjb25zdCBuZXdZID0gdGhpcy5kcmFnU3RhdGUuc3RhcnRQb3NZICsgZGVsdGFZO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvbnN0cmFpbiB0byBzY3JlZW4gYm91bmRzXHJcbiAgICAgICAgY29uc3QgY29uc3RyYWluZWRYID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3WCwgd2luZG93LmlubmVyV2lkdGggLSB0aGlzLnNpemUud2lkdGgpKTtcclxuICAgICAgICBjb25zdCBjb25zdHJhaW5lZFkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihuZXdZLCB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLnNpemUuaGVpZ2h0KSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihjb25zdHJhaW5lZFgsIGNvbnN0cmFpbmVkWSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIHdpbmRvdyBkcmFnZ2luZ1xyXG4gICAgICovXHJcbiAgICBzdG9wRHJhZygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZHJhZ1N0YXRlLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJyc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCB3aW5kb3cgcmVzaXppbmdcclxuICAgICAqL1xyXG4gICAgc3RhcnRSZXNpemUoZSwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNYXhpbWl6ZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzUmVzaXppbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVzaXplU3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGlzUmVzaXppbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbixcclxuICAgICAgICAgICAgc3RhcnRYOiBlLmNsaWVudFgsXHJcbiAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZLFxyXG4gICAgICAgICAgICBzdGFydFdpZHRoOiB0aGlzLnNpemUud2lkdGgsXHJcbiAgICAgICAgICAgIHN0YXJ0SGVpZ2h0OiB0aGlzLnNpemUuaGVpZ2h0LFxyXG4gICAgICAgICAgICBzdGFydFBvc1g6IHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgICAgICAgc3RhcnRQb3NZOiB0aGlzLnBvc2l0aW9uLnlcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSB3aW5kb3cgcmVzaXppbmdcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVzaXplKGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IGUuY2xpZW50WCAtIHRoaXMucmVzaXplU3RhdGUuc3RhcnRYO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IGUuY2xpZW50WSAtIHRoaXMucmVzaXplU3RhdGUuc3RhcnRZO1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMucmVzaXplU3RhdGUuZGlyZWN0aW9uO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBuZXdXaWR0aCA9IHRoaXMucmVzaXplU3RhdGUuc3RhcnRXaWR0aDtcclxuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gdGhpcy5yZXNpemVTdGF0ZS5zdGFydEhlaWdodDtcclxuICAgICAgICBsZXQgbmV3WCA9IHRoaXMucG9zaXRpb24ueDtcclxuICAgICAgICBsZXQgbmV3WSA9IHRoaXMucG9zaXRpb24ueTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IGRpbWVuc2lvbnMgYmFzZWQgb24gcmVzaXplIGRpcmVjdGlvblxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24uaW5jbHVkZXMoJ2UnKSkge1xyXG4gICAgICAgICAgICBuZXdXaWR0aCA9IE1hdGgubWF4KHRoaXMubWluU2l6ZS53aWR0aCwgTWF0aC5taW4odGhpcy5tYXhTaXplLndpZHRoLCB0aGlzLnJlc2l6ZVN0YXRlLnN0YXJ0V2lkdGggKyBkZWx0YVgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbi5pbmNsdWRlcygndycpKSB7XHJcbiAgICAgICAgICAgIG5ld1dpZHRoID0gTWF0aC5tYXgodGhpcy5taW5TaXplLndpZHRoLCBNYXRoLm1pbih0aGlzLm1heFNpemUud2lkdGgsIHRoaXMucmVzaXplU3RhdGUuc3RhcnRXaWR0aCAtIGRlbHRhWCkpO1xyXG4gICAgICAgICAgICBuZXdYID0gdGhpcy5yZXNpemVTdGF0ZS5zdGFydFBvc1ggKyAodGhpcy5yZXNpemVTdGF0ZS5zdGFydFdpZHRoIC0gbmV3V2lkdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9uLmluY2x1ZGVzKCdzJykpIHtcclxuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5taW5TaXplLmhlaWdodCwgTWF0aC5taW4odGhpcy5tYXhTaXplLmhlaWdodCwgdGhpcy5yZXNpemVTdGF0ZS5zdGFydEhlaWdodCArIGRlbHRhWSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9uLmluY2x1ZGVzKCduJykpIHtcclxuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5taW5TaXplLmhlaWdodCwgTWF0aC5taW4odGhpcy5tYXhTaXplLmhlaWdodCwgdGhpcy5yZXNpemVTdGF0ZS5zdGFydEhlaWdodCAtIGRlbHRhWSkpO1xyXG4gICAgICAgICAgICBuZXdZID0gdGhpcy5yZXNpemVTdGF0ZS5zdGFydFBvc1kgKyAodGhpcy5yZXNpemVTdGF0ZS5zdGFydEhlaWdodCAtIG5ld0hlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2V0U2l6ZShuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKG5ld1gsIG5ld1kpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCB3aW5kb3cgcmVzaXppbmdcclxuICAgICAqL1xyXG4gICAgc3RvcFJlc2l6ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVzaXplU3RhdGUuaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudXNlclNlbGVjdCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdpbmRvdyBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRvcCA9IGAke3l9cHhgO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdpbmRvdyBzaXplXHJcbiAgICAgKi9cclxuICAgIHNldFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuc2l6ZS5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHdpbmRvdyB0aXRsZVxyXG4gICAgICovXHJcbiAgICBzZXRUaXRsZSh0aXRsZSkge1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLndpbmRvdy10aXRsZScpO1xyXG4gICAgICAgIGlmICh0aXRsZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHdpbmRvdyBjb250ZW50XHJcbiAgICAgKi9cclxuICAgIHNldENvbnRlbnQoY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRBcmVhLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50QXJlYS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50QXJlYS5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHdpbmRvdyBhbmQgY2xlYW4gdXBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBFdmVudEJ1cy5lbWl0KCd3aW5kb3c6ZGVzdHJveWVkJywge1xyXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuYXBwSWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENsZWFuIHVwIHJlZmVyZW5jZXNcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudGl0bGVCYXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGVudEFyZWEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHJhZmZpY0xpZ2h0cyA9IHt9O1xyXG4gICAgICAgIHRoaXMucmVzaXplSGFuZGxlcyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgdW5pcXVlIHdpbmRvdyBJRFxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUlkKCkge1xyXG4gICAgICAgIHJldHVybiAnd2luZG93XycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgbmV4dCB6LWluZGV4IGZvciB3aW5kb3cgc3RhY2tpbmdcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldE5leHRaSW5kZXgoKSB7XHJcbiAgICAgICAgV2luZG93LmN1cnJlbnRaSW5kZXggPSAoV2luZG93LmN1cnJlbnRaSW5kZXggfHwgMTAwMCkgKyAxO1xyXG4gICAgICAgIHJldHVybiBXaW5kb3cuY3VycmVudFpJbmRleDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2luZG93OyJdLCJuYW1lcyI6WyJFdmVudEJ1cyIsIldpbmRvdyIsImNvbmZpZyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIl9jbGFzc0NhbGxDaGVjayIsImlkIiwiZ2VuZXJhdGVJZCIsInRpdGxlIiwiY29udGVudCIsImFwcElkIiwicG9zaXRpb24iLCJ4IiwieSIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsIm1pblNpemUiLCJtYXhTaXplIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaXNWaXNpYmxlIiwiaXNNaW5pbWl6ZWQiLCJpc01heGltaXplZCIsImlzUmVzaXppbmciLCJpc0RyYWdnaW5nIiwiaXNGb2N1c2VkIiwiekluZGV4IiwiZ2V0TmV4dFpJbmRleCIsImVsZW1lbnQiLCJ0aXRsZUJhciIsImNvbnRlbnRBcmVhIiwidHJhZmZpY0xpZ2h0cyIsInJlc2l6ZUhhbmRsZXMiLCJkcmFnU3RhdGUiLCJzdGFydFgiLCJzdGFydFkiLCJzdGFydFBvc1giLCJzdGFydFBvc1kiLCJyZXNpemVTdGF0ZSIsImRpcmVjdGlvbiIsInN0YXJ0V2lkdGgiLCJzdGFydEhlaWdodCIsIl9vYmplY3RTcHJlYWQiLCJ0aXRsZUJhckhlaWdodCIsInRyYWZmaWNMaWdodFNpemUiLCJyZXNpemVIYW5kbGVTaXplIiwic2hhZG93Qmx1ciIsImJvcmRlclJhZGl1cyIsImFuaW1hdGlvbkR1cmF0aW9uIiwic25hcFRocmVzaG9sZCIsIndpbmRvd0NvbmZpZyIsImluaXQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsImNyZWF0ZUVsZW1lbnQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic2V0dXBLZXlib2FyZFNob3J0Y3V0cyIsImVtaXQiLCJ3aW5kb3dJZCIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJkb2N1bWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwiY3NzVGV4dCIsImNyZWF0ZVRpdGxlQmFyIiwiY3JlYXRlQ29udGVudEFyZWEiLCJjcmVhdGVSZXNpemVIYW5kbGVzIiwiYm9keSIsImFwcGVuZENoaWxkIiwidHJhZmZpY0xpZ2h0c0NvbnRhaW5lciIsImNyZWF0ZVRyYWZmaWNMaWdodHMiLCJ0aXRsZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNvbnRhaW5lciIsIl90aGlzIiwiYnV0dG9ucyIsInR5cGUiLCJjb2xvciIsImhvdmVyQ29sb3IiLCJzeW1ib2wiLCJmb3JFYWNoIiwiX3JlZiIsImJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJiYWNrZ3JvdW5kIiwib3BhY2l0eSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJoYW5kbGVUcmFmZmljTGlnaHRDbGljayIsImlubmVySFRNTCIsIkhUTUxFbGVtZW50IiwiX3RoaXMyIiwiaGFuZGxlcyIsImhhbmRsZSIsImdldFJlc2l6ZUhhbmRsZVN0eWxlcyIsInN0YXJ0UmVzaXplIiwic3R5bGVzIiwib2JqZWN0VG9DU1MiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJjdXJzb3IiLCJib3R0b20iLCJvYmoiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiX3JlZjIiLCJfcmVmMyIsIl9zbGljZWRUb0FycmF5Iiwiam9pbiIsIl90aGlzMyIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic3RhcnREcmFnIiwiZm9jdXMiLCJoYW5kbGVEcmFnIiwiaGFuZGxlUmVzaXplIiwic3RvcERyYWciLCJzdG9wUmVzaXplIiwidG9nZ2xlTWF4aW1pemUiLCJfdGhpczQiLCJtZXRhS2V5IiwicHJldmVudERlZmF1bHQiLCJtaW5pbWl6ZSIsImNsb3NlIiwic2hvdyIsIl90aGlzNSIsImRpc3BsYXkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0cmFuc2Zvcm0iLCJoaWRlIiwiX3RoaXM2Iiwic2V0VGltZW91dCIsImFkZCIsImJsdXIiLCJyZW1vdmUiLCJfdGhpczciLCJkZXN0cm95IiwiX2RvY3VtZW50JHF1ZXJ5U2VsZWN0IiwiX3RoaXM4IiwiZG9ja1JlY3QiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGFyZ2V0WCIsInRhcmdldFkiLCJyZXN0b3JlIiwiX3RoaXM5IiwidW5tYXhpbWl6ZSIsIm1heGltaXplIiwib3JpZ2luYWxQb3NpdGlvbiIsIm9yaWdpbmFsU2l6ZSIsInNldFBvc2l0aW9uIiwic2V0U2l6ZSIsImNsaWVudFgiLCJjbGllbnRZIiwidXNlclNlbGVjdCIsImRlbHRhWCIsImRlbHRhWSIsIm5ld1giLCJuZXdZIiwiY29uc3RyYWluZWRYIiwiTWF0aCIsIm1heCIsIm1pbiIsImNvbnN0cmFpbmVkWSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwiaW5jbHVkZXMiLCJzZXRUaXRsZSIsInNldENvbnRlbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImN1cnJlbnRaSW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4078\n");

/***/ }),

/***/ 6451:
/*!********************************************************!*\
  !*** ./resources/js/components/LinkOS/WindowManager.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ 9394);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 4467);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ 3029);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 2901);\n/* harmony import */ var _EventBus_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EventBus.js */ 2454);\n/* harmony import */ var _Window_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window.js */ 4078);\n\n\n\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\n\n\n/**\r\n * WindowManager - Manages multiple windows and their interactions\r\n * Handles window stacking, focus management, and keyboard shortcuts\r\n */\nvar WindowManager = /*#__PURE__*/function () {\n  function WindowManager() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, WindowManager);\n    this.windows = new Map();\n    this.focusedWindow = null;\n    this.windowStack = [];\n\n    // Configuration\n    this.config = {\n      maxWindows: 20,\n      stackSpacing: 30,\n      defaultPosition: {\n        x: 100,\n        y: 100\n      },\n      keyboardShortcuts: true\n    };\n    this.init();\n  }\n\n  /**\r\n   * Initialize window manager\r\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(WindowManager, [{\n    key: \"init\",\n    value: function init() {\n      this.setupEventListeners();\n      this.setupKeyboardShortcuts();\n      console.log('WindowManager initialized');\n    }\n\n    /**\r\n     * Setup event listeners\r\n     */\n  }, {\n    key: \"setupEventListeners\",\n    value: function setupEventListeners() {\n      var _this = this;\n      // Window events\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('window:created', function (data) {\n        return _this.handleWindowCreated(data);\n      });\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('window:destroyed', function (data) {\n        return _this.handleWindowDestroyed(data);\n      });\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('window:focused', function (data) {\n        return _this.handleWindowFocused(data);\n      });\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('window:minimized', function (data) {\n        return _this.handleWindowMinimized(data);\n      });\n\n      // App close events\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('app:close', function (data) {\n        return _this.handleAppClose(data);\n      });\n\n      // Global click to blur windows\n      document.addEventListener('mousedown', function (e) {\n        if (!e.target.closest('.LinkOS-window')) {\n          _this.blurAllWindows();\n        }\n      });\n\n      // Window resize handling\n      window.addEventListener('resize', function () {\n        _this.handleScreenResize();\n      });\n    }\n\n    /**\r\n     * Setup keyboard shortcuts\r\n     */\n  }, {\n    key: \"setupKeyboardShortcuts\",\n    value: function setupKeyboardShortcuts() {\n      var _this2 = this;\n      if (!this.config.keyboardShortcuts) return;\n      document.addEventListener('keydown', function (e) {\n        // Command+Tab - Cycle through windows\n        if (e.metaKey && e.key === 'Tab') {\n          e.preventDefault();\n          _this2.cycleWindows();\n        }\n\n        // Command+` - Cycle through app windows\n        if (e.metaKey && e.key === '`') {\n          e.preventDefault();\n          _this2.cycleAppWindows();\n        }\n\n        // Command+Shift+W - Close all windows\n        if (e.metaKey && e.shiftKey && e.key === 'W') {\n          e.preventDefault();\n          _this2.closeAllWindows();\n        }\n\n        // Command+Option+H - Hide all windows\n        if (e.metaKey && e.altKey && e.key === 'h') {\n          e.preventDefault();\n          _this2.hideAllWindows();\n        }\n      });\n    }\n\n    /**\r\n     * Create and show a new window\r\n     */\n  }, {\n    key: \"createWindow\",\n    value: function createWindow(config) {\n      // Check window limit\n      if (this.windows.size >= this.config.maxWindows) {\n        console.warn('Maximum window limit reached');\n        return null;\n      }\n\n      // Calculate stacked position for new windows\n      var position = this.calculateNewWindowPosition(config.appId);\n      var windowConfig = _objectSpread({\n        position: position\n      }, config);\n      var window = new _Window_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](windowConfig);\n      this.registerWindow(window);\n      return window;\n    }\n\n    /**\r\n     * Register window with manager\r\n     */\n  }, {\n    key: \"registerWindow\",\n    value: function registerWindow(window) {\n      this.windows.set(window.id, window);\n      this.windowStack.push(window.id);\n      console.log(\"Window registered: \".concat(window.title, \" (\").concat(window.id, \")\"));\n    }\n\n    /**\r\n     * Get window by ID\r\n     */\n  }, {\n    key: \"getWindow\",\n    value: function getWindow(windowId) {\n      return this.windows.get(windowId);\n    }\n\n    /**\r\n     * Get windows by app ID\r\n     */\n  }, {\n    key: \"getWindowsByApp\",\n    value: function getWindowsByApp(appId) {\n      return Array.from(this.windows.values()).filter(function (window) {\n        return window.appId === appId;\n      });\n    }\n\n    /**\r\n     * Get all visible windows\r\n     */\n  }, {\n    key: \"getVisibleWindows\",\n    value: function getVisibleWindows() {\n      return Array.from(this.windows.values()).filter(function (window) {\n        return window.isVisible;\n      });\n    }\n\n    /**\r\n     * Focus a specific window\r\n     */\n  }, {\n    key: \"focusWindow\",\n    value: function focusWindow(windowId) {\n      var window = this.getWindow(windowId);\n      if (!window) return;\n\n      // Blur current focused window\n      if (this.focusedWindow && this.focusedWindow !== window) {\n        this.focusedWindow.blur();\n      }\n\n      // Focus new window\n      window.focus();\n      this.focusedWindow = window;\n\n      // Update window stack order\n      this.moveToTop(windowId);\n    }\n\n    /**\r\n     * Blur all windows\r\n     */\n  }, {\n    key: \"blurAllWindows\",\n    value: function blurAllWindows() {\n      this.windows.forEach(function (window) {\n        window.blur();\n      });\n      this.focusedWindow = null;\n    }\n\n    /**\r\n     * Move window to top of stack\r\n     */\n  }, {\n    key: \"moveToTop\",\n    value: function moveToTop(windowId) {\n      var index = this.windowStack.indexOf(windowId);\n      if (index > -1) {\n        this.windowStack.splice(index, 1);\n        this.windowStack.push(windowId);\n      }\n    }\n\n    /**\r\n     * Cycle through windows with Command+Tab\r\n     */\n  }, {\n    key: \"cycleWindows\",\n    value: function cycleWindows() {\n      var _this3 = this;\n      var visibleWindows = this.getVisibleWindows();\n      if (visibleWindows.length === 0) return;\n      var nextIndex = 0;\n      if (this.focusedWindow) {\n        var currentIndex = visibleWindows.findIndex(function (w) {\n          return w.id === _this3.focusedWindow.id;\n        });\n        nextIndex = (currentIndex + 1) % visibleWindows.length;\n      }\n      this.focusWindow(visibleWindows[nextIndex].id);\n    }\n\n    /**\r\n     * Cycle through windows of the same app\r\n     */\n  }, {\n    key: \"cycleAppWindows\",\n    value: function cycleAppWindows() {\n      var _this4 = this;\n      if (!this.focusedWindow) return;\n      var appWindows = this.getWindowsByApp(this.focusedWindow.appId).filter(function (w) {\n        return w.isVisible;\n      });\n      if (appWindows.length <= 1) return;\n      var currentIndex = appWindows.findIndex(function (w) {\n        return w.id === _this4.focusedWindow.id;\n      });\n      var nextIndex = (currentIndex + 1) % appWindows.length;\n      this.focusWindow(appWindows[nextIndex].id);\n    }\n\n    /**\r\n     * Close all windows\r\n     */\n  }, {\n    key: \"closeAllWindows\",\n    value: function closeAllWindows() {\n      var _this5 = this;\n      var windowIds = Array.from(this.windows.keys());\n      windowIds.forEach(function (id) {\n        var window = _this5.getWindow(id);\n        if (window) {\n          window.close();\n        }\n      });\n    }\n\n    /**\r\n     * Hide all windows\r\n     */\n  }, {\n    key: \"hideAllWindows\",\n    value: function hideAllWindows() {\n      this.windows.forEach(function (window) {\n        if (window.isVisible) {\n          window.hide();\n        }\n      });\n      this.focusedWindow = null;\n    }\n\n    /**\r\n     * Show all windows\r\n     */\n  }, {\n    key: \"showAllWindows\",\n    value: function showAllWindows() {\n      this.windows.forEach(function (window) {\n        if (!window.isVisible && !window.isMinimized) {\n          window.show();\n        }\n      });\n    }\n\n    /**\r\n     * Calculate position for new window\r\n     */\n  }, {\n    key: \"calculateNewWindowPosition\",\n    value: function calculateNewWindowPosition(appId) {\n      var existingWindows = this.getWindowsByApp(appId);\n      var basePosition = _objectSpread({}, this.config.defaultPosition);\n      if (existingWindows.length === 0) {\n        return basePosition;\n      }\n\n      // Stack windows with offset\n      var offset = existingWindows.length * this.config.stackSpacing;\n      return {\n        x: basePosition.x + offset,\n        y: basePosition.y + offset\n      };\n    }\n\n    /**\r\n     * Handle screen resize\r\n     */\n  }, {\n    key: \"handleScreenResize\",\n    value: function handleScreenResize() {\n      this.windows.forEach(function (window) {\n        // Ensure windows stay within screen bounds\n        var maxX = window.innerWidth - window.size.width;\n        var maxY = window.innerHeight - window.size.height;\n        if (window.position.x > maxX) {\n          window.setPosition(Math.max(0, maxX), window.position.y);\n        }\n        if (window.position.y > maxY) {\n          window.setPosition(window.position.x, Math.max(0, maxY));\n        }\n\n        // Update maximized windows\n        if (window.isMaximized) {\n          window.setSize(window.innerWidth, window.innerHeight);\n        }\n      });\n    }\n\n    /**\r\n     * Handle window created event\r\n     */\n  }, {\n    key: \"handleWindowCreated\",\n    value: function handleWindowCreated(data) {\n      console.log(\"Window created: \".concat(data.windowId, \" for app: \").concat(data.appId));\n    }\n\n    /**\r\n     * Handle window destroyed event\r\n     */\n  }, {\n    key: \"handleWindowDestroyed\",\n    value: function handleWindowDestroyed(data) {\n      var window = this.windows.get(data.windowId);\n      if (!window) return;\n\n      // Remove from collections\n      this.windows[\"delete\"](data.windowId);\n      var stackIndex = this.windowStack.indexOf(data.windowId);\n      if (stackIndex > -1) {\n        this.windowStack.splice(stackIndex, 1);\n      }\n\n      // Update focused window\n      if (this.focusedWindow === window) {\n        this.focusedWindow = null;\n\n        // Focus next window in stack\n        if (this.windowStack.length > 0) {\n          var nextWindowId = this.windowStack[this.windowStack.length - 1];\n          var nextWindow = this.getWindow(nextWindowId);\n          if (nextWindow && nextWindow.isVisible) {\n            this.focusWindow(nextWindowId);\n          }\n        }\n      }\n      console.log(\"Window destroyed: \".concat(data.windowId));\n    }\n\n    /**\r\n     * Handle window focused event\r\n     */\n  }, {\n    key: \"handleWindowFocused\",\n    value: function handleWindowFocused(data) {\n      var window = this.getWindow(data.windowId);\n      if (window) {\n        this.focusedWindow = window;\n        this.moveToTop(data.windowId);\n      }\n    }\n\n    /**\r\n     * Handle window minimized event\r\n     */\n  }, {\n    key: \"handleWindowMinimized\",\n    value: function handleWindowMinimized(data) {\n      var window = this.getWindow(data.windowId);\n      if (window && this.focusedWindow === window) {\n        this.focusedWindow = null;\n\n        // Focus next visible window\n        var visibleWindows = this.getVisibleWindows();\n        if (visibleWindows.length > 0) {\n          this.focusWindow(visibleWindows[visibleWindows.length - 1].id);\n        }\n      }\n    }\n\n    /**\r\n     * Handle app close event\r\n     */\n  }, {\n    key: \"handleAppClose\",\n    value: function handleAppClose(data) {\n      var appId = data.appId;\n      var appWindows = this.getWindowsByApp(appId);\n      appWindows.forEach(function (window) {\n        window.close();\n      });\n    }\n\n    /**\r\n     * Create app content container\r\n     */\n  }, {\n    key: \"createAppContent\",\n    value: function createAppContent(component) {\n      var container = document.createElement('div');\n      container.className = 'app-content';\n      container.style.cssText = \"\\n            width: 100%;\\n            height: 100%;\\n            overflow: hidden;\\n        \";\n      if (typeof component === 'string') {\n        container.innerHTML = component;\n      } else if (component instanceof HTMLElement) {\n        container.appendChild(component);\n      } else if (typeof component === 'function') {\n        // Component constructor\n        var instance = new component(container);\n        if (instance.element) {\n          container.appendChild(instance.element);\n        }\n      }\n      return container;\n    }\n\n    /**\r\n     * Get window manager statistics\r\n     */\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$focusedWindow;\n      return {\n        totalWindows: this.windows.size,\n        visibleWindows: this.getVisibleWindows().length,\n        focusedWindow: ((_this$focusedWindow = this.focusedWindow) === null || _this$focusedWindow === void 0 ? void 0 : _this$focusedWindow.id) || null,\n        windowStack: (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.windowStack)\n      };\n    }\n\n    /**\r\n     * Destroy window manager and clean up\r\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.closeAllWindows();\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('window:created');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('window:destroyed');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('window:focused');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('window:minimized');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('app:launch');\n      _EventBus_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('app:close');\n      this.windows.clear();\n      this.windowStack = [];\n      this.focusedWindow = null;\n      console.log('WindowManager destroyed');\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WindowManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBQSxDQUFvQnJFLEVBQUUsS0FBSSxJQUFJO1FBQzdDbkQsV0FBVyxFQUFBMEgsb0ZBQUEsQ0FBTSxJQUFJLENBQUMxSCxXQUFXO01BQ3JDLENBQUM7SUFDTDs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBVSxHQUFBO0lBQUFDLEtBQUEsRUFHQSxTQUFBZ0gsUUFBQSxFQUFVO01BQ04sSUFBSSxDQUFDckYsZUFBZSxDQUFDLENBQUM7TUFFdEI3QyxvREFBUSxDQUFDbUksR0FBRyxDQUFDLGdCQUFnQixDQUFDO01BQzlCbkksb0RBQVEsQ0FBQ21JLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztNQUNoQ25JLG9EQUFRLENBQUNtSSxHQUFHLENBQUMsZ0JBQWdCLENBQUM7TUFDOUJuSSxvREFBUSxDQUFDbUksR0FBRyxDQUFDLGtCQUFrQixDQUFDO01BQ2hDbkksb0RBQVEsQ0FBQ21JLEdBQUcsQ0FBQyxZQUFZLENBQUM7TUFDMUJuSSxvREFBUSxDQUFDbUksR0FBRyxDQUFDLFdBQVcsQ0FBQztNQUV6QixJQUFJLENBQUMvSCxPQUFPLENBQUNnSSxLQUFLLENBQUMsQ0FBQztNQUNwQixJQUFJLENBQUM3SCxXQUFXLEdBQUcsRUFBRTtNQUNyQixJQUFJLENBQUNELGFBQWEsR0FBRyxJQUFJO01BRXpCZSxPQUFPLENBQUNDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQztJQUMxQztFQUFDO0FBQUE7QUFHTCxpRUFBZXBCLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9tYWNvcy9XaW5kb3dNYW5hZ2VyLmpzPzUxYzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4uL0V2ZW50QnVzLmpzJztcclxuaW1wb3J0IFdpbmRvdyBmcm9tICcuL1dpbmRvdy5qcyc7XHJcblxyXG4vKipcclxuICogV2luZG93TWFuYWdlciAtIE1hbmFnZXMgbXVsdGlwbGUgd2luZG93cyBhbmQgdGhlaXIgaW50ZXJhY3Rpb25zXHJcbiAqIEhhbmRsZXMgd2luZG93IHN0YWNraW5nLCBmb2N1cyBtYW5hZ2VtZW50LCBhbmQga2V5Ym9hcmQgc2hvcnRjdXRzXHJcbiAqL1xyXG5jbGFzcyBXaW5kb3dNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMud2luZG93cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmZvY3VzZWRXaW5kb3cgPSBudWxsO1xyXG4gICAgICAgIHRoaXMud2luZG93U3RhY2sgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb25maWd1cmF0aW9uXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIG1heFdpbmRvd3M6IDIwLFxyXG4gICAgICAgICAgICBzdGFja1NwYWNpbmc6IDMwLFxyXG4gICAgICAgICAgICBkZWZhdWx0UG9zaXRpb246IHsgeDogMTAwLCB5OiAxMDAgfSxcclxuICAgICAgICAgICAga2V5Ym9hcmRTaG9ydGN1dHM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSB3aW5kb3cgbWFuYWdlclxyXG4gICAgICovXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBLZXlib2FyZFNob3J0Y3V0cygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXaW5kb3dNYW5hZ2VyIGluaXRpYWxpemVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAvLyBXaW5kb3cgZXZlbnRzXHJcbiAgICAgICAgRXZlbnRCdXMub24oJ3dpbmRvdzpjcmVhdGVkJywgKGRhdGEpID0+IHRoaXMuaGFuZGxlV2luZG93Q3JlYXRlZChkYXRhKSk7XHJcbiAgICAgICAgRXZlbnRCdXMub24oJ3dpbmRvdzpkZXN0cm95ZWQnLCAoZGF0YSkgPT4gdGhpcy5oYW5kbGVXaW5kb3dEZXN0cm95ZWQoZGF0YSkpO1xyXG4gICAgICAgIEV2ZW50QnVzLm9uKCd3aW5kb3c6Zm9jdXNlZCcsIChkYXRhKSA9PiB0aGlzLmhhbmRsZVdpbmRvd0ZvY3VzZWQoZGF0YSkpO1xyXG4gICAgICAgIEV2ZW50QnVzLm9uKCd3aW5kb3c6bWluaW1pemVkJywgKGRhdGEpID0+IHRoaXMuaGFuZGxlV2luZG93TWluaW1pemVkKGRhdGEpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBcHAgY2xvc2UgZXZlbnRzXHJcbiAgICAgICAgRXZlbnRCdXMub24oJ2FwcDpjbG9zZScsIChkYXRhKSA9PiB0aGlzLmhhbmRsZUFwcENsb3NlKGRhdGEpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHbG9iYWwgY2xpY2sgdG8gYmx1ciB3aW5kb3dzXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcubWFjb3Mtd2luZG93JykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmx1ckFsbFdpbmRvd3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFdpbmRvdyByZXNpemUgaGFuZGxpbmdcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNjcmVlblJlc2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAga2V5Ym9hcmQgc2hvcnRjdXRzXHJcbiAgICAgKi9cclxuICAgIHNldHVwS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5rZXlib2FyZFNob3J0Y3V0cykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDb21tYW5kK1RhYiAtIEN5Y2xlIHRocm91Z2ggd2luZG93c1xyXG4gICAgICAgICAgICBpZiAoZS5tZXRhS2V5ICYmIGUua2V5ID09PSAnVGFiJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jeWNsZVdpbmRvd3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ29tbWFuZCtgIC0gQ3ljbGUgdGhyb3VnaCBhcHAgd2luZG93c1xyXG4gICAgICAgICAgICBpZiAoZS5tZXRhS2V5ICYmIGUua2V5ID09PSAnYCcpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3ljbGVBcHBXaW5kb3dzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENvbW1hbmQrU2hpZnQrVyAtIENsb3NlIGFsbCB3aW5kb3dzXHJcbiAgICAgICAgICAgIGlmIChlLm1ldGFLZXkgJiYgZS5zaGlmdEtleSAmJiBlLmtleSA9PT0gJ1cnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsV2luZG93cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDb21tYW5kK09wdGlvbitIIC0gSGlkZSBhbGwgd2luZG93c1xyXG4gICAgICAgICAgICBpZiAoZS5tZXRhS2V5ICYmIGUuYWx0S2V5ICYmIGUua2V5ID09PSAnaCcpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZUFsbFdpbmRvd3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuZCBzaG93IGEgbmV3IHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBjcmVhdGVXaW5kb3coY29uZmlnKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgd2luZG93IGxpbWl0XHJcbiAgICAgICAgaWYgKHRoaXMud2luZG93cy5zaXplID49IHRoaXMuY29uZmlnLm1heFdpbmRvd3MpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdNYXhpbXVtIHdpbmRvdyBsaW1pdCByZWFjaGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDYWxjdWxhdGUgc3RhY2tlZCBwb3NpdGlvbiBmb3IgbmV3IHdpbmRvd3NcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY3VsYXRlTmV3V2luZG93UG9zaXRpb24oY29uZmlnLmFwcElkKTtcclxuICAgICAgICBjb25zdCB3aW5kb3dDb25maWcgPSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uLFxyXG4gICAgICAgICAgICAuLi5jb25maWdcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IG5ldyBXaW5kb3cod2luZG93Q29uZmlnKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyV2luZG93KHdpbmRvdyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIHdpbmRvdyB3aXRoIG1hbmFnZXJcclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJXaW5kb3cod2luZG93KSB7XHJcbiAgICAgICAgdGhpcy53aW5kb3dzLnNldCh3aW5kb3cuaWQsIHdpbmRvdyk7XHJcbiAgICAgICAgdGhpcy53aW5kb3dTdGFjay5wdXNoKHdpbmRvdy5pZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYFdpbmRvdyByZWdpc3RlcmVkOiAke3dpbmRvdy50aXRsZX0gKCR7d2luZG93LmlkfSlgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB3aW5kb3cgYnkgSURcclxuICAgICAqL1xyXG4gICAgZ2V0V2luZG93KHdpbmRvd0lkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2luZG93cy5nZXQod2luZG93SWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHdpbmRvd3MgYnkgYXBwIElEXHJcbiAgICAgKi9cclxuICAgIGdldFdpbmRvd3NCeUFwcChhcHBJZCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMud2luZG93cy52YWx1ZXMoKSkuZmlsdGVyKHdpbmRvdyA9PiB3aW5kb3cuYXBwSWQgPT09IGFwcElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdmlzaWJsZSB3aW5kb3dzXHJcbiAgICAgKi9cclxuICAgIGdldFZpc2libGVXaW5kb3dzKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMud2luZG93cy52YWx1ZXMoKSkuZmlsdGVyKHdpbmRvdyA9PiB3aW5kb3cuaXNWaXNpYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZvY3VzIGEgc3BlY2lmaWMgd2luZG93XHJcbiAgICAgKi9cclxuICAgIGZvY3VzV2luZG93KHdpbmRvd0lkKSB7XHJcbiAgICAgICAgY29uc3Qgd2luZG93ID0gdGhpcy5nZXRXaW5kb3cod2luZG93SWQpO1xyXG4gICAgICAgIGlmICghd2luZG93KSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQmx1ciBjdXJyZW50IGZvY3VzZWQgd2luZG93XHJcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZFdpbmRvdyAmJiB0aGlzLmZvY3VzZWRXaW5kb3cgIT09IHdpbmRvdykge1xyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWRXaW5kb3cuYmx1cigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBGb2N1cyBuZXcgd2luZG93XHJcbiAgICAgICAgd2luZG93LmZvY3VzKCk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gd2luZG93O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSB3aW5kb3cgc3RhY2sgb3JkZXJcclxuICAgICAgICB0aGlzLm1vdmVUb1RvcCh3aW5kb3dJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCbHVyIGFsbCB3aW5kb3dzXHJcbiAgICAgKi9cclxuICAgIGJsdXJBbGxXaW5kb3dzKCkge1xyXG4gICAgICAgIHRoaXMud2luZG93cy5mb3JFYWNoKHdpbmRvdyA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5ibHVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1vdmUgd2luZG93IHRvIHRvcCBvZiBzdGFja1xyXG4gICAgICovXHJcbiAgICBtb3ZlVG9Ub3Aod2luZG93SWQpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMud2luZG93U3RhY2suaW5kZXhPZih3aW5kb3dJZCk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy53aW5kb3dTdGFjay5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLndpbmRvd1N0YWNrLnB1c2god2luZG93SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEN5Y2xlIHRocm91Z2ggd2luZG93cyB3aXRoIENvbW1hbmQrVGFiXHJcbiAgICAgKi9cclxuICAgIGN5Y2xlV2luZG93cygpIHtcclxuICAgICAgICBjb25zdCB2aXNpYmxlV2luZG93cyA9IHRoaXMuZ2V0VmlzaWJsZVdpbmRvd3MoKTtcclxuICAgICAgICBpZiAodmlzaWJsZVdpbmRvd3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZFdpbmRvdykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB2aXNpYmxlV2luZG93cy5maW5kSW5kZXgodyA9PiB3LmlkID09PSB0aGlzLmZvY3VzZWRXaW5kb3cuaWQpO1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSB2aXNpYmxlV2luZG93cy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZm9jdXNXaW5kb3codmlzaWJsZVdpbmRvd3NbbmV4dEluZGV4XS5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDeWNsZSB0aHJvdWdoIHdpbmRvd3Mgb2YgdGhlIHNhbWUgYXBwXHJcbiAgICAgKi9cclxuICAgIGN5Y2xlQXBwV2luZG93cygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZm9jdXNlZFdpbmRvdykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGFwcFdpbmRvd3MgPSB0aGlzLmdldFdpbmRvd3NCeUFwcCh0aGlzLmZvY3VzZWRXaW5kb3cuYXBwSWQpXHJcbiAgICAgICAgICAgIC5maWx0ZXIodyA9PiB3LmlzVmlzaWJsZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFwcFdpbmRvd3MubGVuZ3RoIDw9IDEpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBhcHBXaW5kb3dzLmZpbmRJbmRleCh3ID0+IHcuaWQgPT09IHRoaXMuZm9jdXNlZFdpbmRvdy5pZCk7XHJcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgYXBwV2luZG93cy5sZW5ndGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mb2N1c1dpbmRvdyhhcHBXaW5kb3dzW25leHRJbmRleF0uaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xvc2UgYWxsIHdpbmRvd3NcclxuICAgICAqL1xyXG4gICAgY2xvc2VBbGxXaW5kb3dzKCkge1xyXG4gICAgICAgIGNvbnN0IHdpbmRvd0lkcyA9IEFycmF5LmZyb20odGhpcy53aW5kb3dzLmtleXMoKSk7XHJcbiAgICAgICAgd2luZG93SWRzLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3aW5kb3cgPSB0aGlzLmdldFdpbmRvdyhpZCk7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIGFsbCB3aW5kb3dzXHJcbiAgICAgKi9cclxuICAgIGhpZGVBbGxXaW5kb3dzKCkge1xyXG4gICAgICAgIHRoaXMud2luZG93cy5mb3JFYWNoKHdpbmRvdyA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgYWxsIHdpbmRvd3NcclxuICAgICAqL1xyXG4gICAgc2hvd0FsbFdpbmRvd3MoKSB7XHJcbiAgICAgICAgdGhpcy53aW5kb3dzLmZvckVhY2god2luZG93ID0+IHtcclxuICAgICAgICAgICAgaWYgKCF3aW5kb3cuaXNWaXNpYmxlICYmICF3aW5kb3cuaXNNaW5pbWl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZSBwb3NpdGlvbiBmb3IgbmV3IHdpbmRvd1xyXG4gICAgICovXHJcbiAgICBjYWxjdWxhdGVOZXdXaW5kb3dQb3NpdGlvbihhcHBJZCkge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nV2luZG93cyA9IHRoaXMuZ2V0V2luZG93c0J5QXBwKGFwcElkKTtcclxuICAgICAgICBjb25zdCBiYXNlUG9zaXRpb24gPSB7IC4uLnRoaXMuY29uZmlnLmRlZmF1bHRQb3NpdGlvbiB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChleGlzdGluZ1dpbmRvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXNlUG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0YWNrIHdpbmRvd3Mgd2l0aCBvZmZzZXRcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBleGlzdGluZ1dpbmRvd3MubGVuZ3RoICogdGhpcy5jb25maWcuc3RhY2tTcGFjaW5nO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGJhc2VQb3NpdGlvbi54ICsgb2Zmc2V0LFxyXG4gICAgICAgICAgICB5OiBiYXNlUG9zaXRpb24ueSArIG9mZnNldFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgc2NyZWVuIHJlc2l6ZVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVTY3JlZW5SZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy53aW5kb3dzLmZvckVhY2god2luZG93ID0+IHtcclxuICAgICAgICAgICAgLy8gRW5zdXJlIHdpbmRvd3Mgc3RheSB3aXRoaW4gc2NyZWVuIGJvdW5kc1xyXG4gICAgICAgICAgICBjb25zdCBtYXhYID0gd2luZG93LmlubmVyV2lkdGggLSB3aW5kb3cuc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgbWF4WSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHdpbmRvdy5zaXplLmhlaWdodDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cucG9zaXRpb24ueCA+IG1heFgpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRQb3NpdGlvbihNYXRoLm1heCgwLCBtYXhYKSwgd2luZG93LnBvc2l0aW9uLnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAod2luZG93LnBvc2l0aW9uLnkgPiBtYXhZKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0UG9zaXRpb24od2luZG93LnBvc2l0aW9uLngsIE1hdGgubWF4KDAsIG1heFkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVXBkYXRlIG1heGltaXplZCB3aW5kb3dzXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaXNNYXhpbWl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgd2luZG93IGNyZWF0ZWQgZXZlbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlV2luZG93Q3JlYXRlZChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFdpbmRvdyBjcmVhdGVkOiAke2RhdGEud2luZG93SWR9IGZvciBhcHA6ICR7ZGF0YS5hcHBJZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSB3aW5kb3cgZGVzdHJveWVkIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVdpbmRvd0Rlc3Ryb3llZChkYXRhKSB7XHJcbiAgICAgICAgY29uc3Qgd2luZG93ID0gdGhpcy53aW5kb3dzLmdldChkYXRhLndpbmRvd0lkKTtcclxuICAgICAgICBpZiAoIXdpbmRvdykgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGNvbGxlY3Rpb25zXHJcbiAgICAgICAgdGhpcy53aW5kb3dzLmRlbGV0ZShkYXRhLndpbmRvd0lkKTtcclxuICAgICAgICBjb25zdCBzdGFja0luZGV4ID0gdGhpcy53aW5kb3dTdGFjay5pbmRleE9mKGRhdGEud2luZG93SWQpO1xyXG4gICAgICAgIGlmIChzdGFja0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy53aW5kb3dTdGFjay5zcGxpY2Uoc3RhY2tJbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSBmb2N1c2VkIHdpbmRvd1xyXG4gICAgICAgIGlmICh0aGlzLmZvY3VzZWRXaW5kb3cgPT09IHdpbmRvdykge1xyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWRXaW5kb3cgPSBudWxsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRm9jdXMgbmV4dCB3aW5kb3cgaW4gc3RhY2tcclxuICAgICAgICAgICAgaWYgKHRoaXMud2luZG93U3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFdpbmRvd0lkID0gdGhpcy53aW5kb3dTdGFja1t0aGlzLndpbmRvd1N0YWNrLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFdpbmRvdyA9IHRoaXMuZ2V0V2luZG93KG5leHRXaW5kb3dJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dFdpbmRvdyAmJiBuZXh0V2luZG93LmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNXaW5kb3cobmV4dFdpbmRvd0lkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgV2luZG93IGRlc3Ryb3llZDogJHtkYXRhLndpbmRvd0lkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHdpbmRvdyBmb2N1c2VkIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVdpbmRvd0ZvY3VzZWQoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IHRoaXMuZ2V0V2luZG93KGRhdGEud2luZG93SWQpO1xyXG4gICAgICAgIGlmICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gd2luZG93O1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVUb1RvcChkYXRhLndpbmRvd0lkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgd2luZG93IG1pbmltaXplZCBldmVudFxyXG4gICAgICovXHJcbiAgICBoYW5kbGVXaW5kb3dNaW5pbWl6ZWQoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IHRoaXMuZ2V0V2luZG93KGRhdGEud2luZG93SWQpO1xyXG4gICAgICAgIGlmICh3aW5kb3cgJiYgdGhpcy5mb2N1c2VkV2luZG93ID09PSB3aW5kb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gbnVsbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEZvY3VzIG5leHQgdmlzaWJsZSB3aW5kb3dcclxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZVdpbmRvd3MgPSB0aGlzLmdldFZpc2libGVXaW5kb3dzKCk7XHJcbiAgICAgICAgICAgIGlmICh2aXNpYmxlV2luZG93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzV2luZG93KHZpc2libGVXaW5kb3dzW3Zpc2libGVXaW5kb3dzLmxlbmd0aCAtIDFdLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBhcHAgY2xvc2UgZXZlbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlQXBwQ2xvc2UoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHsgYXBwSWQgfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3QgYXBwV2luZG93cyA9IHRoaXMuZ2V0V2luZG93c0J5QXBwKGFwcElkKTtcclxuICAgICAgICBcclxuICAgICAgICBhcHBXaW5kb3dzLmZvckVhY2god2luZG93ID0+IHtcclxuICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYXBwIGNvbnRlbnQgY29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUFwcENvbnRlbnQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdhcHAtY29udGVudCc7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGNvbXBvbmVudDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBDb21wb25lbnQgY29uc3RydWN0b3JcclxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgY29tcG9uZW50KGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB3aW5kb3cgbWFuYWdlciBzdGF0aXN0aWNzXHJcbiAgICAgKi9cclxuICAgIGdldFN0YXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvdGFsV2luZG93czogdGhpcy53aW5kb3dzLnNpemUsXHJcbiAgICAgICAgICAgIHZpc2libGVXaW5kb3dzOiB0aGlzLmdldFZpc2libGVXaW5kb3dzKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICBmb2N1c2VkV2luZG93OiB0aGlzLmZvY3VzZWRXaW5kb3c/LmlkIHx8IG51bGwsXHJcbiAgICAgICAgICAgIHdpbmRvd1N0YWNrOiBbLi4udGhpcy53aW5kb3dTdGFja11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSB3aW5kb3cgbWFuYWdlciBhbmQgY2xlYW4gdXBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmNsb3NlQWxsV2luZG93cygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50QnVzLm9mZignd2luZG93OmNyZWF0ZWQnKTtcclxuICAgICAgICBFdmVudEJ1cy5vZmYoJ3dpbmRvdzpkZXN0cm95ZWQnKTtcclxuICAgICAgICBFdmVudEJ1cy5vZmYoJ3dpbmRvdzpmb2N1c2VkJyk7XHJcbiAgICAgICAgRXZlbnRCdXMub2ZmKCd3aW5kb3c6bWluaW1pemVkJyk7XHJcbiAgICAgICAgRXZlbnRCdXMub2ZmKCdhcHA6bGF1bmNoJyk7XHJcbiAgICAgICAgRXZlbnRCdXMub2ZmKCdhcHA6Y2xvc2UnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLndpbmRvd3MuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLndpbmRvd1N0YWNrID0gW107XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkV2luZG93ID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnV2luZG93TWFuYWdlciBkZXN0cm95ZWQnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2luZG93TWFuYWdlcjsiXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJXaW5kb3ciLCJXaW5kb3dNYW5hZ2VyIiwiX2NsYXNzQ2FsbENoZWNrIiwid2luZG93cyIsIk1hcCIsImZvY3VzZWRXaW5kb3ciLCJ3aW5kb3dTdGFjayIsImNvbmZpZyIsIm1heFdpbmRvd3MiLCJzdGFja1NwYWNpbmciLCJkZWZhdWx0UG9zaXRpb24iLCJ4IiwieSIsImtleWJvYXJkU2hvcnRjdXRzIiwiaW5pdCIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNldHVwS2V5Ym9hcmRTaG9ydGN1dHMiLCJjb25zb2xlIiwibG9nIiwiX3RoaXMiLCJvbiIsImRhdGEiLCJoYW5kbGVXaW5kb3dDcmVhdGVkIiwiaGFuZGxlV2luZG93RGVzdHJveWVkIiwiaGFuZGxlV2luZG93Rm9jdXNlZCIsImhhbmRsZVdpbmRvd01pbmltaXplZCIsImhhbmRsZUFwcENsb3NlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJibHVyQWxsV2luZG93cyIsIndpbmRvdyIsImhhbmRsZVNjcmVlblJlc2l6ZSIsIl90aGlzMiIsIm1ldGFLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImN5Y2xlV2luZG93cyIsImN5Y2xlQXBwV2luZG93cyIsInNoaWZ0S2V5IiwiY2xvc2VBbGxXaW5kb3dzIiwiYWx0S2V5IiwiaGlkZUFsbFdpbmRvd3MiLCJjcmVhdGVXaW5kb3ciLCJzaXplIiwid2FybiIsInBvc2l0aW9uIiwiY2FsY3VsYXRlTmV3V2luZG93UG9zaXRpb24iLCJhcHBJZCIsIndpbmRvd0NvbmZpZyIsIl9vYmplY3RTcHJlYWQiLCJyZWdpc3RlcldpbmRvdyIsInNldCIsImlkIiwicHVzaCIsImNvbmNhdCIsInRpdGxlIiwiZ2V0V2luZG93Iiwid2luZG93SWQiLCJnZXQiLCJnZXRXaW5kb3dzQnlBcHAiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJnZXRWaXNpYmxlV2luZG93cyIsImlzVmlzaWJsZSIsImZvY3VzV2luZG93IiwiYmx1ciIsImZvY3VzIiwibW92ZVRvVG9wIiwiZm9yRWFjaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIl90aGlzMyIsInZpc2libGVXaW5kb3dzIiwibGVuZ3RoIiwibmV4dEluZGV4IiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwidyIsIl90aGlzNCIsImFwcFdpbmRvd3MiLCJfdGhpczUiLCJ3aW5kb3dJZHMiLCJrZXlzIiwiY2xvc2UiLCJoaWRlIiwic2hvd0FsbFdpbmRvd3MiLCJpc01pbmltaXplZCIsInNob3ciLCJleGlzdGluZ1dpbmRvd3MiLCJiYXNlUG9zaXRpb24iLCJvZmZzZXQiLCJtYXhYIiwiaW5uZXJXaWR0aCIsIndpZHRoIiwibWF4WSIsImlubmVySGVpZ2h0IiwiaGVpZ2h0Iiwic2V0UG9zaXRpb24iLCJNYXRoIiwibWF4IiwiaXNNYXhpbWl6ZWQiLCJzZXRTaXplIiwic3RhY2tJbmRleCIsIm5leHRXaW5kb3dJZCIsIm5leHRXaW5kb3ciLCJjcmVhdGVBcHBDb250ZW50IiwiY29tcG9uZW50IiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwiY3NzVGV4dCIsImlubmVySFRNTCIsIkhUTUxFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbnN0YW5jZSIsImVsZW1lbnQiLCJnZXRTdGF0cyIsIl90aGlzJGZvY3VzZWRXaW5kb3ciLCJ0b3RhbFdpbmRvd3MiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJkZXN0cm95Iiwib2ZmIiwiY2xlYXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6451\n");

/***/ })

}]);